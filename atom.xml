<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FU&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/73cc2ea2ef5bc47deb559bec0ea4d367</icon>
  <subtitle>Fashion passes ,   style remains.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fujiafeng.com/"/>
  <updated>2020-01-05T13:30:53.499Z</updated>
  <id>http://fujiafeng.com/</id>
  
  <author>
    <name>Jiafeng Fu</name>
    <email>jiafengfu@github.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ES6 - å­—ç¬¦ä¸²çš„æ‰©å±•</title>
    <link href="http://fujiafeng.com/2020/01/05/ES6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/"/>
    <id>http://fujiafeng.com/2020/01/05/ES6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/</id>
    <published>2020-01-05T13:07:48.000Z</published>
    <updated>2020-01-05T13:30:53.499Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹</a></p><p><br></p><h3 id="å­—ç¬¦çš„-Unicode-è¡¨ç¤ºæ³•"><a href="#å­—ç¬¦çš„-Unicode-è¡¨ç¤ºæ³•" class="headerlink" title="å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•"></a>å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•</h3><p>JavaScript å…±æœ‰ 6 ç§æ–¹æ³•å¯ä»¥<strong>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦</strong>ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'\z'</span> === <span class="string">'z'</span>  <span class="comment">// true</span></span><br><span class="line"><span class="string">'\172'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">'\x7A'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">'\u007A'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">'\u&#123;7A&#125;'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ES6 åŠ å¼ºäº†å¯¹ Unicode çš„æ”¯æŒï¼Œå…è®¸é‡‡ç”¨ <code>\uxxxx</code> å½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­ <code>xxxx</code>è¡¨ç¤ºå­—ç¬¦çš„ <strong>Unicode ç ç‚¹</strong>ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§è¡¨ç¤ºæ³•åªé™äºç ç‚¹åœ¨ <code>\u0000</code> ~ <code>\uFFFF</code> ä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ <strong>ä¸¤ä¸ªåŒå­—èŠ‚</strong> çš„å½¢å¼è¡¨ç¤ºã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"\u0061"</span></span><br><span class="line"><span class="comment">// "a"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"\uD842\uDFB7"</span></span><br><span class="line"><span class="comment">// "ğ ®·"</span></span><br><span class="line"><span class="string">"\u20BB7"</span></span><br><span class="line"><span class="comment">// " 7"</span></span><br><span class="line"><span class="comment">// å¦‚æœç›´æ¥åœ¨\uåé¢è·Ÿä¸Šè¶…è¿‡0xFFFFçš„æ•°å€¼ï¼ˆæ¯”å¦‚\u20BB7ï¼‰ï¼ŒJavaScript ä¼šç†è§£æˆ\u20BB+7ã€‚ç”±äº\u20BBæ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦ï¼Œæ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼ï¼Œåé¢è·Ÿç€ä¸€ä¸ª7ã€‚</span></span><br></pre></td></tr></table></figure></p><p>ES6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œåªè¦ <strong>å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·</strong>ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"\u&#123;20BB7&#125;"</span></span><br><span class="line"><span class="comment">// "ğ ®·"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"\u&#123;41&#125;\u&#123;42&#125;\u&#123;43&#125;"</span></span><br><span class="line"><span class="comment">// "ABC"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> hello = <span class="number">123</span>;</span><br><span class="line">hell\u&#123;<span class="number">6</span>F&#125; <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\u&#123;1F680&#125;'</span> === <span class="string">'\uD83D\uDE80'</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åä¸€ä¸ªä¾‹å­è¡¨æ˜ï¼Œ<strong>å¤§æ‹¬å·è¡¨ç¤ºæ³•ä¸å››å­—èŠ‚çš„ UTF-16 ç¼–ç æ˜¯ç­‰ä»·</strong>çš„ã€‚</p><p><br><br><br><br><br></p><h3 id="å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£"><a href="#å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£" class="headerlink" title="å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£"></a>å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£</h3><p>ES6 ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨æ¥å£ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢« <strong><code>for...of</code> å¾ªç¯éå†</strong>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> codePoint <span class="keyword">of</span> <span class="string">'foo'</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(codePoint)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// "f"</span></span><br><span class="line"><span class="comment">// "o"</span></span><br><span class="line"><span class="comment">// "o"</span></span><br></pre></td></tr></table></figure></p><p>é™¤äº†éå†å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªéå†å™¨æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ <strong>å¯ä»¥è¯†åˆ«å¤§äº0xFFFFçš„ç ç‚¹</strong>ï¼Œä¼ ç»Ÿçš„forå¾ªç¯æ— æ³•è¯†åˆ«è¿™æ ·çš„ç ç‚¹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="built_in">String</span>.fromCodePoint(<span class="number">0x20BB7</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; text.length; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(text[i]);&#125;</span><br><span class="line"><span class="comment">// " "</span></span><br><span class="line"><span class="comment">// " "</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> text) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);&#125;</span><br><span class="line"><span class="comment">// "ğ ®·"</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²textåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯ <code>for</code> å¾ªç¯ä¼šè®¤ä¸ºå®ƒåŒ…å«ä¸¤ä¸ªå­—ç¬¦ï¼ˆéƒ½ä¸å¯æ‰“å°ï¼‰ï¼Œè€Œ <code>for...of</code> å¾ªç¯ä¼šæ­£ç¡®è¯†åˆ«å‡ºè¿™ä¸€ä¸ªå­—ç¬¦ã€‚</p><p><br><br><br><br><br></p><h3 id="ç›´æ¥è¾“å…¥-U-2028-å’Œ-U-2029"><a href="#ç›´æ¥è¾“å…¥-U-2028-å’Œ-U-2029" class="headerlink" title="ç›´æ¥è¾“å…¥ U+2028 å’Œ U+2029"></a>ç›´æ¥è¾“å…¥ U+2028 å’Œ U+2029</h3><p>JavaScript å­—ç¬¦ä¸²å…è®¸ <strong>ç›´æ¥è¾“å…¥å­—ç¬¦</strong>ï¼Œä»¥åŠ <strong>è¾“å…¥å­—ç¬¦çš„è½¬ä¹‰å½¢å¼</strong>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'ä¸­'</span> === <span class="string">'\u4e2d'</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ä½†æ˜¯ï¼ŒJavaScript è§„å®šæœ‰5ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œ<strong>åªèƒ½</strong> ä½¿ç”¨ <strong>è½¬ä¹‰å½¢å¼</strong>ï¼š</p><ol><li><strong>U+005C</strong>ï¼šåæ–œæ ï¼ˆreverse solidus)</li><li><strong>U+000D</strong>ï¼šå›è½¦ï¼ˆcarriage returnï¼‰</li><li><strong>U+2028</strong>ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰</li><li><strong>U+2029</strong>ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰</li><li><strong>U+000A</strong>ï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰</li></ol><blockquote><p><strong>JSON æ ¼å¼</strong> å…è®¸å­—ç¬¦ä¸²é‡Œé¢ <strong>ç›´æ¥ä½¿ç”¨</strong> U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚</p></blockquote><p>æœåŠ¡å™¨è¾“å‡ºçš„ JSON è¢« <code>JSON.parse</code> è§£æï¼Œå°±æœ‰å¯èƒ½ç›´æ¥æŠ¥é”™ã€‚</p><p><br><br><br><br><br></p><h3 id="JSON-stringify-çš„æ”¹é€ "><a href="#JSON-stringify-çš„æ”¹é€ " class="headerlink" title="JSON.stringify() çš„æ”¹é€ "></a>JSON.stringify() çš„æ”¹é€ </h3><p>æ ¹æ®æ ‡å‡†ï¼ŒJSON æ•°æ®å¿…é¡»æ˜¯ UTF-8 ç¼–ç ã€‚</p><blockquote><p>UTF-8 æ ‡å‡†è§„å®šï¼Œ<strong><code>0xD800</code> åˆ° <code>0xDFFF</code> ä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨</strong> ã€‚æ¯”å¦‚ï¼Œ<code>\uD834\uDF06</code>æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦ ğŒ†ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº <code>0xFFFF</code> çš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨ <code>\uD834</code> å’Œ <code>\uDFO6</code> è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œï¼Œå› ä¸º<code>\uDF06\uD834</code>å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚</p></blockquote><p><code>JSON.stringify()</code> çš„é—®é¢˜åœ¨äºï¼Œå®ƒå¯èƒ½è¿”å› <code>0xD800</code> åˆ° <code>0xDFFF</code> ä¹‹é—´çš„å•ä¸ªç ç‚¹ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">'\u&#123;D834&#125;'</span>) <span class="comment">// "\u&#123;D834&#125;"</span></span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†ç¡®ä¿è¿”å›çš„æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ï¼ŒES2019 æ”¹å˜äº†JSON.stringify()çš„è¡Œä¸ºã€‚å¦‚æœé‡åˆ°0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼šè¿”å›è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">'\u&#123;D834&#125;'</span>) <span class="comment">// ""\\uD834""</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">'\uDF06\uD834'</span>) <span class="comment">// ""\\udf06\\ud834""</span></span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p><h3 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h3><blockquote><p><strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong>ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨ <strong>åå¼•å·ï¼ˆ`ï¼‰</strong> æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰ <strong>å¤šè¡Œå­—ç¬¦ä¸²</strong>ï¼Œæˆ–è€… <strong>åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</strong>ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">`In JavaScript '\n' is a line-feed.`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šè¡Œå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">`In JavaScript this is</span></span><br><span class="line"><span class="string"> not legal.`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`string text line 1</span></span><br><span class="line"><span class="string">string text line 2`</span>);</span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">"Bob"</span>, time = <span class="string">"today"</span>;</span><br><span class="line"><span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éœ€è¦ä½¿ç”¨åå¼•å·ï¼Œåˆ™å‰é¢è¦ç”¨åæ–œæ è½¬ä¹‰ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting = <span class="string">`\`Yo\` World!`</span>;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œ<strong>æ‰€æœ‰çš„ ç©ºæ ¼ å’Œ ç¼©è¿› éƒ½ä¼šè¢«ä¿ç•™</strong>åœ¨è¾“å‡ºä¹‹ä¸­ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#list'</span>).html(<span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">  &lt;li&gt;first&lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;li&gt;second&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>);</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ä½¿ç”¨ <code>trim</code> æ–¹æ³•æ¶ˆé™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºç™½å­—ç¬¦ï¼ˆæ¢è¡Œç¬¦ã€ç©ºæ ¼åŠè¿ç»­ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦tabï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;#list&apos;).html(`</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;first&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;second&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">`.trim());</span><br></pre></td></tr></table></figure></p><p>æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ <strong>åµŒå…¥å˜é‡</strong>ï¼Œéœ€è¦å°†å˜é‡åå†™åœ¨ <code>${}</code> ä¹‹ä¸­ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">authorize</span>(<span class="params">user, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!user.hasPrivilege(action)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">      <span class="comment">// ä¼ ç»Ÿå†™æ³•ä¸º</span></span><br><span class="line">      <span class="comment">// 'User '</span></span><br><span class="line">      <span class="comment">// + user.name</span></span><br><span class="line">      <span class="comment">// + ' is not authorized to do '</span></span><br><span class="line">      <span class="comment">// + action</span></span><br><span class="line">      <span class="comment">// + '.'</span></span><br><span class="line">      <span class="string">`User <span class="subst">$&#123;user.name&#125;</span> is not authorized to do <span class="subst">$&#123;action&#125;</span>.`</span>);</span><br><span class="line">  &#125;&#125;</span><br></pre></td></tr></table></figure></p><p>å¤§æ‹¬å·å†…éƒ¨å¯ä»¥æ”¾å…¥ä»»æ„çš„ JavaScript è¡¨è¾¾å¼ï¼Œå¯ä»¥ <strong>è¿›è¡Œè¿ç®—</strong>ï¼Œä»¥åŠ <strong>å¼•ç”¨å¯¹è±¡å±æ€§</strong>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="string">`<span class="subst">$&#123;x&#125;</span> + <span class="subst">$&#123;y&#125;</span> = <span class="subst">$&#123;x + y&#125;</span>`</span></span><br><span class="line"><span class="comment">// "1 + 2 = 3"</span></span><br><span class="line"></span><br><span class="line"><span class="string">`<span class="subst">$&#123;x&#125;</span> + <span class="subst">$&#123;y * <span class="number">2</span>&#125;</span> = <span class="subst">$&#123;x + y * <span class="number">2</span>&#125;</span>`</span></span><br><span class="line"><span class="comment">// "1 + 4 = 5"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="string">`<span class="subst">$&#123;obj.x + obj.y&#125;</span>`</span></span><br><span class="line"><span class="comment">// "3"</span></span><br></pre></td></tr></table></figure></p><p>æ¨¡æ¿å­—ç¬¦ä¸²ä¹‹ä¸­è¿˜èƒ½ <strong>è°ƒç”¨å‡½æ•°</strong>ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"Hello World"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`foo <span class="subst">$&#123;fn()&#125;</span> bar`</span></span><br><span class="line"><span class="comment">// foo Hello World bar</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœå¤§æ‹¬å·ä¸­çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†æŒ‰ç…§ä¸€èˆ¬çš„è§„åˆ™è½¬ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>æ¨¡æ¿å­—ç¬¦ä¸²ç”šè‡³è¿˜èƒ½åµŒå¥—ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tmpl = <span class="function"><span class="params">addrs</span> =&gt;</span> <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;table&gt;</span></span><br><span class="line"><span class="string">  <span class="subst">$&#123;addrs.map(addr =&gt; <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &lt;tr&gt;&lt;td&gt;<span class="subst">$&#123;addr.first&#125;</span>&lt;/td&gt;&lt;/tr&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    &lt;tr&gt;&lt;td&gt;<span class="subst">$&#123;addr.last&#125;</span>&lt;/td&gt;&lt;/tr&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  `</span>).join(<span class="string">''</span>)&#125;</span></span></span><br><span class="line"><span class="string">  &lt;/table&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'&lt;Jane&gt;'</span>, <span class="attr">last</span>: <span class="string">'Bond'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Lars'</span>, <span class="attr">last</span>: <span class="string">'&lt;Croft&gt;'</span> &#125;,</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(tmpl(data));</span><br><span class="line"><span class="comment">// &lt;table&gt;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//   &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// &lt;/table&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœéœ€è¦å¼•ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æœ¬èº«ï¼Œåœ¨éœ€è¦æ—¶æ‰§è¡Œï¼Œå¯ä»¥å†™æˆå‡½æ•°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> func = <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>!`</span>;</span><br><span class="line">func(<span class="string">'Jack'</span>) <span class="comment">// "Hello Jack!"</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å†™æˆäº†ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ç›¸å½“äºæ‰§è¡Œè¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²äº†ã€‚</p><p><br><br><br><br><br></p><h3 id="å®ä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘"><a href="#å®ä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘" class="headerlink" title="å®ä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘"></a>å®ä¾‹ï¼šæ¨¡æ¿ç¼–è¯‘</h3><p>ï¼ˆå¾…è¡¥å……ï¼‰</p><p><br><br><br><br><br></p><h3 id="æ ‡ç­¾æ¨¡æ¿"><a href="#æ ‡ç­¾æ¨¡æ¿" class="headerlink" title="æ ‡ç­¾æ¨¡æ¿"></a>æ ‡ç­¾æ¨¡æ¿</h3><p>â€œæ ‡ç­¾æ¨¡æ¿â€åŠŸèƒ½ï¼ˆtagged templateï¼‰ï¼šâ€œæ ‡ç­¾æ¨¡æ¿â€å¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert<span class="string">`123`</span></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">alert(<span class="number">123</span>)</span><br></pre></td></tr></table></figure></p><p>æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯ <strong>å‡½æ•°è°ƒç”¨</strong> çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ¨¡æ¿å­—ç¬¦é‡Œé¢æœ‰å˜é‡ï¼Œå°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨äº†ï¼Œè€Œæ˜¯ä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">tag<span class="string">`Hello <span class="subst">$&#123; a + b &#125;</span> world <span class="subst">$&#123; a * b &#125;</span>`</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">tag([<span class="string">'Hello '</span>, <span class="string">' world '</span>, <span class="string">''</span>], <span class="number">15</span>, <span class="number">50</span>);</span><br><span class="line"><span class="comment">// è¿™æ˜¯å‡½æ•°å®é™…çš„è°ƒç”¨æ–¹å¼</span></span><br></pre></td></tr></table></figure></p><p>å‡½æ•°tagä¾æ¬¡ä¼šæ¥æ”¶åˆ°å¤šä¸ªå‚æ•°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params">stringArr, value1, value2</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params">stringArr, ...values</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>tag</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡æ›¿æ¢åªå‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¸ç¬¬äºŒä¸ªæˆå‘˜ä¹‹é—´ã€ç¬¬äºŒä¸ªæˆå‘˜ä¸ç¬¬ä¸‰ä¸ªæˆå‘˜ä¹‹é—´ï¼Œä»¥æ­¤ç±»æ¨ã€‚<code>tag</code>å‡½æ•°çš„å…¶ä»–å‚æ•°ï¼Œéƒ½æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²å„ä¸ªå˜é‡è¢«æ›¿æ¢åçš„å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> total = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">let</span> msg = passthru<span class="string">`The total is <span class="subst">$&#123;total&#125;</span> (<span class="subst">$&#123;total*<span class="number">1.05</span>&#125;</span> with tax)`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passthru</span>(<span class="params">literals</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (i &lt; literals.length) &#123;</span><br><span class="line">    result += literals[i++];</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="built_in">arguments</span>.length) &#123;</span><br><span class="line">      result += <span class="built_in">arguments</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">msg <span class="comment">// "The total is 30 (31.5 with tax)"</span></span><br></pre></td></tr></table></figure></p><p>passthruå‡½æ•°é‡‡ç”¨ rest å‚æ•°çš„å†™æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passthru</span>(<span class="params">literals, ...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> output = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">let</span> index;</span><br><span class="line">  <span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; values.length; index++) &#123;</span><br><span class="line">    output += literals[index] + values[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  output += literals[index]</span><br><span class="line">  <span class="keyword">return</span> output;&#125;</span><br></pre></td></tr></table></figure></p><p>â€œæ ‡ç­¾æ¨¡æ¿â€çš„é‡è¦åº”ç”¨ï¼š</p><p>ï¼ˆ1ï¼‰ <strong>è¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹</strong>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message =</span><br><span class="line">  SaferHTML<span class="string">`&lt;p&gt;<span class="subst">$&#123;sender&#125;</span> has sent you a message.&lt;/p&gt;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SaferHTML</span>(<span class="params">templateData</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> s = templateData[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> arg = <span class="built_in">String</span>(<span class="built_in">arguments</span>[i]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Escape special characters in the substitution.</span></span><br><span class="line">    s += arg.replace(<span class="regexp">/&amp;/g</span>, <span class="string">"&amp;amp;"</span>)</span><br><span class="line">            .replace(<span class="regexp">/&lt;/g</span>, <span class="string">"&amp;lt;"</span>)</span><br><span class="line">            .replace(<span class="regexp">/&gt;/g</span>, <span class="string">"&amp;gt;"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Don't escape special characters in the template.</span></span><br><span class="line">    s += templateData[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// senderå˜é‡å¾€å¾€æ˜¯ç”¨æˆ·æä¾›çš„ï¼Œç»è¿‡SaferHTMLå‡½æ•°å¤„ç†ï¼Œé‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦éƒ½ä¼šè¢«è½¬ä¹‰ã€‚</span></span><br><span class="line"><span class="keyword">let</span> sender = <span class="string">'&lt;script&gt;alert("abc")&lt;/script&gt;'</span>; <span class="comment">// æ¶æ„ä»£ç </span></span><br><span class="line"><span class="keyword">let</span> message = SaferHTML<span class="string">`&lt;p&gt;<span class="subst">$&#123;sender&#125;</span> has sent you a message.&lt;/p&gt;`</span>;</span><br><span class="line"></span><br><span class="line">message</span><br><span class="line"><span class="comment">// &lt;p&gt;&amp;lt;script&amp;gt;alert("abc")&amp;lt;/script&amp;gt; has sent you a message.&lt;/p&gt;</span></span><br></pre></td></tr></table></figure></p><p>ï¼ˆ2ï¼‰å¤šè¯­è¨€è½¬æ¢ï¼ˆå›½é™…åŒ–å¤„ç†ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i18n<span class="string">`Welcome to <span class="subst">$&#123;siteName&#125;</span>, you are visitor number <span class="subst">$&#123;visitorNumber&#125;</span>!`</span></span><br><span class="line"><span class="comment">// "æ¬¢è¿è®¿é—®xxxï¼Œæ‚¨æ˜¯ç¬¬xxxxä½è®¿é—®è€…ï¼"</span></span><br></pre></td></tr></table></figure></p><p>ï¼ˆ3ï¼‰æ¨¡æ‹Ÿ Mustache ä¹‹ç±»çš„æ¨¡æ¿åº“ï¼ˆæ·»åŠ æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯å¤„ç†ç­‰åŠŸèƒ½ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢çš„hashTemplateå‡½æ•°</span></span><br><span class="line"><span class="comment">// æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡æ¿å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> libraryHtml = hashTemplate<span class="string">`</span></span><br><span class="line"><span class="string">  &lt;ul&gt;</span></span><br><span class="line"><span class="string">    #for book in <span class="subst">$&#123;myBooks&#125;</span></span></span><br><span class="line"><span class="string">      &lt;li&gt;&lt;i&gt;#&#123;book.title&#125;&lt;/i&gt; by #&#123;book.author&#125;&lt;/li&gt;</span></span><br><span class="line"><span class="string">    #end</span></span><br><span class="line"><span class="string">  &lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ4ï¼‰åœ¨ JavaScript è¯­è¨€ä¹‹ä¸­åµŒå…¥å…¶ä»–è¯­è¨€<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jsx<span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;input</span></span><br><span class="line"><span class="string">      ref='input'</span></span><br><span class="line"><span class="string">      onChange='<span class="subst">$&#123;<span class="keyword">this</span>.handleChange&#125;</span>'</span></span><br><span class="line"><span class="string">      defaultValue='<span class="subst">$&#123;<span class="keyword">this</span>.state.value&#125;</span>' /&gt;</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;<span class="keyword">this</span>.state.value&#125;</span></span></span><br><span class="line"><span class="string">   &lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢çš„ä»£ç é€šè¿‡ <code>jsx</code> å‡½æ•°ï¼Œ<u>å°†ä¸€ä¸ª <strong>DOM å­—ç¬¦ä¸²</strong>è½¬ä¸º <strong>React å¯¹è±¡</strong></u>ã€‚</p><p>æ¨¡æ¿å¤„ç†å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²æ•°ç»„ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ªrawå±æ€§ï¼Œä¿å­˜è½¬ä¹‰åçš„åŸå­—ç¬¦ä¸²ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tag<span class="string">`First line\nSecond line`</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params">strings</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(strings.raw[<span class="number">0</span>]);</span><br><span class="line">  <span class="comment">// strings.raw[0] ä¸º "First line\\nSecond line"</span></span><br><span class="line">  <span class="comment">// æ‰“å°è¾“å‡º "First line\nSecond line"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œtagå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°stringsï¼Œæœ‰ä¸€ä¸ªrawå±æ€§ï¼Œä¹ŸæŒ‡å‘ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ•°ç»„çš„æˆå‘˜ä¸stringsæ•°ç»„å®Œå…¨ä¸€è‡´ã€‚æ¯”å¦‚ï¼Œstringsæ•°ç»„æ˜¯[â€œFirst line\nSecond lineâ€]ï¼Œé‚£ä¹ˆstrings.rawæ•°ç»„å°±æ˜¯[â€œFirst line\nSecond lineâ€]ã€‚ä¸¤è€…å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯å­—ç¬¦ä¸²é‡Œé¢çš„æ–œæ éƒ½è¢«è½¬ä¹‰äº†ã€‚æ¯”å¦‚ï¼Œstrings.raw æ•°ç»„ä¼šå°†\nè§†ä¸º\å’Œnä¸¤ä¸ªå­—ç¬¦ï¼Œè€Œä¸æ˜¯æ¢è¡Œç¬¦ã€‚è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿å–å¾—è½¬ä¹‰ä¹‹å‰çš„åŸå§‹æ¨¡æ¿è€Œè®¾è®¡çš„ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§&lt;a href=&quot;http://es6.ruanyifeng.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;å­—ç¬¦çš„-Unico
      
    
    </summary>
    
    
    
      <category term="ECMAScript" scheme="http://fujiafeng.com/tags/ECMAScript/"/>
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ES6 - å˜é‡çš„è§£æ„èµ‹å€¼</title>
    <link href="http://fujiafeng.com/2019/11/21/ES6-%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/"/>
    <id>http://fujiafeng.com/2019/11/21/ES6-%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/</id>
    <published>2019-11-21T15:23:18.000Z</published>
    <updated>2019-11-21T15:37:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹</a></p><blockquote><p><strong>è§£æ„</strong>ï¼ˆDestructuringï¼‰ï¼šES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p></blockquote><p><br></p><blockquote><p><strong>å¸¸è§ç”¨é€”</strong>ï¼š<br>ï¼ˆ1ï¼‰äº¤æ¢å˜é‡çš„å€¼ï¼›<br>ï¼ˆ2ï¼‰ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼›<br>ï¼ˆ3ï¼‰å‡½æ•°å‚æ•°çš„å®šä¹‰ï¼›<br>ï¼ˆ4ï¼‰æå– JSON æ•°æ®ï¼›<br>ï¼ˆ5ï¼‰å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ï¼›<br>ï¼ˆ6ï¼‰éå† Map ç»“æ„ï¼›<br>ï¼ˆ7ï¼‰è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•ã€‚</p></blockquote><p><br></p><h3 id="æ•°ç»„çš„è§£æ„èµ‹å€¼"><a href="#æ•°ç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°ç»„çš„è§£æ„èµ‹å€¼"></a>æ•°ç»„çš„è§£æ„èµ‹å€¼</h3><h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><p>æœ¬è´¨ä¸Šï¼Œè¿™ç§å†™æ³•å±äºâ€œ<strong>æ¨¡å¼åŒ¹é…</strong>â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äºundefinedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [foo, [[bar], baz]] = [<span class="number">1</span>, [[<span class="number">2</span>], <span class="number">3</span>]];</span><br><span class="line">foo <span class="comment">// 1</span></span><br><span class="line">bar <span class="comment">// 2</span></span><br><span class="line">baz <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [ , , third] = [<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="string">"baz"</span>];</span><br><span class="line">third <span class="comment">// "baz"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, , y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">head <span class="comment">// 1</span></span><br><span class="line">tail <span class="comment">// [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, y, ...z] = [<span class="string">'a'</span>];</span><br><span class="line">x <span class="comment">// "a"</span></span><br><span class="line">y <span class="comment">// undefined</span></span><br><span class="line">z <span class="comment">// []</span></span><br></pre></td></tr></table></figure></p><p>å¦ä¸€ç§æƒ…å†µæ˜¯ <strong>ä¸å®Œå…¨è§£æ„</strong>ï¼Œå³ç­‰å·å·¦è¾¹çš„æ¨¡å¼ï¼ŒåªåŒ¹é…ä¸€éƒ¨åˆ†çš„ç­‰å·å³è¾¹çš„æ•°ç»„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè§£æ„ä¾ç„¶å¯ä»¥æˆåŠŸã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x, y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, [b], d] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>];</span><br><span class="line">a <span class="comment">// 1</span></span><br><span class="line">b <span class="comment">// 2</span></span><br><span class="line">d <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><p>å¯¹äº <strong>Set ç»“æ„</strong>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„è§£æ„èµ‹å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x, y, z] = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]);</span><br><span class="line">x <span class="comment">// "a"</span></span><br></pre></td></tr></table></figure></p><p>äº‹å®ä¸Šï¼Œåªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰ <strong>Iterator æ¥å£</strong>ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fibs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> a;</span><br><span class="line">    [a, b] = [b, a + b];</span><br><span class="line">  &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [first, second, third, fourth, fifth, sixth] = fibs();</span><br><span class="line">sixth <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œfibsæ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼ˆå‚è§ã€ŠGenerator å‡½æ•°ã€‹ä¸€ç« ï¼‰ï¼ŒåŸç”Ÿå…·æœ‰ Iterator æ¥å£ã€‚è§£æ„èµ‹å€¼ä¼šä¾æ¬¡ä»è¿™ä¸ªæ¥å£è·å–å€¼ã€‚</p><p><br></p><h4 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><p>è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ã€‚</p><p>åªæœ‰å½“ä¸€ä¸ªæ•°ç»„æˆå‘˜<strong>ä¸¥æ ¼ç­‰äºundefined</strong>ï¼Œé»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [foo = <span class="literal">true</span>] = [];</span><br><span class="line">foo <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>]; <span class="comment">// x='a', y='b'</span></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>, <span class="literal">undefined</span>]; <span class="comment">// x='a', y='b'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>] = [<span class="literal">null</span>];</span><br><span class="line">x <span class="comment">// null</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœé»˜è®¤å€¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œå³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™ï¼Œæ‰ä¼šæ±‚å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'aaa'</span>);&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = f()] = [<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šè¿°ä»£ç ç­‰ä»·äº</span></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line"><span class="keyword">if</span> ([<span class="number">1</span>][<span class="number">0</span>] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">  x = f();</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  x = [<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><p>é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [];     <span class="comment">// x=1; y=1</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [<span class="number">2</span>];    <span class="comment">// x=2; y=2</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [<span class="number">1</span>, <span class="number">2</span>]; <span class="comment">// x=1; y=2</span></span><br><span class="line"><span class="keyword">let</span> [x = y, y = <span class="number">1</span>] = [];     <span class="comment">// ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure></p><blockquote><p>æ³¨æ„ï¼ŒES6 å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œåˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼ã€‚</p></blockquote><p><br><br><br></p><h3 id="å¯¹è±¡çš„è§£æ„èµ‹å€¼"><a href="#å¯¹è±¡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å¯¹è±¡çš„è§£æ„èµ‹å€¼"></a>å¯¹è±¡çš„è§£æ„èµ‹å€¼</h3><h4 id="åŸºæœ¬ç”¨æ³•-1"><a href="#åŸºæœ¬ç”¨æ³•-1" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><p>å¯¹è±¡çš„è§£æ„ä¸æ•°ç»„æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚æ•°ç»„çš„å…ƒç´ æ˜¯ <strong>æŒ‰æ¬¡åºæ’åˆ—</strong> çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›è€Œå¯¹è±¡çš„å±æ€§<strong>æ²¡æœ‰æ¬¡åº</strong>ï¼Œ<strong>å˜é‡å¿…é¡»ä¸å±æ€§åŒå</strong>ï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ã€‚</p><p>å¦‚æœè§£æ„å¤±è´¥ï¼Œå˜é‡çš„å€¼ç­‰äºundefinedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; bar, foo &#125; = &#123; <span class="attr">foo</span>: <span class="string">'aaa'</span>, <span class="attr">bar</span>: <span class="string">'bbb'</span> &#125;;</span><br><span class="line">foo <span class="comment">// "aaa"</span></span><br><span class="line">bar <span class="comment">// "bbb"</span></span><br><span class="line"><span class="keyword">let</span> &#123; baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">'aaa'</span>, <span class="attr">bar</span>: <span class="string">'bbb'</span> &#125;;</span><br><span class="line">baz <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p><p><strong>å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•ï¼Œèµ‹å€¼åˆ°æŸä¸ªå˜é‡</strong>ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹ä¸€</span></span><br><span class="line"><span class="keyword">let</span> &#123; log, sin, cos &#125; = <span class="built_in">Math</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹äºŒ</span></span><br><span class="line"><span class="keyword">const</span> &#123; log &#125; = <span class="built_in">console</span>;log(<span class="string">'hello'</span>) <span class="comment">// hello</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç çš„ä¾‹ä¸€å°†Mathå¯¹è±¡çš„å¯¹æ•°ã€æ­£å¼¦ã€ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•ï¼Œèµ‹å€¼åˆ°å¯¹åº”çš„å˜é‡ä¸Šï¼Œä½¿ç”¨èµ·æ¥å°±ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚ä¾‹äºŒå°†console.logèµ‹å€¼åˆ°logå˜é‡ã€‚</p><p>å¯¹è±¡çš„è§£æ„èµ‹å€¼æ˜¯ä¸‹é¢å½¢å¼çš„ç®€å†™ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: foo, <span class="attr">bar</span>: bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">'aaa'</span>, <span class="attr">bar</span>: <span class="string">'bbb'</span> &#125;;</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…ï¼Œè€Œä¸æ˜¯å‰è€…ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">'aaa'</span>, <span class="attr">bar</span>: <span class="string">'bbb'</span> &#125;;</span><br><span class="line">baz <span class="comment">// "aaa"</span></span><br><span class="line">foo <span class="comment">// error: foo is not defined</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œfooæ˜¯åŒ¹é…çš„æ¨¡å¼ï¼Œbazæ‰æ˜¯å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯å˜é‡bazï¼Œè€Œä¸æ˜¯æ¨¡å¼fooã€‚</p><p>ä¸æ•°ç»„ä¸€æ ·ï¼Œè§£æ„ä¹Ÿå¯ä»¥ç”¨äº åµŒå¥—ç»“æ„çš„å¯¹è±¡ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> node = &#123;</span><br><span class="line">  loc: &#123;</span><br><span class="line">    start: &#123;</span><br><span class="line">      line: <span class="number">1</span>,</span><br><span class="line">      column: <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; loc, <span class="attr">loc</span>: &#123; start &#125;, <span class="attr">loc</span>: &#123; <span class="attr">start</span>: &#123; line &#125;&#125; &#125; = node;</span><br><span class="line">line <span class="comment">// 1</span></span><br><span class="line">loc  <span class="comment">// Object &#123;start: Object&#125;</span></span><br><span class="line">start <span class="comment">// Object &#123;line: 1, column: 5&#125;</span></span><br></pre></td></tr></table></figure></p><p>è§£æ„èµ‹å€¼ä¸­ï¼Œ<code>ï¼š</code>å‰è¾¹çš„ locã€start éƒ½æ˜¯æ¨¡å¼ï¼Œä¸æ˜¯å˜é‡ã€‚</p><p>æ³¨æ„ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼å¯ä»¥å–åˆ°ç»§æ‰¿çš„å±æ€§ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(obj1, obj2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; foo &#125; = obj1;</span><br><span class="line">foo <span class="comment">// "bar"</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¯¹è±¡obj1çš„åŸå‹å¯¹è±¡æ˜¯obj2ã€‚fooå±æ€§ä¸æ˜¯obj1è‡ªèº«çš„å±æ€§ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ªobj2çš„å±æ€§ï¼Œè§£æ„èµ‹å€¼å¯ä»¥å–åˆ°è¿™ä¸ªå±æ€§ã€‚</p><p><br></p><h4 id="é»˜è®¤å€¼-1"><a href="#é»˜è®¤å€¼-1" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><p>é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äºundefinedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;&#125;;</span><br><span class="line">y <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">5</span>&#125;;</span><br><span class="line">y <span class="comment">// 5</span></span><br><span class="line"><span class="keyword">var</span> &#123; <span class="attr">message</span>: msg = <span class="string">'Something went wrong'</span> &#125; = &#123;&#125;;</span><br><span class="line">msg <span class="comment">// "Something went wrong"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">undefined</span>&#125;;</span><br><span class="line">x <span class="comment">// 3</span></span><br><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">null</span>&#125;;</span><br><span class="line">x <span class="comment">// null</span></span><br></pre></td></tr></table></figure></p><p><br></p><h4 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h4><p>ï¼ˆ1ï¼‰<u>å¦‚æœè¦å°†ä¸€ä¸ªå·²ç»å£°æ˜çš„å˜é‡ç”¨äºè§£æ„èµ‹å€¼ï¼Œå¿…é¡»éå¸¸å°å¿ƒã€‚</u><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line">&#123;x&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="comment">// SyntaxError: syntax error</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç çš„å†™æ³•ä¼šæŠ¥é”™ï¼Œå› ä¸º JavaScript å¼•æ“ä¼šå°†{x}ç†è§£æˆä¸€ä¸ªä»£ç å—ï¼Œä»è€Œå‘ç”Ÿè¯­æ³•é”™è¯¯ã€‚åªæœ‰ä¸å°†å¤§æ‹¬å·å†™åœ¨è¡Œé¦–ï¼Œé¿å… JavaScript å°†å…¶è§£é‡Šä¸ºä»£ç å—ï¼Œæ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line">(&#123;x&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;);</span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç å°†æ•´ä¸ªè§£æ„èµ‹å€¼è¯­å¥ï¼Œæ”¾åœ¨ä¸€ä¸ªåœ†æ‹¬å·é‡Œé¢ï¼Œå°±å¯ä»¥æ­£ç¡®æ‰§è¡Œã€‚</p><p>ï¼ˆ2ï¼‰<u>è§£æ„èµ‹å€¼å…è®¸ç­‰å·å·¦è¾¹çš„æ¨¡å¼ä¹‹ä¸­ï¼Œä¸æ”¾ç½®ä»»ä½•å˜é‡åã€‚</u>å› æ­¤ï¼Œå¯ä»¥å†™å‡ºéå¸¸å¤æ€ªçš„èµ‹å€¼è¡¨è¾¾å¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(&#123;&#125; = [<span class="literal">true</span>, <span class="literal">false</span>]);</span><br><span class="line">(&#123;&#125; = <span class="string">'abc'</span>);</span><br><span class="line">(&#123;&#125; = []);</span><br><span class="line"><span class="comment">// ä»¥ä¸Šè¡¨è¾¾å¼æ¯«æ— æ„ä¹‰ï¼Œä½†è¯­æ³•åˆæ³•</span></span><br></pre></td></tr></table></figure></p><p>ï¼ˆ3ï¼‰<u>ç”±äºæ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„ã€‚</u><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="number">0</span> : first, [arr.length - <span class="number">1</span>] : last&#125; = arr;</span><br><span class="line">first <span class="comment">// 1</span></span><br><span class="line">last <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡è§£æ„ã€‚æ•°ç»„arrçš„0é”®å¯¹åº”çš„å€¼æ˜¯1ï¼Œ[arr.length - 1]å°±æ˜¯2é”®ï¼Œå¯¹åº”çš„å€¼æ˜¯3ã€‚æ–¹æ‹¬å·è¿™ç§å†™æ³•ï¼Œå±äºâ€œ<strong>å±æ€§åè¡¨è¾¾å¼</strong>â€ã€‚ï¼ˆå¯¹è±¡çš„æ‰©å±•ï¼‰</p><p><br><br><br></p><h3 id="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"><a href="#å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼" class="headerlink" title="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"></a>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h3><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ª <strong>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</strong>ã€‚</p><p>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª <strong>lengthå±æ€§</strong>ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è§£æ„èµ‹å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c, d, e] = <span class="string">'hello'</span>;</span><br><span class="line">a <span class="comment">// "h"</span></span><br><span class="line">b <span class="comment">// "e"</span></span><br><span class="line">c <span class="comment">// "l"</span></span><br><span class="line">d <span class="comment">// "l"</span></span><br><span class="line">e <span class="comment">// "o"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">length</span> : len&#125; = <span class="string">'hello'</span>;</span><br><span class="line">len <span class="comment">// 5</span></span><br></pre></td></tr></table></figure></p><p><br><br><br></p><h3 id="æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼"><a href="#æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼"></a>æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼</h3><blockquote><p><strong>è§£æ„èµ‹å€¼çš„è§„åˆ™</strong>ï¼šåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œå°±å…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: s&#125; = <span class="number">123</span>;</span><br><span class="line">s === <span class="built_in">Number</span>.prototype.toString <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: s&#125; = <span class="literal">true</span>;</span><br><span class="line">s === <span class="built_in">Boolean</span>.prototype.toString <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">prop</span>: x &#125; = <span class="literal">undefined</span>; <span class="comment">// TypeError</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">prop</span>: y &#125; = <span class="literal">null</span>; <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°å€¼å’Œå¸ƒå°”å€¼çš„åŒ…è£…å¯¹è±¡éƒ½æœ‰toStringå±æ€§ï¼Œå› æ­¤å˜é‡séƒ½èƒ½å–åˆ°å€¼ã€‚</p><p>ç”±äºundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚</p><p><br><br><br></p><h3 id="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"><a href="#å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"></a>å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><p>å‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">[x, y]</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add([<span class="number">1</span>, <span class="number">2</span>]); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]].map(<span class="function">(<span class="params">[a, b]</span>) =&gt;</span> a + b);</span><br><span class="line"><span class="comment">// [ 3, 7 ]</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°addçš„å‚æ•°è¡¨é¢ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†åœ¨ä¼ å…¥å‚æ•°çš„é‚£ä¸€åˆ»ï¼Œæ•°ç»„å‚æ•°å°±è¢«è§£æ„æˆå˜é‡xå’Œyã€‚å¯¹äºå‡½æ•°å†…éƒ¨çš„ä»£ç æ¥è¯´ï¼Œå®ƒä»¬èƒ½æ„Ÿå—åˆ°çš„å‚æ•°å°±æ˜¯ <code>x</code> å’Œ <code>y</code> ã€‚</p><p>å‡½æ•°å‚æ•°çš„è§£æ„ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(&#123;<span class="attr">x</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></span><br><span class="line">move(&#123;<span class="attr">x</span>: <span class="number">3</span>&#125;); <span class="comment">// [3, 0]</span></span><br><span class="line">move(&#123;&#125;); <span class="comment">// [0, 0]</span></span><br><span class="line">move(); <span class="comment">// [0, 0]</span></span><br></pre></td></tr></table></figure></p><p>undefinedå°±ä¼šè§¦å‘å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">x = <span class="string">'yes'</span></span>) =&gt;</span> x);</span><br><span class="line"><span class="comment">// [ 1, 'yes', 3 ]</span></span><br></pre></td></tr></table></figure></p><p><br><br><br></p><h3 id="åœ†æ‹¬å·é—®é¢˜"><a href="#åœ†æ‹¬å·é—®é¢˜" class="headerlink" title="åœ†æ‹¬å·é—®é¢˜"></a>åœ†æ‹¬å·é—®é¢˜</h3><blockquote><p>ES6 çš„è§„åˆ™æ˜¯ï¼Œåªè¦æœ‰å¯èƒ½å¯¼è‡´è§£æ„çš„æ­§ä¹‰ï¼Œå°±ä¸å¾—ä½¿ç”¨åœ†æ‹¬å·ã€‚</p><p>å»ºè®®åªè¦æœ‰å¯èƒ½ï¼Œå°±ä¸è¦åœ¨æ¨¡å¼ä¸­æ”¾ç½®åœ†æ‹¬å·ã€‚</p></blockquote><h4 id="ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ"><a href="#ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ" class="headerlink" title="ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ"></a>ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ</h4><ol><li><p>å˜é‡å£°æ˜è¯­å¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨éƒ¨æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> [(a)] = [<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">x</span>: (c)&#125; = &#123;&#125;;<span class="keyword">let</span> (&#123;<span class="attr">x</span>: c&#125;) = &#123;&#125;;<span class="keyword">let</span> &#123;(x: c)&#125; = &#123;&#125;;<span class="keyword">let</span> &#123;(x): c&#125; = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">o</span>: (&#123; <span class="attr">p</span>: p &#125;) &#125; = &#123; <span class="attr">o</span>: &#123; <span class="attr">p</span>: <span class="number">2</span> &#125; &#125;;</span><br></pre></td></tr></table></figure></li><li><p>å‡½æ•°å‚æ•°ï¼ˆå±äºå˜é‡å£°æ˜ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[(z</span>)]) </span>&#123; <span class="keyword">return</span> z; &#125;</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[z,(x</span>)]) </span>&#123; <span class="keyword">return</span> x; &#125;</span><br></pre></td></tr></table></figure></li><li><p>èµ‹å€¼è¯­å¥çš„æ¨¡å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨éƒ¨æŠ¥é”™</span></span><br><span class="line">(&#123; <span class="attr">p</span>: a &#125;) = &#123; <span class="attr">p</span>: <span class="number">42</span> &#125;;</span><br><span class="line">([a]) = [<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">[(&#123; <span class="attr">p</span>: a &#125;), &#123; <span class="attr">x</span>: c &#125;] = [&#123;&#125;, &#123;&#125;];</span><br></pre></td></tr></table></figure></li></ol><p><br></p><h4 id="å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ"><a href="#å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ" class="headerlink" title="å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ"></a>å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µ</h4><p><strong><u>èµ‹å€¼è¯­å¥</u> çš„ <u>éæ¨¡å¼éƒ¨åˆ†</u></strong>ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[(b)] = [<span class="number">3</span>]; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">(&#123; <span class="attr">p</span>: (d) &#125; = &#123;&#125;); <span class="comment">// æ­£ç¡®</span></span><br><span class="line">[(<span class="built_in">parseInt</span>.prop)] = [<span class="number">3</span>]; <span class="comment">// æ­£ç¡®</span></span><br></pre></td></tr></table></figure></p><p><br><br><br></p><h3 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h3><p>ï¼ˆ1ï¼‰<strong>äº¤æ¢å˜é‡çš„å€¼</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">[x, y] = [y, x];</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ2ï¼‰<strong>ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼</strong><br>å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œå¦‚æœè¦è¿”å›å¤šä¸ªå€¼ï¼Œåªèƒ½å°†å®ƒä»¬æ”¾åœ¨ <strong>æ•°ç»„</strong> æˆ– <strong>å¯¹è±¡</strong> é‡Œè¿”å›ã€‚æœ‰äº†è§£æ„èµ‹å€¼ï¼Œå–å‡ºè¿™äº›å€¼å°±éå¸¸æ–¹ä¾¿ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = example();</span><br><span class="line">  </span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: <span class="number">1</span>,</span><br><span class="line">    bar: <span class="number">2</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ3ï¼‰<strong>å‡½æ•°å‚æ•°çš„å®šä¹‰</strong><br>è§£æ„èµ‹å€¼å¯ä»¥æ–¹ä¾¿åœ°å°† <strong>ä¸€ç»„å‚æ•°</strong> ä¸ <strong>å˜é‡å</strong> å¯¹åº”èµ·æ¥ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">[x, y, z]</span>) </span>&#123; ... &#125;</span><br><span class="line">f([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;x, y, z&#125;</span>) </span>&#123; ... &#125;</span><br><span class="line">f(&#123;<span class="attr">z</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">x</span>: <span class="number">1</span>&#125;);</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ4ï¼‰<strong>æå– JSON æ•°æ®</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonData = &#123;</span><br><span class="line">  id: <span class="number">42</span>,</span><br><span class="line">  status: <span class="string">"OK"</span>,</span><br><span class="line">  data: [<span class="number">867</span>, <span class="number">5309</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; id, status, <span class="attr">data</span>: number &#125; = jsonData;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(id, status, number);</span><br><span class="line"><span class="comment">// 42, "OK", [867, 5309]</span></span><br></pre></td></tr></table></figure></p><p>ï¼ˆ5ï¼‰<strong>å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span> (<span class="params">url, &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  async = true,</span></span></span><br><span class="line"><span class="function"><span class="params">  beforeSend = function (</span>) </span>&#123;&#125;,</span><br><span class="line">  cache = <span class="literal">true</span>,</span><br><span class="line">  complete = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  crossDomain = <span class="literal">false</span>,</span><br><span class="line">  global = <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// ... more config</span></span><br><span class="line">&#125; = &#123;&#125;) &#123;</span><br><span class="line">  <span class="comment">// ... do stuff</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±é¿å…äº†åœ¨å‡½æ•°ä½“å†…éƒ¨å†å†™ <code>var foo = config.foo || &#39;default foo&#39;;</code> è¿™æ ·çš„è¯­å¥ã€‚</p><p>ï¼ˆ6ï¼‰<strong>éå† Map ç»“æ„</strong><br>ä»»ä½•éƒ¨ç½²äº† Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨ <code>for...of</code> å¾ªç¯éå†ã€‚Map ç»“æ„åŸç”Ÿæ”¯æŒ Iterator æ¥å£ï¼Œé…åˆå˜é‡çš„è§£æ„èµ‹å€¼ï¼Œ<strong>è·å–é”®åå’Œé”®å€¼</strong> å°±éå¸¸æ–¹ä¾¿ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">'first'</span>, <span class="string">'hello'</span>);</span><br><span class="line">map.set(<span class="string">'second'</span>, <span class="string">'world'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">" is "</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first is hello</span></span><br><span class="line"><span class="comment">// second is world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–é”®å</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·å–é”®å€¼</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [,value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ï¼ˆ7ï¼‰<strong>è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•</strong><br>åŠ è½½æ¨¡å—æ—¶ï¼Œå¾€å¾€éœ€è¦æŒ‡å®šè¾“å…¥å“ªäº›æ–¹æ³•ã€‚è§£æ„èµ‹å€¼ä½¿å¾—è¾“å…¥è¯­å¥éå¸¸æ¸…æ™°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; SourceMapConsumer, SourceNode &#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§&lt;a href=&quot;http://es6.ruanyifeng.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è§£æ„&lt;/s
      
    
    </summary>
    
    
    
      <category term="ECMAScript" scheme="http://fujiafeng.com/tags/ECMAScript/"/>
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ES6 - letå’Œconstå‘½ä»¤</title>
    <link href="http://fujiafeng.com/2019/11/21/ES6-let%E5%92%8Cconst%E5%91%BD%E4%BB%A4/"/>
    <id>http://fujiafeng.com/2019/11/21/ES6-let%E5%92%8Cconst%E5%91%BD%E4%BB%A4/</id>
    <published>2019-11-21T15:07:06.000Z</published>
    <updated>2019-11-21T15:21:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹</a></p><h3 id="letå‘½ä»¤"><a href="#letå‘½ä»¤" class="headerlink" title="letå‘½ä»¤"></a>letå‘½ä»¤</h3><ul><li><code>let</code>å£°æ˜çš„å˜é‡åªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—æœ‰æ•ˆï¼›</li><li><code>for</code>å¾ªç¯ çš„è®¡æ•°å™¨ï¼Œé€‚åˆä½¿ç”¨ <code>let</code>å‘½ä»¤ï¼ˆè®¾ç½®å¾ªç¯å˜é‡çš„é‚£éƒ¨åˆ†æ˜¯ çˆ¶ä½œç”¨åŸŸï¼Œå¾ªç¯ä½“å†…éƒ¨ æ˜¯ä¸€ä¸ªå•ç‹¬çš„è‡ªä½œç”¨åŸŸï¼‰ï¼›</li><li><code>let</code> å‘½ä»¤<strong>ä¸å­˜åœ¨å˜é‡æå‡</strong>ï¼›</li><li><strong>æš‚æ—¶æ€§æ­»åŒº</strong>ï¼ˆTDZ=temporal dead zoneï¼‰ï¼šåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨ <code>let</code>å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡ä¸å¯ç”¨ï¼›</li><li>æš‚æ—¶æ€§æ­»åŒº æ„å‘³ç€ <code>typeof</code> ä¸å†æ˜¯ä¸€ä¸ªç™¾åˆ†ä¹‹ç™¾å®‰å…¨çš„æ“ä½œï¼ˆä½œä¸ºæ¯”è¾ƒï¼Œå¦‚æœä¸€ä¸ªå˜é‡æ ¹æœ¬æ²¡æœ‰è¢«å£°æ˜ï¼Œä½¿ç”¨ <code>typeof</code> åè€Œä¸ä¼šæŠ¥é”™ï¼‰</li><li><code>let</code> <strong>ä¸å…è®¸</strong>åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œ<strong>é‡å¤å£°æ˜</strong>åŒä¸€å˜é‡ï¼ˆä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°ï¼‰ï¼›</li></ul><p><br><br><br></p><h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><p>ES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œè¿™ä¼šå¯¼è‡´ï¼š</p><ol><li>å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡ï¼ˆå˜é‡æå‡ï¼‰ï¼›</li><li>ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ã€‚</li></ol><p><br></p><p>ES6å—çº§ä½œç”¨åŸŸ</p><p>letå®é™…ä¸Šä¸º JavaScript æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚</p><p>ES6 å…è®¸å—çº§ä½œç”¨åŸŸçš„ä»»æ„åµŒå¥—ã€‚</p><p>å—çº§ä½œç”¨åŸŸçš„å‡ºç°ï¼Œå®é™…ä¸Šä½¿å¾—è·å¾—å¹¿æ³›åº”ç”¨çš„åŒ¿åç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆåŒ¿å IIFEï¼‰ä¸å†å¿…è¦äº†ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IIFE å†™æ³•</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> tmp = ...;</span><br><span class="line">  ...&#125;());</span><br><span class="line"><span class="comment">// å—çº§ä½œç”¨åŸŸå†™æ³•</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> tmp = ...;</span><br><span class="line">  ...&#125;</span><br></pre></td></tr></table></figure></p><p>ES6 è§„å®šï¼Œå—çº§ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äºletï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨ã€‚</p><p>è€ƒè™‘åˆ°ç¯å¢ƒå¯¼è‡´çš„è¡Œä¸ºå·®å¼‚å¤ªå¤§ï¼Œåº”è¯¥é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œ <strong>å—çº§ä½œç”¨åŸŸå†…éƒ¨ï¼Œä¼˜å…ˆä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼</strong> ã€‚</p><p><br><br><br></p><h3 id="constå‘½ä»¤"><a href="#constå‘½ä»¤" class="headerlink" title="constå‘½ä»¤"></a>constå‘½ä»¤</h3><ul><li>constå£°æ˜ <strong>åªè¯»å¸¸é‡</strong>ï¼›</li><li>constä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡» <strong>ç«‹å³åˆå§‹åŒ–</strong>ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ï¼›</li><li>åªåœ¨å£°æ˜æ‰€åœ¨çš„ <strong>å—çº§ä½œç”¨åŸŸ</strong> å†…æœ‰æ•ˆï¼›</li><li>constå‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ï¼›</li><li>ä¸å¯é‡å¤å£°æ˜ã€‚</li></ul><blockquote><p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼ˆå³æ€»æ˜¯æŒ‡å‘å¦ä¸€ä¸ªå›ºå®šçš„åœ°å€ï¼‰ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚å› æ­¤ï¼Œå°†ä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸ºå¸¸é‡å¿…é¡»éå¸¸å°å¿ƒã€‚</p><p>å¦‚æœçœŸçš„æƒ³å°†å¯¹è±¡å†»ç»“ï¼Œåº”è¯¥ä½¿ç”¨Object.freezeæ–¹æ³•ã€‚</p><p><code>const foo = Object.freeze({});</code></p></blockquote><p><br><br><br></p><h3 id="ES6-å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•"><a href="#ES6-å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•" class="headerlink" title="ES6 å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•"></a>ES6 å£°æ˜å˜é‡çš„å…­ç§æ–¹æ³•</h3><ul><li>var å‘½ä»¤</li><li>function å‘½ä»¤</li><li>let å‘½ä»¤</li><li>const å‘½ä»¤</li><li>import å‘½ä»¤</li><li>class å‘½ä»¤</li></ul><p>ES5 åªæœ‰ä¸¤ç§å£°æ˜å˜é‡çš„æ–¹æ³•ï¼švarå‘½ä»¤å’Œfunctionå‘½ä»¤ã€‚</p><p><br><br><br></p><h3 id="é¡¶å±‚å¯¹è±¡çš„å±æ€§"><a href="#é¡¶å±‚å¯¹è±¡çš„å±æ€§" class="headerlink" title="é¡¶å±‚å¯¹è±¡çš„å±æ€§"></a>é¡¶å±‚å¯¹è±¡çš„å±æ€§</h3><blockquote><p><strong>é¡¶å±‚å¯¹è±¡</strong>ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯<strong>windowå¯¹è±¡</strong>ï¼Œåœ¨ Node æŒ‡çš„æ˜¯<strong>globalå¯¹è±¡</strong>ã€‚</p></blockquote><p>ES5 ä¹‹ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.a = <span class="number">1</span>;</span><br><span class="line">a <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">window</span>.a <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></p><p>è¿™å¯¼è‡´äº†å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li>æ²¡æ³•åœ¨ç¼–è¯‘æ—¶å°±æŠ¥å‡ºå˜é‡æœªå£°æ˜çš„é”™è¯¯ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼ˆå› ä¸ºå…¨å±€å˜é‡å¯èƒ½æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§åˆ›é€ çš„ï¼Œè€Œå±æ€§çš„åˆ›é€ æ˜¯åŠ¨æ€çš„ï¼‰ï¼›</li><li>ç¨‹åºå‘˜å¾ˆå®¹æ˜“ä¸çŸ¥ä¸è§‰åœ°å°±åˆ›å»ºäº†å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚æ‰“å­—å‡ºé”™ï¼‰ï¼›</li><li>é¡¶å±‚å¯¹è±¡çš„å±æ€§æ˜¯åˆ°å¤„å¯ä»¥è¯»å†™çš„ï¼Œè¿™éå¸¸ä¸åˆ©äºæ¨¡å—åŒ–ç¼–ç¨‹ã€‚</li></ol><p>ä» ES6 å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ï¼š</p><ol><li>ä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›</li><li>letå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// å¦‚æœåœ¨ Node çš„ REPL ç¯å¢ƒï¼Œå¯ä»¥å†™æˆ global.a</span></span><br><span class="line"><span class="comment">// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆ this.a</span></span><br><span class="line"><span class="built_in">window</span>.a <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">window</span>.b <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p><br><br><br></p><h3 id="globalThis-å¯¹è±¡"><a href="#globalThis-å¯¹è±¡" class="headerlink" title="globalThis å¯¹è±¡"></a>globalThis å¯¹è±¡</h3><p>JavaScript è¯­è¨€å­˜åœ¨ä¸€ä¸ªé¡¶å±‚å¯¹è±¡ï¼Œå®ƒæä¾›å…¨å±€ç¯å¢ƒï¼ˆå³å…¨å±€ä½œç”¨åŸŸï¼‰ï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯åœ¨è¿™ä¸ªç¯å¢ƒä¸­è¿è¡Œã€‚ä½†æ˜¯ï¼Œé¡¶å±‚å¯¹è±¡åœ¨å„ç§å®ç°é‡Œé¢æ˜¯ä¸ç»Ÿä¸€çš„ã€‚</p><ul><li>æµè§ˆå™¨é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯windowï¼Œä½† Node å’Œ Web Worker æ²¡æœ‰windowï¼›</li><li>æµè§ˆå™¨å’Œ Web Worker é‡Œé¢ï¼Œselfä¹ŸæŒ‡å‘é¡¶å±‚å¯¹è±¡ï¼Œä½†æ˜¯ Node æ²¡æœ‰selfï¼›</li><li>Node é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯globalï¼Œä½†å…¶ä»–ç¯å¢ƒéƒ½ä¸æ”¯æŒã€‚</li></ul><p>åŒä¸€æ®µä»£ç ä¸ºäº†èƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒï¼Œéƒ½èƒ½<strong>å–åˆ°é¡¶å±‚å¯¹è±¡</strong>ï¼Œç°åœ¨ä¸€èˆ¬æ˜¯ä½¿ç”¨ <strong>thiså˜é‡</strong>ï¼Œä½†æ˜¯æœ‰å±€é™æ€§ï¼š</p><ul><li>å…¨å±€ç¯å¢ƒä¸­ï¼Œthisä¼šè¿”å›é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼ŒNode æ¨¡å—å’Œ ES6 æ¨¡å—ä¸­ï¼Œthisè¿”å›çš„æ˜¯å½“å‰æ¨¡å—ï¼›</li><li>å‡½æ•°é‡Œé¢çš„thisï¼Œå¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿è¡Œï¼Œè€Œæ˜¯å•çº¯ä½œä¸ºå‡½æ•°è¿è¡Œï¼Œthisä¼šæŒ‡å‘é¡¶å±‚å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ—¶thisä¼šè¿”å›undefinedï¼›</li><li>ä¸ç®¡æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿˜æ˜¯æ™®é€šæ¨¡å¼ï¼Œnew Function(â€˜return thisâ€™)()ï¼Œæ€»æ˜¯ä¼šè¿”å›å…¨å±€å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœæµè§ˆå™¨ç”¨äº† CSPï¼ˆContent Security Policyï¼Œå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ï¼Œé‚£ä¹ˆevalã€new Functionè¿™äº›æ–¹æ³•éƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ã€‚</li></ul><p>æš‚æ—¶å¯ç”¨çš„è§£å†³æ–¹æ¡ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">(<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span></span><br><span class="line">   ? <span class="built_in">window</span></span><br><span class="line">   : (<span class="keyword">typeof</span> process === <span class="string">'object'</span> &amp;&amp;</span><br><span class="line">      <span class="keyword">typeof</span> <span class="built_in">require</span> === <span class="string">'function'</span> &amp;&amp;</span><br><span class="line">      <span class="keyword">typeof</span> global === <span class="string">'object'</span>)</span><br><span class="line">     ? global</span><br><span class="line">     : <span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> self; &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">window</span> !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> <span class="built_in">window</span>; &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> global !== <span class="string">'undefined'</span>) &#123; <span class="keyword">return</span> global; &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'unable to locate global object'</span>);&#125;;</span><br></pre></td></tr></table></figure></p><p>ç°åœ¨æœ‰ä¸€ä¸ªææ¡ˆï¼Œåœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ï¼Œ<u>å¼•å…¥ <strong>globalThis</strong> ä½œä¸º <strong>é¡¶å±‚å¯¹è±¡</strong></u>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•ç¯å¢ƒä¸‹ï¼ŒglobalThiséƒ½æ˜¯å­˜åœ¨çš„ï¼Œéƒ½å¯ä»¥ä»å®ƒæ‹¿åˆ°é¡¶å±‚å¯¹è±¡ï¼ŒæŒ‡å‘å…¨å±€ç¯å¢ƒä¸‹çš„thisã€‚</p><p><strong>å«ç‰‡åº“global-this</strong> æ¨¡æ‹Ÿäº†è¿™ä¸ªææ¡ˆï¼Œå¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒæ‹¿åˆ°globalThisã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡ä»…ä¸ºå­¦ä¹ ç¬”è®°ï¼Œè¯¦æƒ…è¯·è§&lt;a href=&quot;http://es6.ruanyifeng.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é˜®ä¸€å³°ã€ŠECMAScript å…¥é—¨ã€‹&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;letå‘½ä»¤&quot;&gt;&lt;a href=&quot;#letå‘½
      
    
    </summary>
    
    
    
      <category term="ECMAScript" scheme="http://fujiafeng.com/tags/ECMAScript/"/>
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å¤§çº¦åœ¨å†¬å­£</title>
    <link href="http://fujiafeng.com/2019/11/20/%E5%A4%A7%E7%BA%A6%E5%9C%A8%E5%86%AC%E5%AD%A3/"/>
    <id>http://fujiafeng.com/2019/11/20/%E5%A4%A7%E7%BA%A6%E5%9C%A8%E5%86%AC%E5%AD%A3/</id>
    <published>2019-11-19T16:00:06.000Z</published>
    <updated>2019-11-19T14:40:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>-26-</p><p>æ„Ÿè°¢çˆ±è¿‡çš„äººå’Œäº‹</p><p>ç»å†è¿‡çš„ç¾å¥½ç¬é—´</p><p>è®©æˆ‘æ— æƒ§å¹´é¾„çš„å¢é•¿</p><p>â€´ Be soft, be powerful </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;-26-&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢çˆ±è¿‡çš„äººå’Œäº‹&lt;/p&gt;
&lt;p&gt;ç»å†è¿‡çš„ç¾å¥½ç¬é—´&lt;/p&gt;
&lt;p&gt;è®©æˆ‘æ— æƒ§å¹´é¾„çš„å¢é•¿&lt;/p&gt;
&lt;p&gt;â€´ Be soft, be powerful &lt;/p&gt;

      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>ä¾§è€³å€¾å¬ Vol.5</title>
    <link href="http://fujiafeng.com/2019/11/07/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-5/"/>
    <id>http://fujiafeng.com/2019/11/07/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-5/</id>
    <published>2019-11-07T15:38:26.000Z</published>
    <updated>2019-11-19T14:32:04.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>#æŠ„å¥å­#</em></p><blockquote><p>ã€Œæˆ‘æ‰€æœ‰çš„è‡ªè² çš†ä¾†è‡ªæˆ‘çš„è‡ªå‘ï¼›<br>&emsp;&emsp;&emsp;æ‰€æœ‰çš„è‹±é›„æ°£æ¦‚éƒ½ä¾†è‡ªæ–¼æˆ‘çš„è»Ÿå¼±ã€‚<br>&emsp;&emsp;&emsp;å˜´è£¡æŒ¯æŒ¯æœ‰è©æ˜¯å› ç‚ºå¿ƒè£¡æ»¿æ˜¯æ‡·ç–‘ï¼Œ<br>&emsp;&emsp;&emsp;æ·±æƒ…æ˜¯å› ç‚ºç—›æ¨è‡ªå·±ç„¡æƒ…ã€‚<br>&emsp;&emsp;&emsp;é€™ä¸–ç•Œæ²’æœ‰ä¸€ä»¶äº‹æƒ…æ˜¯è™›ç©ºè€Œç”Ÿçš„ï¼Œ<br>&emsp;&emsp;&emsp;ç«™åœ¨å…‰é‡Œï¼ŒèƒŒå¾Œå°±æœƒæœ‰é™°å½±ï¼›<br>&emsp;&emsp;&emsp;é€™æ·±å¤œè£¡ä¸€ç‰‡å¯‚éœï¼Œ<br>&emsp;&emsp;&emsp;æ˜¯å› ç‚ºä½ é‚„æ²’æœ‰è½è¦‹è²éŸ³ã€‚ã€<br>&emsp;&emsp;&emsp;â€”â€” é¦¬è‰¯ ã€Šå¦ç™½æ›¸ã€‹</p></blockquote><p><br></p><blockquote><p>ã€Œä¸–ç•Œè¦å¦³åŠªåŠ›è€ƒå–åŠŸå<br>&emsp;&emsp;&emsp;ä½†çœŸèª æ‰æ˜¯æœ€å¤§çš„æœ¬é ˜ã€</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;#æŠ„å¥å­#&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œæˆ‘æ‰€æœ‰çš„è‡ªè² çš†ä¾†è‡ªæˆ‘çš„è‡ªå‘ï¼›&lt;br&gt;&amp;emsp;&amp;emsp;&amp;emsp;æ‰€æœ‰çš„è‹±é›„æ°£æ¦‚éƒ½ä¾†è‡ªæ–¼æˆ‘çš„è»Ÿå¼±ã€‚&lt;br&gt;&amp;emsp;&amp;emsp;&amp;emsp;å˜´è£¡æŒ¯æŒ¯æœ‰è©æ˜¯å› ç‚ºå¿ƒè£¡æ»¿æ˜¯æ‡·ç–‘ï¼Œ&lt;br&gt;&amp;emsp;&amp;
      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="ä¾§è€³å€¾å¬" scheme="http://fujiafeng.com/tags/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC/"/>
    
  </entry>
  
  <entry>
    <title>ã€å¤§æ•°æ®ç»„ä»¶ã€‘YARNç®€ä»‹</title>
    <link href="http://fujiafeng.com/2019/10/24/%E3%80%90%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6%E3%80%91YARN%E7%AE%80%E4%BB%8B/"/>
    <id>http://fujiafeng.com/2019/10/24/%E3%80%90%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6%E3%80%91YARN%E7%AE%80%E4%BB%8B/</id>
    <published>2019-10-24T15:33:53.000Z</published>
    <updated>2019-10-24T15:57:30.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Apache YARN</strong> ( Yet Another Resource Negotiator ) æ˜¯ hadoop 2.0 å¼•å…¥çš„ <strong>é›†ç¾¤èµ„æºç®¡ç†ç³»ç»Ÿ</strong> ã€‚ç”¨æˆ·å¯ä»¥å°†å„ç§æœåŠ¡æ¡†æ¶éƒ¨ç½²åœ¨ YARN ä¸Šï¼Œç”± YARN è¿›è¡Œç»Ÿä¸€åœ°ç®¡ç†å’Œèµ„æºåˆ†é…ã€‚<br></p><p><br></p><h2 id="YARNæ¶æ„"><a href="#YARNæ¶æ„" class="headerlink" title="YARNæ¶æ„"></a>YARNæ¶æ„</h2><p>YARN çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p><p>å°† MapReduce 1 ä¸­çš„ JobTrackerçš„ <strong>èµ„æºç®¡ç†</strong> å’Œ <strong>ä½œä¸šè°ƒåº¦</strong> ä¸¤ä¸ªåŠŸèƒ½åˆ†å¼€ï¼Œåˆ†åˆ«ç”± <strong>ResourceManager</strong> å’Œ <strong>ApplicationMaster</strong> è¿›ç¨‹æ¥å®ç°ã€‚</p><p>YARN æ”¯æŒå¤šç§è®¡ç®—æ¡†æ¶ è¿è¡Œåœ¨ä¸€ä¸ªé›†ç¾¤å½“ä¸­ï¼Œæ¯”å¦‚ MapReduceï¼ˆæ‰¹å¤„ç†ï¼‰ã€Stromï¼ˆåœ¨çº¿å¤„ç†ï¼‰ã€Sparkã€Flink ç­‰ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº† YARN èµ„æºè°ƒåº¦çš„æµç¨‹ï¼š<br><img src="/2019/10/24/ã€å¤§æ•°æ®ç»„ä»¶ã€‘YARNç®€ä»‹/yarnèµ„æºè°ƒåº¦æµç¨‹.png" title="yarnèµ„æºè°ƒåº¦æµç¨‹"></p><ul><li><strong>ResourceManager</strong> ï¼š<strong>å…¨å±€</strong>ï¼Œè´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„èµ„æºç®¡ç†å’Œè°ƒåº¦ï¼›</li><li><strong>ApplicationMaster</strong> ï¼šæ¯ä¸ª job æœ‰ä¸€ä¸ª ApplicationMasterï¼Œè´Ÿè´£åº”ç”¨ç¨‹åºç›¸å…³çš„äº‹åŠ¡ï¼Œæ¯”å¦‚ ä»»åŠ¡è°ƒåº¦ã€ä»»åŠ¡ç›‘æ§å’Œå®¹é”™ç­‰ï¼›</li><li><strong>NodeManager</strong> ï¼šå®¢æˆ·ç«¯æ¡†æ¶ï¼Œè´Ÿè´£containersï¼Œç›‘æ§ä»–ä»¬çš„ èµ„æºä½¿ç”¨ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œï¼‰å¹¶ä¸ŠæŠ¥ç»™ ResourceManager.</li></ul><hr><p><br></p><h3 id="ResourceManager"><a href="#ResourceManager" class="headerlink" title="ResourceManager"></a>ResourceManager</h3><p><code>ResourceManager</code> é€šå¸¸åœ¨ç‹¬ç«‹çš„æœºå™¨ä¸Šä»¥åå°è¿›ç¨‹çš„å½¢å¼è¿è¡Œï¼Œå®ƒæ˜¯æ•´ä¸ªé›†ç¾¤èµ„æºçš„ä¸»è¦åè°ƒè€…å’Œç®¡ç†è€…ã€‚</p><p><code>ResourceManager</code> è´Ÿè´£ç»™ç”¨æˆ·æäº¤çš„æ‰€æœ‰åº”ç”¨ç¨‹åºåˆ†é…èµ„æºï¼Œå®ƒæ ¹æ®åº”ç”¨ç¨‹åºä¼˜å…ˆçº§ã€é˜Ÿåˆ—å®¹é‡ã€ACLsã€æ•°æ®ä½ç½®ç­‰ä¿¡æ¯ï¼Œåšå‡ºå†³ç­–ï¼Œç„¶åä»¥å…±äº«çš„ã€å®‰å…¨çš„ã€å¤šç§Ÿæˆ·çš„æ–¹å¼åˆ¶å®šåˆ†é…ç­–ç•¥ï¼Œè°ƒåº¦é›†ç¾¤èµ„æºã€‚</p><p><strong>ä¸»è¦åŠŸèƒ½</strong>ï¼š</p><ol><li>ä¸å®¢æˆ·ç«¯äº¤äº’ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›</li><li>å¯åŠ¨å’Œç®¡ç† ApplicationMasterï¼Œå¹¶åœ¨å®ƒå¤±è´¥æ—¶ è¿›è¡Œé‡å¯ï¼›</li><li>ç®¡ç† NodeManagerï¼Œæ¥å—æ¥è‡ª NMçš„èµ„æºæ±‡æŠ¥ä¿¡æ¯ï¼Œä¸‹è¾¾ç®¡ç†æŒ‡ä»¤ï¼›</li><li>èµ„æºè°ƒåº¦å’Œç®¡ç†ï¼Œæ¥å— æ¥è‡ª AMçš„èµ„æºç”³è¯·è¯·æ±‚ï¼Œå¹¶è®© NMä¸ºä¹‹åˆ†é…èµ„æºã€‚</li></ol><p><br></p><h3 id="NodeManager"><a href="#NodeManager" class="headerlink" title="NodeManager"></a>NodeManager</h3><p><code>NodeManager</code> æ˜¯ YARN é›†ç¾¤ä¸­çš„å•ä¸ªè®¡ç®—èŠ‚ç‚¹çš„ç®¡ç†è€…ã€‚ä¸»è¦è´Ÿè´£è¯¥èŠ‚ç‚¹å†…æ‰€æœ‰å®¹å™¨Container çš„ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œç›‘è§†èµ„æºå’Œè·Ÿè¸ªèŠ‚ç‚¹å¥åº·ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p><ul><li>å¯åŠ¨æ—¶å‘ <code>ResourceManager</code> æ³¨å†Œå¹¶å®šæ—¶å‘é€å¿ƒè·³æ¶ˆæ¯ï¼Œç­‰å¾… <code>ResourceManager</code> çš„æŒ‡ä»¤ï¼›</li><li>ç»´æŠ¤ <code>Container</code> çš„ç”Ÿå‘½å‘¨æœŸï¼Œç›‘æ§ <code>Container</code> çš„èµ„æºä½¿ç”¨æƒ…å†µï¼›</li><li>ç®¡ç†ä»»åŠ¡è¿è¡Œæ—¶çš„ç›¸å…³ä¾èµ–ï¼Œæ ¹æ® <code>ApplicationMaster</code> çš„éœ€è¦ï¼Œåœ¨å¯åŠ¨ <code>Container</code> ä¹‹å‰å°†éœ€è¦çš„ç¨‹åºåŠå…¶ä¾èµ–æ‹·è´åˆ°æœ¬åœ°ã€‚</li></ul><p><br></p><h3 id="ApplicationMaster"><a href="#ApplicationMaster" class="headerlink" title="ApplicationMaster"></a>ApplicationMaster</h3><p>åœ¨ç”¨æˆ·æäº¤ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼ŒYARN ä¼šå¯åŠ¨ä¸€ä¸ªè½»é‡çº§çš„è¿›ç¨‹ <code>ApplicationMaster</code>ã€‚<code>ApplicationMaster</code> è´Ÿè´£åè°ƒæ¥è‡ª <code>ResourceManager</code> çš„èµ„æºï¼Œå¹¶é€šè¿‡ <code>NodeManager</code> ç›‘è§†å®¹å™¨å†…èµ„æºçš„ä½¿ç”¨æƒ…å†µï¼ŒåŒæ—¶è¿˜è´Ÿè´£ä»»åŠ¡çš„ç›‘æ§ä¸å®¹é”™ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p><ul><li>æ ¹æ®åº”ç”¨çš„è¿è¡ŒçŠ¶æ€æ¥å†³å®šåŠ¨æ€è®¡ç®—èµ„æºéœ€æ±‚ï¼›</li><li>å‘ <code>ResourceManager</code> ç”³è¯·èµ„æºï¼Œç›‘æ§ç”³è¯·çš„èµ„æºçš„ä½¿ç”¨æƒ…å†µï¼›</li><li>è·Ÿè¸ªä»»åŠ¡çŠ¶æ€å’Œè¿›åº¦ï¼ŒæŠ¥å‘Šèµ„æºçš„ä½¿ç”¨æƒ…å†µå’Œåº”ç”¨çš„è¿›åº¦ä¿¡æ¯ï¼›</li><li>è´Ÿè´£ä»»åŠ¡çš„å®¹é”™ã€‚</li></ul><p><br></p><h3 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h3><p><code>Container</code> æ˜¯ YARN ä¸­çš„èµ„æºæŠ½è±¡ï¼Œå®ƒå°è£…äº†æŸä¸ªèŠ‚ç‚¹ä¸Šçš„å¤šç»´åº¦èµ„æºï¼Œå¦‚å†…å­˜ã€CPUã€ç£ç›˜ã€ç½‘ç»œç­‰ã€‚å½“ AM å‘ RM ç”³è¯·èµ„æºæ—¶ï¼ŒRM ä¸º AM è¿”å›çš„èµ„æºæ˜¯ç”¨ <code>Container</code> è¡¨ç¤ºçš„ã€‚YARN ä¼šä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…ä¸€ä¸ª <code>Container</code>ï¼Œè¯¥ä»»åŠ¡åªèƒ½ä½¿ç”¨è¯¥ <code>Container</code> ä¸­æè¿°çš„èµ„æºã€‚<code>ApplicationMaster</code> å¯åœ¨ <code>Container</code> å†…è¿è¡Œä»»ä½•ç±»å‹çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œ<code>MapReduce ApplicationMaster</code> è¯·æ±‚ä¸€ä¸ªå®¹å™¨æ¥å¯åŠ¨ map æˆ– reduce ä»»åŠ¡ï¼Œè€Œ <code>Giraph ApplicationMaster</code> è¯·æ±‚ä¸€ä¸ªå®¹å™¨æ¥è¿è¡Œ Giraph ä»»åŠ¡ã€‚</p><p><br><br><br><br><br></p><h2 id="YARNå·¥ä½œåŸç†ç®€è¿°"><a href="#YARNå·¥ä½œåŸç†ç®€è¿°" class="headerlink" title="YARNå·¥ä½œåŸç†ç®€è¿°"></a>YARNå·¥ä½œåŸç†ç®€è¿°</h2><img src="/2019/10/24/ã€å¤§æ•°æ®ç»„ä»¶ã€‘YARNç®€ä»‹/yarnå·¥ä½œåŸç†ç®€è¿°.png" title="yarnå·¥ä½œåŸç†ç®€è¿°"><ol><li><code>Client</code> æäº¤ä½œä¸šåˆ° YARN ä¸Šï¼›</li><li><code>Resource Manager</code> é€‰æ‹©ä¸€ä¸ª <code>Node Manager</code>ï¼Œå¯åŠ¨ä¸€ä¸ª <code>Container</code> å¹¶è¿è¡Œ <code>Application Master</code> å®ä¾‹ï¼›</li><li><code>Application Master</code> æ ¹æ®å®é™…éœ€è¦å‘ <code>Resource Manager</code> è¯·æ±‚æ›´å¤šçš„ <code>Container</code> èµ„æºï¼ˆå¦‚æœä½œä¸šå¾ˆå°, åº”ç”¨ç®¡ç†å™¨ä¼šé€‰æ‹©åœ¨å…¶è‡ªå·±çš„ JVM ä¸­è¿è¡Œä»»åŠ¡ï¼‰ï¼›</li><li><code>Application Master</code> é€šè¿‡è·å–åˆ°çš„ <code>Container</code> èµ„æºæ‰§è¡Œåˆ†å¸ƒå¼è®¡ç®—ã€‚</li></ol><p><br><br><br><br><br></p><h2 id="YARNå·¥ä½œåŸç†è¯¦è¿°"><a href="#YARNå·¥ä½œåŸç†è¯¦è¿°" class="headerlink" title="YARNå·¥ä½œåŸç†è¯¦è¿°"></a>YARNå·¥ä½œåŸç†è¯¦è¿°</h2><img src="/2019/10/24/ã€å¤§æ•°æ®ç»„ä»¶ã€‘YARNç®€ä»‹/yarnå·¥ä½œåŸç†è¯¦è¿°.png" title="yarnå·¥ä½œåŸç†è¯¦è¿°"><ol><li><strong>ä½œä¸šæäº¤</strong></li></ol><p>client è°ƒç”¨ job.waitForCompletion æ–¹æ³•ï¼Œå‘æ•´ä¸ªé›†ç¾¤æäº¤ MapReduce ä½œä¸š (ç¬¬ 1 æ­¥) ã€‚æ–°çš„ä½œä¸š ID(åº”ç”¨ ID) ç”±èµ„æºç®¡ç†å™¨åˆ†é… (ç¬¬ 2 æ­¥)ã€‚ä½œä¸šçš„ client æ ¸å®ä½œä¸šçš„è¾“å‡º, è®¡ç®—è¾“å…¥çš„ split, å°†ä½œä¸šçš„èµ„æº (åŒ…æ‹¬ Jar åŒ…ï¼Œé…ç½®æ–‡ä»¶, split ä¿¡æ¯) æ‹·è´ç»™ HDFS(ç¬¬ 3 æ­¥)ã€‚ æœ€å, é€šè¿‡è°ƒç”¨èµ„æºç®¡ç†å™¨çš„ submitApplication() æ¥æäº¤ä½œä¸š (ç¬¬ 4 æ­¥)ã€‚</p><ol><li><strong>ä½œä¸šåˆå§‹åŒ–</strong></li></ol><p>å½“èµ„æºç®¡ç†å™¨æ”¶åˆ° submitApplciation() çš„è¯·æ±‚æ—¶, å°±å°†è¯¥è¯·æ±‚å‘ç»™è°ƒåº¦å™¨ (scheduler), è°ƒåº¦å™¨åˆ†é… container, ç„¶åèµ„æºç®¡ç†å™¨åœ¨è¯¥ container å†…å¯åŠ¨åº”ç”¨ç®¡ç†å™¨è¿›ç¨‹, ç”±èŠ‚ç‚¹ç®¡ç†å™¨ç›‘æ§ (ç¬¬ 5 æ­¥)ã€‚</p><p>MapReduce ä½œä¸šçš„åº”ç”¨ç®¡ç†å™¨æ˜¯ä¸€ä¸ªä¸»ç±»ä¸º MRAppMaster çš„ Java åº”ç”¨ï¼Œå…¶é€šè¿‡åˆ›é€ ä¸€äº› bookkeeping å¯¹è±¡æ¥ç›‘æ§ä½œä¸šçš„è¿›åº¦, å¾—åˆ°ä»»åŠ¡çš„è¿›åº¦å’Œå®ŒæˆæŠ¥å‘Š (ç¬¬ 6 æ­¥)ã€‚ç„¶åå…¶é€šè¿‡åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå¾—åˆ°ç”±å®¢æˆ·ç«¯è®¡ç®—å¥½çš„è¾“å…¥ split(ç¬¬ 7 æ­¥)ï¼Œç„¶åä¸ºæ¯ä¸ªè¾“å…¥ split åˆ›å»ºä¸€ä¸ª map ä»»åŠ¡, æ ¹æ® mapreduce.job.reduces åˆ›å»º reduce ä»»åŠ¡å¯¹è±¡ã€‚</p><ol><li><strong>ä»»åŠ¡åˆ†é…</strong></li></ol><p>å¦‚æœä½œä¸šå¾ˆå°, åº”ç”¨ç®¡ç†å™¨ä¼šé€‰æ‹©åœ¨å…¶è‡ªå·±çš„ JVM ä¸­è¿è¡Œä»»åŠ¡ã€‚</p><p>å¦‚æœä¸æ˜¯å°ä½œä¸š, é‚£ä¹ˆåº”ç”¨ç®¡ç†å™¨å‘èµ„æºç®¡ç†å™¨è¯·æ±‚ container æ¥è¿è¡Œæ‰€æœ‰çš„ map å’Œ reduce ä»»åŠ¡ (ç¬¬ 8 æ­¥)ã€‚è¿™äº›è¯·æ±‚æ˜¯é€šè¿‡å¿ƒè·³æ¥ä¼ è¾“çš„, åŒ…æ‹¬æ¯ä¸ª map ä»»åŠ¡çš„æ•°æ®ä½ç½®ï¼Œæ¯”å¦‚å­˜æ”¾è¾“å…¥ split çš„ä¸»æœºåå’Œæœºæ¶ (rack)ï¼Œè°ƒåº¦å™¨åˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥è°ƒåº¦ä»»åŠ¡ï¼Œå°½é‡å°†ä»»åŠ¡åˆ†é…ç»™å­˜å‚¨æ•°æ®çš„èŠ‚ç‚¹, æˆ–è€…åˆ†é…ç»™å’Œå­˜æ”¾è¾“å…¥ split çš„èŠ‚ç‚¹ç›¸åŒæœºæ¶çš„èŠ‚ç‚¹ã€‚</p><ol><li><strong>ä»»åŠ¡è¿è¡Œ</strong></li></ol><p>å½“ä¸€ä¸ªä»»åŠ¡ç”±èµ„æºç®¡ç†å™¨çš„è°ƒåº¦å™¨åˆ†é…ç»™ä¸€ä¸ª container åï¼Œåº”ç”¨ç®¡ç†å™¨é€šè¿‡è”ç³»èŠ‚ç‚¹ç®¡ç†å™¨æ¥å¯åŠ¨ container(ç¬¬ 9 æ­¥)ã€‚ä»»åŠ¡ç”±ä¸€ä¸ªä¸»ç±»ä¸º YarnChild çš„ Java åº”ç”¨æ‰§è¡Œï¼Œ åœ¨è¿è¡Œä»»åŠ¡ä¹‹å‰é¦–å…ˆæœ¬åœ°åŒ–ä»»åŠ¡éœ€è¦çš„èµ„æºï¼Œæ¯”å¦‚ä½œä¸šé…ç½®ï¼ŒJAR æ–‡ä»¶, ä»¥åŠåˆ†å¸ƒå¼ç¼“å­˜çš„æ‰€æœ‰æ–‡ä»¶ (ç¬¬ 10 æ­¥ã€‚ æœ€å, è¿è¡Œ map æˆ– reduce ä»»åŠ¡ (ç¬¬ 11 æ­¥)ã€‚</p><p>YarnChild è¿è¡Œåœ¨ä¸€ä¸ªä¸“ç”¨çš„ JVM ä¸­, ä½†æ˜¯ YARN ä¸æ”¯æŒ JVM é‡ç”¨ã€‚</p><ol><li><strong>è¿›åº¦å’ŒçŠ¶æ€æ›´æ–°</strong></li></ol><p>YARN ä¸­çš„ä»»åŠ¡å°†å…¶è¿›åº¦å’ŒçŠ¶æ€ (åŒ…æ‹¬ counter) è¿”å›ç»™åº”ç”¨ç®¡ç†å™¨, å®¢æˆ·ç«¯æ¯ç§’ (é€š mapreduce.client.progressmonitor.pollinterval è®¾ç½®) å‘åº”ç”¨ç®¡ç†å™¨è¯·æ±‚è¿›åº¦æ›´æ–°, å±•ç¤ºç»™ç”¨æˆ·ã€‚</p><ol><li><strong>ä½œä¸šå®Œæˆ</strong></li></ol><p>é™¤äº†å‘åº”ç”¨ç®¡ç†å™¨è¯·æ±‚ä½œä¸šè¿›åº¦å¤–, å®¢æˆ·ç«¯æ¯ 5 åˆ†é’Ÿéƒ½ä¼šé€šè¿‡è°ƒç”¨ waitForCompletion() æ¥æ£€æŸ¥ä½œä¸šæ˜¯å¦å®Œæˆï¼Œæ—¶é—´é—´éš”å¯ä»¥é€šè¿‡ mapreduce.client.completion.pollinterval æ¥è®¾ç½®ã€‚ä½œä¸šå®Œæˆä¹‹å, åº”ç”¨ç®¡ç†å™¨å’Œ container ä¼šæ¸…ç†å·¥ä½œçŠ¶æ€ï¼Œ OutputCommiter çš„ä½œä¸šæ¸…ç†æ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚ä½œä¸šçš„ä¿¡æ¯ä¼šè¢«ä½œä¸šå†å²æœåŠ¡å™¨å­˜å‚¨ä»¥å¤‡ä¹‹åç”¨æˆ·æ ¸æŸ¥ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Apache YARN&lt;/strong&gt; ( Yet Another Resource Negotiator ) æ˜¯ hadoop 2.0 å¼•å…¥çš„ &lt;strong&gt;é›†ç¾¤èµ„æºç®¡ç†ç³»ç»Ÿ&lt;/strong&gt; ã€‚ç”¨æˆ·å¯ä»¥å°†å„ç§æœåŠ¡æ¡†æ¶éƒ¨ç½²åœ¨ YARN ä¸Šï¼Œç”± YARN
      
    
    </summary>
    
    
    
      <category term="å¤§æ•°æ®" scheme="http://fujiafeng.com/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹</title>
    <link href="http://fujiafeng.com/2019/10/21/%E3%80%90%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6%E3%80%91HDFS%E7%AE%80%E4%BB%8B/"/>
    <id>http://fujiafeng.com/2019/10/21/%E3%80%90%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6%E3%80%91HDFS%E7%AE%80%E4%BB%8B/</id>
    <published>2019-10-21T14:49:48.000Z</published>
    <updated>2019-10-21T15:23:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>HDFS</strong> = Hadoop Distributed File System</p><p><strong>Hadoop åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</strong></p><p>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼šç»Ÿä¸€ç®¡ç† åˆ†å¸ƒåœ¨é›†ç¾¤ä¸Š çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p></blockquote><p><br><br><br></p><h2 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2><h3 id="HDFS-ä¼˜ç‚¹ä¸å±€é™"><a href="#HDFS-ä¼˜ç‚¹ä¸å±€é™" class="headerlink" title="HDFS ä¼˜ç‚¹ä¸å±€é™"></a>HDFS ä¼˜ç‚¹ä¸å±€é™</h3><p>ä¼˜ç‚¹ï¼š</p><ol><li><strong>é«˜åº¦å®¹é”™æ€§</strong>ï¼Œé€‚åˆéƒ¨ç½²åœ¨ å»‰ä»·çš„æœºå™¨ä¸Šï¼›</li><li>æä¾› <strong>é«˜ååé‡</strong> çš„æ•°æ®è®¿é—®ï¼Œé€‚ç”¨äº <strong>å¤§è§„æ¨¡æ•°æ®é›†ï¼ˆLarge Data Setï¼‰</strong>ï¼›</li><li><strong>æµå¼è¯»å–</strong> æ–‡ä»¶ç³»ç»Ÿæ•°æ®ï¼Œä¸€æ¬¡å†™å…¥ï¼Œå¤šæ¬¡è¯»å–ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œåªèƒ½è¿½åŠ ã€‚èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li></ol><blockquote><p>æ³¨ï¼šå¤§è§„æ¨¡æ•°æ®é›†ï¼ŒæŒ‡ 10^2 MB/GB/TB/PB çº§åˆ«ã€‚</p></blockquote><p>å±€é™ï¼š</p><ol><li>ä¸æ”¯æŒ ä½å»¶è¿Ÿè®¿é—®ï¼ˆæ¯«ç§’çº§ï¼‰ï¼›</li><li>ä¸é€‚åˆ å¤§é‡çš„å°æ–‡ä»¶å­˜å‚¨ï¼›</li><li>ä¸æ”¯æŒ å¹¶å‘å†™å…¥ï¼›</li><li>ä¸æ”¯æŒä¿®æ”¹ã€‚</li></ol><p><br></p><h3 id="è®¾è®¡æ€æƒ³"><a href="#è®¾è®¡æ€æƒ³" class="headerlink" title="è®¾è®¡æ€æƒ³"></a>è®¾è®¡æ€æƒ³</h3><p><strong>åˆ†è€Œæ²»ä¹‹</strong> â€” å°†å¤§æ–‡ä»¶ã€å¤§æ‰¹é‡æ–‡ä»¶ï¼Œåˆ†å¸ƒå¼å­˜æ”¾åœ¨å¤§é‡æœåŠ¡å™¨ä¸Šï¼Œä»¥ä¾¿äºé‡‡å– åˆ†è€Œæ²»ä¹‹ çš„æ–¹å¼å¯¹æµ·é‡æ•°æ®è¿›è¡Œåˆ†æè¿ç®—ã€‚</p><p><br></p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>åœ¨ å¤§æ•°æ®ç³»ç»Ÿ ä¸­ï¼Œä¸ºå„ç±»åˆ†å¸ƒå¼è¿ç®—æ¡†æ¶ï¼ˆå¦‚ï¼šMapReduceã€sparkã€tez ç­‰ï¼‰ï¼Œæä¾› <strong>æ•°æ®å­˜å‚¨</strong> æœåŠ¡ã€‚</p><p><br></p><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºå­˜å‚¨æ–‡ä»¶ï¼Œé€šè¿‡ç»Ÿä¸€çš„ <u><strong>å‘½åç©ºé—´ï¼ˆç›®å½•æ ‘ï¼‰</strong></u> æ¥å®šä½æ–‡ä»¶ã€‚</p><p>HDFSæ˜¯ä¸€ä¸ª <strong>ä¸»/ä»ï¼ˆMater/Slaveï¼‰ä½“ç³»ç»“æ„</strong> ï¼ŒHDFSé›†ç¾¤æ‹¥æœ‰ä¸€ä¸ªNameNodeå’Œä¸€äº›DataNodeã€‚NameNodeç®¡ç†æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ï¼ŒDataNodeå­˜å‚¨å®é™…çš„æ•°æ®ã€‚</p><p>ä»ç”¨æˆ·è§’åº¦çœ‹ï¼ŒHDFS é€šè¿‡ <strong>ç›®å½•è·¯å¾„</strong> å¯¹æ–‡ä»¶æ‰§è¡Œ <strong>CRUD</strong> æ“ä½œï¼ˆCreateã€Readã€Updateã€Deleteï¼‰ã€‚</p><hr><p><u><strong>HDFSå®¢æˆ·ç«¯</strong></u>ï¼šå°±æ˜¯å®¢æˆ·ç«¯ã€‚<br>1ã€æä¾›ä¸€äº›å‘½ä»¤æ¥ç®¡ç†ã€è®¿é—® HDFSï¼Œæ¯”å¦‚å¯åŠ¨æˆ–è€…å…³é—­HDFSã€‚<br>2ã€ä¸ DataNode äº¤äº’ï¼Œè¯»å–æˆ–è€…å†™å…¥æ•°æ®ï¼›è¯»å–æ—¶ï¼Œè¦ä¸ NameNode äº¤äº’ï¼Œè·å–æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ï¼›å†™å…¥ HDFS çš„æ—¶å€™ï¼ŒClient å°†æ–‡ä»¶åˆ‡åˆ†æˆ ä¸€ä¸ªä¸€ä¸ªçš„Blockï¼Œç„¶åè¿›è¡Œå­˜å‚¨ã€‚<br>3ã€æ–‡ä»¶åˆ‡åˆ†ã€‚æ–‡ä»¶ä¸Šä¼  HDFS æ—¶ï¼ŒClient å°†æ–‡ä»¶åˆ‡åˆ†æˆä¸€ä¸ªä¸ªçš„ Blockï¼Œç„¶åè¿›è¡Œå­˜å‚¨ã€‚</p><p><u><strong>NameNode</strong></u>ï¼šå³Masterï¼Œ<br>1ã€ç®¡ç† HDFS çš„åç§°ç©ºé—´ã€‚<br>2ã€ç®¡ç†æ•°æ®å—ï¼ˆBlockï¼‰æ˜ å°„ä¿¡æ¯<br>3ã€é…ç½®å‰¯æœ¬ç­–ç•¥<br>4ã€å¤„ç†å®¢æˆ·ç«¯è¯»å†™è¯·æ±‚ã€‚</p><p><u><strong>DataNode</strong></u>ï¼šå°±æ˜¯Slaveã€‚NameNode ä¸‹è¾¾å‘½ä»¤ï¼ŒDataNode æ‰§è¡Œå®é™…çš„æ“ä½œã€‚<br>1ã€å­˜å‚¨å®é™…çš„æ•°æ®å—ã€‚<br>2ã€æ‰§è¡Œæ•°æ®å—çš„è¯»/å†™æ“ä½œã€‚</p><p><u><strong>Secondary NameNode</strong></u>ï¼šå¹¶é NameNode çš„çƒ­å¤‡ã€‚å½“NameNode æŒ‚æ‰çš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸èƒ½é©¬ä¸Šæ›¿æ¢ NameNode å¹¶æä¾›æœåŠ¡ã€‚<br>1ã€è¾…åŠ© NameNodeï¼Œåˆ†æ‹…å…¶å·¥ä½œé‡ã€‚<br>2ã€å®šæœŸåˆå¹¶ fsimageå’Œfseditsï¼Œå¹¶æ¨é€ç»™NameNodeã€‚<br>3ã€åœ¨ç´§æ€¥æƒ…å†µä¸‹ï¼Œå¯è¾…åŠ©æ¢å¤ NameNodeã€‚</p><img src="/2019/10/21/ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹/hdfsæ¶æ„.png" title="hdfsæ¶æ„"><p><br></p><img src="/2019/10/21/ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹/hdfsæ¶æ„2.png" title="hdfsæ¶æ„2"><hr><p><br><br><br></p><h3 id="ä»HDFSè¯»å–å†…å®¹"><a href="#ä»HDFSè¯»å–å†…å®¹" class="headerlink" title="ä»HDFSè¯»å–å†…å®¹"></a>ä»HDFSè¯»å–å†…å®¹</h3><p>1ã€é¦–å…ˆè°ƒç”¨DistributedFileSystemå¯¹è±¡çš„openæ–¹æ³•ï¼Œå…¶å®è·å–çš„æ˜¯ä¸€ä¸ªDistributedFileSystemçš„å®ä¾‹ã€‚</p><p>2ã€DistributedFileSystemé€šè¿‡RPC(è¿œç¨‹è¿‡ç¨‹è°ƒç”¨)è·å¾—æ–‡ä»¶çš„ç¬¬ä¸€æ‰¹blockçš„locationsï¼ŒåŒä¸€blockæŒ‰ç…§é‡å¤æ•°ä¼šè¿”å›å¤šä¸ªlocationsï¼Œè¿™äº›locationsæŒ‰ç…§hadoopæ‹“æ‰‘ç»“æ„æ’åºï¼Œè·ç¦»å®¢æˆ·ç«¯è¿‘çš„æ’åœ¨å‰é¢ã€‚</p><p>3ã€å‰ä¸¤æ­¥ä¼šè¿”å›ä¸€ä¸ªFSDataInputStreamå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¼šè¢«å°è£…æˆ DFSInputStream å¯¹è±¡ï¼ŒDFSInputStreamå¯ä»¥æ–¹ä¾¿çš„ç®¡ç†DataNodeå’ŒNameNodeæ•°æ®æµã€‚å®¢æˆ·ç«¯è°ƒç”¨readæ–¹æ³•ï¼ŒDFSInputStreamå°±ä¼šæ‰¾å‡ºç¦»å®¢æˆ·ç«¯æœ€è¿‘çš„DataNodeå¹¶è¿æ¥DataNodeã€‚</p><p>4ã€æ•°æ®ä»DataNodeæºæºä¸æ–­çš„æµå‘å®¢æˆ·ç«¯ã€‚</p><p>5ã€å¦‚æœç¬¬ä¸€ä¸ªblockå—çš„æ•°æ®è¯»å®Œäº†ï¼Œå°±ä¼šå…³é—­æŒ‡å‘ç¬¬ä¸€ä¸ªblockå—çš„DataNodeè¿æ¥ï¼Œæ¥ç€è¯»å–ä¸‹ä¸€ä¸ªblockå—ã€‚è¿™äº›æ“ä½œå¯¹å®¢æˆ·ç«¯æ¥è¯´æ˜¯é€æ˜çš„ï¼Œä»å®¢æˆ·ç«¯çš„è§’åº¦æ¥çœ‹åªæ˜¯è¯»ä¸€ä¸ªæŒç»­ä¸æ–­çš„æµã€‚</p><p>6ã€å¦‚æœç¬¬ä¸€æ‰¹blockéƒ½è¯»å®Œäº†ï¼ŒDFSInputStreamå°±ä¼šå»NameNodeæ‹¿ä¸‹ä¸€æ‰¹blocksçš„locationï¼Œç„¶åç»§ç»­è¯»ï¼Œå¦‚æœæ‰€æœ‰çš„blockå—éƒ½è¯»å®Œï¼Œè¿™æ—¶å°±ä¼šå…³é—­æ‰æ‰€æœ‰çš„æµã€‚<br><img src="/2019/10/21/ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹/hdfsè¯»å–æ•°æ®.png" title="hdfsè¯»å–æ•°æ®"></p><p><br><br><br></p><h3 id="å‘HDFSå†™å…¥å†…å®¹"><a href="#å‘HDFSå†™å…¥å†…å®¹" class="headerlink" title="å‘HDFSå†™å…¥å†…å®¹"></a>å‘HDFSå†™å…¥å†…å®¹</h3><p>1.å®¢æˆ·ç«¯é€šè¿‡è°ƒç”¨DistributedFileSystemçš„createæ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚</p><p>2.DistributedFileSystemé€šè¿‡RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰è°ƒç”¨NameNodeï¼Œå»åˆ›å»ºä¸€ä¸ªæ²¡æœ‰blockså…³è”çš„æ–°æ–‡ä»¶ã€‚åˆ›å»ºå‰ï¼ŒNameNodeä¼šåšå„ç§æ ¡éªŒï¼Œæ¯”å¦‚æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå®¢æˆ·ç«¯æœ‰æ— æƒé™å»åˆ›å»ºç­‰ã€‚å¦‚æœæ ¡éªŒé€šè¿‡ï¼ŒNameNode å°±ä¼šè®°å½•ä¸‹æ–°æ–‡ä»¶ï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºIOå¼‚å¸¸ã€‚</p><p>3.å‰ä¸¤æ­¥ç»“æŸåä¼šè¿”å› FSDataOutputStream çš„å¯¹è±¡ï¼Œå’Œè¯»æ–‡ä»¶çš„æ—¶å€™ç›¸ä¼¼ï¼ŒFSDataOutputStream è¢«å°è£…æˆ DFSOutputStreamï¼ŒDFSOutputStream å¯ä»¥åè°ƒNameNodeå’Œ DataNodeã€‚å®¢æˆ·ç«¯å¼€å§‹å†™æ•°æ®åˆ°DFSOutputStreamï¼ŒDFSOutputStreamä¼šæŠŠæ•°æ®åˆ‡æˆä¸€ä¸ªä¸ªå°packetï¼Œç„¶åæ’æˆé˜Ÿåˆ—data queueã€‚</p><p>4.DataStreamer ä¼šå»å¤„ç†æ¥å— data queueï¼Œå®ƒå…ˆé—®è¯¢ NameNode è¿™ä¸ªæ–°çš„ block æœ€é€‚åˆå­˜å‚¨çš„åœ¨å“ªå‡ ä¸ªDataNodeé‡Œï¼Œæ¯”å¦‚é‡å¤æ•°æ˜¯3ï¼Œé‚£ä¹ˆå°±æ‰¾åˆ°3ä¸ªæœ€é€‚åˆçš„DataNodeï¼ŒæŠŠå®ƒä»¬æ’æˆä¸€ä¸ª pipelineã€‚DataStreamer æŠŠ packet æŒ‰é˜Ÿåˆ—è¾“å‡ºåˆ°ç®¡é“çš„ç¬¬ä¸€ä¸ª DataNode ä¸­ï¼Œç¬¬ä¸€ä¸ª DataNodeåˆæŠŠ packet è¾“å‡ºåˆ°ç¬¬äºŒä¸ª DataNode ä¸­ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>5.DFSOutputStream è¿˜æœ‰ä¸€ä¸ªé˜Ÿåˆ—å« ack queueï¼Œä¹Ÿæ˜¯ç”± packet ç»„æˆï¼Œç­‰å¾…DataNodeçš„æ”¶åˆ°å“åº”ï¼Œå½“pipelineä¸­çš„æ‰€æœ‰DataNodeéƒ½è¡¨ç¤ºå·²ç»æ”¶åˆ°çš„æ—¶å€™ï¼Œè¿™æ—¶akc queueæ‰ä¼šæŠŠå¯¹åº”çš„packetåŒ…ç§»é™¤æ‰ã€‚</p><p>6.å®¢æˆ·ç«¯å®Œæˆå†™æ•°æ®åï¼Œè°ƒç”¨closeæ–¹æ³•å…³é—­å†™å…¥æµã€‚</p><p>7.DataStreamer æŠŠå‰©ä½™çš„åŒ…éƒ½åˆ·åˆ° pipeline é‡Œï¼Œç„¶åç­‰å¾… ack ä¿¡æ¯ï¼Œæ”¶åˆ°æœ€åä¸€ä¸ªack åï¼Œé€šçŸ¥ DataNode æŠŠæ–‡ä»¶æ ‡ç¤ºä¸ºå·²å®Œæˆã€‚<br><img src="/2019/10/21/ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹/hdfså†™å…¥æ•°æ®.png" title="hdfså†™å…¥æ•°æ®"></p><p><br><br><br></p><h3 id="å‰¯æœ¬å­˜æ”¾ç­–ç•¥"><a href="#å‰¯æœ¬å­˜æ”¾ç­–ç•¥" class="headerlink" title="å‰¯æœ¬å­˜æ”¾ç­–ç•¥"></a>å‰¯æœ¬å­˜æ”¾ç­–ç•¥</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹å‰¯æœ¬ç³»æ•°ä¸º3ï¼ŒHDFSçš„å‰¯æœ¬æ”¾ç½®ç­–ç•¥æ˜¯ï¼šå°†ç¬¬ä¸€ä¸ªå‰¯æœ¬æ”¾åœ¨æœ¬åœ°èŠ‚ç‚¹ï¼Œå°†ç¬¬äºŒä¸ªå‰¯æœ¬æ”¾åœ¨æœ¬åœ°æœºæ¶ä¸Šçš„å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œç¬¬ä¸‰ä¸ªå‰¯æœ¬æ”¾åˆ°ä¸åŒæœºæ¶ä¸Šçš„èŠ‚ç‚¹ã€‚</p><p>è¿™ç§æ–¹å¼å‡å°‘äº†æœºæ¶é—´çš„å†™æµé‡ï¼Œä»è€Œæé«˜äº†å†™çš„æ€§èƒ½ã€‚æœºæ¶æ•…éšœçš„æœºç‡è¿œå°äºèŠ‚ç‚¹æ•…éšœã€‚è¿™ç§æ–¹å¼å¹¶ä¸å½±å“æ•°æ®å¯é æ€§å’Œå¯ç”¨æ€§çš„é™åˆ¶ï¼Œå¹¶ä¸”å®ƒç¡®å®å‡å°‘äº†è¯»æ“ä½œçš„ç½‘ç»œèšåˆå¸¦å®½ï¼Œå› ä¸ºæ–‡ä»¶å—ä»…å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„æœºæ¶ï¼Œè€Œä¸æ˜¯ä¸‰ä¸ªã€‚</p><p>æ–‡ä»¶çš„å‰¯æœ¬ä¸æ˜¯å‡åŒ€çš„åˆ†å¸ƒåœ¨æœºæ¶å½“ä¸­ï¼Œ1/3çš„å‰¯æœ¬åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œ1/3å‰¯æœ¬åœ¨åŒä¸€ä¸ªæœºæ¶ä¸Šï¼Œå¦å¤–1/3ä¸ªå‰¯æœ¬å‡åŒ€åœ°åˆ†å¸ƒåœ¨å…¶ä»–æœºæ¶ä¸Šã€‚</p><p><br></p><p><strong>æµæ°´çº¿å¤åˆ¶</strong></p><p>å‡è®¾HDFSå‰¯æœ¬ç³»æ•°ä¸º3ï¼Œå½“æœ¬åœ°æš‚æ—¶æ–‡ä»¶ç§¯ç´¯åˆ°ä¸€ä¸ªæ•°æ®å—å¤§å°æ—¶ï¼Œclientä¼šä»NameNodeè·å–ä¸€ä¸ªåˆ—è¡¨ç”¨äºå­˜æ”¾å‰¯æœ¬ã€‚ç„¶åclientå¼€å§‹å‘ç¬¬ä¸€ä¸ªDataNodeæ•°æ®ä¼ è¾“ï¼Œç¬¬ä¸€ä¸ªDataNodeä¸€å°éƒ¨åˆ†ä¸€å°éƒ¨åˆ†åœ°æ¥æ”¶æ•°æ®ï¼Œå°†æ¯ä¸€éƒ¨åˆ†å†™å…¥æœ¬åœ°ä»“åº“ï¼Œå¹¶åŒä¸€æ—¶é—´ä¼ è¾“è¯¥éƒ¨åˆ†åˆ°åˆ—è¡¨ä¸­çš„ç¬¬äºŒä¸ªDataNodeèŠ‚ç‚¹ã€‚ç¬¬äºŒä¸ªDataNodeä¹Ÿæ˜¯è¿™æ ·ï¼Œä¸€å°éƒ¨åˆ†ä¸€å°éƒ¨åˆ†åœ°æ¥æ”¶æ•°æ®ï¼Œå†™å…¥æœ¬åœ°ä»“åº“ï¼Œå¹¶åŒä¸€æ—¶å€™è½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ•°æ®ä»¥æµæ°´çº¿çš„æ–¹å¼ä»å‰ä¸€ä¸ªDataNodeæ‹·è´åˆ°ä¸‹ä¸€ä¸ªDataNodeã€‚æœ€åï¼Œç¬¬ä¸‰ä¸ªDataNodeæ¥æ”¶æ•°æ®å¹¶å­˜å‚¨åˆ°æœ¬åœ°ã€‚å› æ­¤ï¼ŒDataNodeèƒ½æµæ°´çº¿åœ°ä»å‰ä¸€ä¸ªèŠ‚ç‚¹æ¥æ”¶æ•°æ®ï¼Œå¹¶åŒä¸€æ—¶é—´è½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ•°æ®ä»¥æµæ°´çº¿çš„æ–¹å¼ä»å‰ä¸€ä¸ªDataNodeæ‹·è´åˆ°ä¸‹ä¸€ä¸ªDataNodeï¼Œå¹¶ä»¥ç›¸åçš„æ–¹å‘Ackå‰ä¸€ä¸ªNodeã€‚<br><img src="/2019/10/21/ã€å¤§æ•°æ®ç»„ä»¶ã€‘HDFSç®€ä»‹/hdfså‰¯æœ¬å­˜æ”¾ç­–ç•¥.png" title="hdfså‰¯æœ¬å­˜æ”¾ç­–ç•¥"></p><p><br><br><br></p><h3 id="HAæœºåˆ¶"><a href="#HAæœºåˆ¶" class="headerlink" title="HAæœºåˆ¶"></a>HAæœºåˆ¶</h3><p><strong>HA = high availability é«˜å¯ç”¨æ€§</strong></p><p>èƒŒæ™¯ï¼šNameNode å•ç‚¹æ•…éšœï¼ˆSPOF=single point of failureï¼‰ã€‚</p><p>åœ¨ HA æœºåˆ¶ä¸‹ï¼Œå¯ä»¥è¿è¡Œä¸€ä¸ª <strong>Hot Standby</strong>ï¼Œä½œä¸º <strong>çƒ­å¤‡ä»½</strong>ï¼ˆå¾…æœºçŠ¶æ€ï¼‰ï¼Œåœ¨ Active NameNode æ•…éšœæ—¶ï¼Œæ›¿ä»£åŸæœ‰çš„ NN æˆä¸ºæ–°çš„ NN æä¾›æœåŠ¡ã€‚è¿™ä¸€è¿‡ç¨‹å¯¹ç”¨æˆ·é€æ˜ï¼Œç”±å®¢æˆ·ç«¯åº“å®Œæˆã€‚</p><p><u><strong>ä¸»è¦å®ç°é€»è¾‘</strong></u>ï¼š</p><ol><li>ä¸»å¤‡éœ€ å…±äº« edit log å­˜å‚¨ï¼›</li><li>DataNode éœ€è¦åŒæ—¶å¾€ ä¸»å¤‡NN å‘é€ Block Reportï¼›</li><li>å®¢æˆ·ç«¯éœ€è¦é…ç½® failover æ¨¡å¼ï¼ˆå¤±æ•ˆå¤‡æ´æ¨¡å¼ï¼Œå¯¹ç”¨æˆ·é€æ˜ï¼‰ï¼›</li><li>Standby æ›¿ä»£ Secondary NameNode.</li></ol><p>NameNodeçš„åˆ‡æ¢é€šè¿‡ä»£failover controlleræ¥å®ç°ã€‚failover controlleræœ‰å¤šç§å®ç°ï¼Œé»˜è®¤å®ç°ä½¿ç”¨ZooKeeperæ¥ä¿è¯åªæœ‰ä¸€ä¸ªNamenodeå¤„äºactiveçŠ¶æ€ã€‚</p><p>æ¯ä¸ªNamenodeè¿è¡Œä¸€ä¸ªè½»é‡çº§çš„failover controllerè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹ä½¿ç”¨ç®€å•çš„å¿ƒè·³æœºåˆ¶æ¥ç›‘æ§Namenodeçš„å­˜æ´»çŠ¶æ€å¹¶åœ¨Namenodeå¤±è´¥æ—¶è§¦å‘failoverã€‚Failoverå¯ä»¥ç”±è¿ç»´æ‰‹åŠ¨è§¦å‘ï¼Œä¾‹å¦‚åœ¨æ—¥å¸¸ç»´æŠ¤ä¸­éœ€è¦åˆ‡æ¢ä¸»Namenodeï¼Œè¿™ç§æƒ…å†µgraceful(ä¼˜é›…çš„) failoverï¼Œéæ‰‹åŠ¨è§¦å‘çš„failoverç§°ä¸ºungraceful failoverã€‚</p><p>åœ¨ungraceful failoverçš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰åŠæ³•ç¡®å®šå¤±è´¥ï¼ˆè¢«åˆ¤å®šä¸ºå¤±è´¥ï¼‰çš„èŠ‚ç‚¹æ˜¯å¦åœæ­¢è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´è§¦å‘failoveråï¼Œä¹‹å‰çš„ä¸»Namenodeå¯èƒ½è¿˜åœ¨è¿è¡Œã€‚QJMä¸€æ¬¡åªå…è®¸ä¸€ä¸ªNamenodeå†™edit logï¼Œä½†æ˜¯ä¹‹å‰çš„ä¸»Namenodeä»ç„¶å¯ä»¥æ¥å—è¯»è¯·æ±‚ã€‚Hadoopä½¿ç”¨fencingæ¥æ€æ‰ä¹‹å‰çš„Namenodeã€‚Fencingé€šè¿‡æ”¶å›ä¹‹å‰Namenodeå¯¹å…±äº«çš„edit logçš„è®¿é—®æƒé™ã€å…³é—­å…¶ç½‘ç»œç«¯å£ä½¿å¾—åŸæœ‰çš„Namenodeä¸èƒ½å†ç»§ç»­æ¥å—æœåŠ¡è¯·æ±‚ã€‚ä½¿ç”¨STONITHæŠ€æœ¯ä¹Ÿå¯ä»¥å°†ä¹‹å‰çš„ä¸»Namenodeå…³æœºã€‚</p><hr><p><br><br><strong>æ‰©å±•ï¼šå¤§æ•°æ®å­˜å‚¨ç”Ÿæ€åœˆç®€ä»‹</strong></p><p>Hiveä¸Hbaseçš„æ•°æ®ä¸€èˆ¬éƒ½å­˜å‚¨åœ¨HDFSä¸Šã€‚HDFSä¸ºä»–ä»¬æä¾›äº†é«˜å¯é æ€§çš„åº•å±‚å­˜å‚¨æ”¯æŒã€‚</p><p><strong>Hive</strong></p><p>Hiveä¸æ”¯æŒæ›´æ”¹æ•°æ®çš„æ“ä½œï¼ŒHiveåŸºäºæ•°æ®ä»“åº“ï¼Œæä¾›é™æ€æ•°æ®çš„åŠ¨æ€æŸ¥è¯¢ã€‚å…¶ä½¿ç”¨ç±»SQLè¯­è¨€ï¼Œåº•å±‚ç»è¿‡ç¼–è¯‘è½¬ä¸ºMapReduceç¨‹åºï¼Œåœ¨Hadoopä¸Šè¿è¡Œï¼Œæ•°æ®å­˜å‚¨åœ¨HDFSä¸Šã€‚</p><p><strong>HBase</strong></p><p>Hbaseæ˜¯Hadoop databaseï¼Œå³Hadoopæ•°æ®åº“ã€‚å®ƒæ˜¯ä¸€ä¸ªé€‚åˆäºéç»“æ„åŒ–æ•°æ®å­˜å‚¨çš„æ•°æ®åº“ï¼ŒHBaseåŸºäºåˆ—çš„è€Œä¸æ˜¯åŸºäºè¡Œçš„æ¨¡å¼ã€‚</p><p>HBaseæ˜¯Google Bigtableçš„å¼€æºå®ç°ï¼Œç±»ä¼¼Google Bigtableåˆ©ç”¨GFSä½œä¸ºå…¶æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼ŒHBaseåˆ©ç”¨HDFSä½œä¸ºå…¶æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼›Googleè¿è¡ŒMapReduceæ¥å¤„ç†Bigtableä¸­çš„æµ·é‡æ•°æ®ï¼ŒHBaseåŒæ ·åˆ©ç”¨Hadoop MapReduceæ¥å¤„ç†HBaseä¸­çš„æµ·é‡æ•°æ®ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;HDFS&lt;/strong&gt; = Hadoop Distributed File System&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hadoop åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼šç»Ÿä¸€ç®¡ç† åˆ†å¸ƒåœ¨é›†ç¾¤ä¸Š çš„æ–‡ä»¶
      
    
    </summary>
    
    
    
      <category term="å¤§æ•°æ®" scheme="http://fujiafeng.com/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js æ’ä»¶</title>
    <link href="http://fujiafeng.com/2019/10/20/Vue-js-%E6%8F%92%E4%BB%B6/"/>
    <id>http://fujiafeng.com/2019/10/20/Vue-js-%E6%8F%92%E4%BB%B6/</id>
    <published>2019-10-20T15:51:58.000Z</published>
    <updated>2019-10-21T14:53:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ’ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(MyPlugin)</span><br><span class="line">Vue.use(MyPlugin, &#123;</span><br><span class="line">    <span class="comment">// å‚æ•°</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p><br></p><h2 id="å‰ç«¯è·¯ç”±-ä¸-vue-router"><a href="#å‰ç«¯è·¯ç”±-ä¸-vue-router" class="headerlink" title="å‰ç«¯è·¯ç”± ä¸ vue-router"></a>å‰ç«¯è·¯ç”± ä¸ vue-router</h2><p><strong>å•é¡µé¢å¯Œåº”ç”¨ï¼ˆSPAï¼‰</strong>= <strong>å‰åç«¯åˆ†ç¦»</strong> +  <strong>å‰ç«¯è·¯ç”±</strong>ã€‚<br><strong><u>å‰åç«¯åˆ†ç¦»</u></strong> çš„å¼€å‘æ¨¡å¼æ˜¯ï¼šåç«¯åªæä¾› API æ¥è¿”å›æ•°æ®ï¼Œå‰ç«¯é€šè¿‡ Ajax è·å–æ•°æ®åï¼Œå†ç”¨ä¸€å®šçš„æ–¹å¼æ¸²æŸ“åˆ°é¡µé¢é‡Œï¼ˆåç«¯ä¸“æ³¨äº æ•°æ®ï¼Œå‰ç«¯ä¸“æ³¨äº äº¤äº’å’Œå¯è§†åŒ–ï¼›webä¸ç§»åŠ¨ç«¯å¯å…±äº«ä¸€å¥— API ï¼›é¦–å±æ¸²æŸ“ éœ€è¦åŠ è½½ js å’Œ css ï¼‰ã€‚<br><strong><u>å‰ç«¯è·¯ç”±</u></strong> ï¼šç”±å‰ç«¯æ¥ç»´æŠ¤ä¸€ä¸ªè·¯ç”±è§„åˆ™ã€‚æœ‰ä¸¤ç§å®ç°ï¼š</p><ol><li><strong>åˆ©ç”¨ url çš„ hash</strong>ï¼Œå³é”šç‚¹ï¼ˆ#ï¼‰ï¼šJavaScript é€šè¿‡ hashChange äº‹ä»¶ç›‘å¬ url çš„å˜åŒ–ï¼ŒIE7 åŠä»¥ä¸‹éœ€è¦ç”¨è½®è¯¢ï¼›</li><li><strong>åˆ©ç”¨ HTML5 çš„ History æ¨¡å¼</strong>ï¼šéœ€è¦æœåŠ¡ç«¯æ”¯æŒã€‚</li></ol><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><p>è·¯ç”±ä¸åŒçš„é¡µé¢ï¼Œå®é™…ä¸Šæ˜¯ <strong>åŠ¨æ€åŠ è½½ä¸åŒçš„ç»„ä»¶</strong>ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ä¸€ä¸ª <code>.vue</code> æ–‡ä»¶ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> HelloWorld <span class="keyword">from</span> <span class="string">'@/components/HelloWorld'</span></span><br><span class="line"><span class="keyword">import</span> First <span class="keyword">from</span> <span class="string">'@/components/views/First'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [ &#123;</span><br><span class="line">      path: <span class="string">'/first'</span>,</span><br><span class="line">      name: <span class="string">'First'</span>,</span><br><span class="line">      component: First</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'HelloWorld'</span>,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      path: <span class="string">'*'</span>,  <span class="comment">// è®¿é—®çš„è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™é‡å®šå‘åˆ° HelloWorld</span></span><br><span class="line">      name: <span class="string">'HelloWorld'</span>,</span><br><span class="line">      component: HelloWorld</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>Routers é‡Œæ¯ä¸€é¡¹çš„ <code>path</code> å±æ€§å°±æ˜¯æŒ‡å®š å½“å‰åŒ¹é…çš„è·¯å¾„ï¼Œå¯ä»¥å¸¦å‚æ•°ï¼› <code>component</code> æ˜¯æ˜ å°„çš„ç»„ä»¶ã€‚webpack ä¼šæŠŠæ¯ä¸€ä¸ªè·¯ç”±éƒ½æ‰“åŒ…ä¸ºä¸€ä¸ª js æ–‡ä»¶ï¼Œåœ¨è¯·æ±‚åˆ°è¯¥é¡µé¢æ—¶ï¼Œæ‰å»åŠ è½½è¿™ä¸ªé¡µé¢çš„ jsï¼Œå³å¼‚æ­¥å®ç°çš„ <strong>æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</strong>ã€‚</p><p>åœ¨ new Router() çš„å‚æ•°ä¸­ï¼Œè®¾ç½® <code>mode: &#39;history&#39;</code> ä¼šå¼€å¯ HTML5 çš„ history æ¨¡å¼ï¼›é»˜è®¤ä½¿ç”¨ <code>â€˜#â€™</code>æ¥è®¾ç½®è·¯å¾„ã€‚</p><p>åœ¨ Vue æ ¹å®ä¾‹ä¸­ï¼Œé€šè¿‡ <strong><router-view></router-view></strong> æ¥æŒ‚è½½æ‰€æœ‰çš„è·¯ç”±ç»„ä»¶ã€‚è¿è¡Œç½‘é¡µæ—¶ï¼Œ<router-view> ä¼šæ ¹æ®å½“å‰è·¯ç”± åŠ¨æ€æ¸²æŸ“ ä¸åŒçš„é¡µé¢ç»„ä»¶ã€‚ç½‘é¡µä¸­ä¸€äº›å…¬å…±éƒ¨åˆ†ï¼Œå¦‚é¡¶éƒ¨å¯¼èˆªæ ã€ä¾§è¾¹å¯¼èˆªæ ã€åº•éƒ¨ç‰ˆæƒä¿¡æ¯ç­‰ï¼Œå¯ä»¥ç›´æ¥å†™åœ¨ æ ¹å®ä¾‹ ä¸­ï¼Œä¸ <router-view> åŒçº§ã€‚<br>é€šè¿‡ <code>this.$route</code> å¯ä»¥è®¿é—®å½“å‰è·¯ç”±çš„å…·ä½“ä¿¡æ¯ã€‚</router-view></router-view></p><h3 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h3><p>vue-router æœ‰ä¸¤ç§è·³è½¬é¡µé¢çš„æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨å†…ç½®çš„ <code>&lt;router-link&gt;</code> ç»„ä»¶ï¼Œå®ƒé»˜è®¤ä¼šè¢«æ¸²æŸ“æˆ <a>ï¼›</a></li><li>ä½¿ç”¨ router å®ä¾‹çš„äº‹ä»¶æ–¹æ³•ï¼Œå¦‚ <code>this.$router.push(targetUrl)</code> ï¼›</li></ol><p>å…¶ä¸­ï¼Œä½¿ç”¨ <router-link> åœ¨ HTML5 çš„ history æ¨¡å¼ä¸‹ä¼šè¢«æ‹¦æˆªç‚¹å‡»ï¼Œé¿å…æµè§ˆå™¨é‡æ–°åŠ è½½é¡µé¢ã€‚<router-link> çš„å¸¸ç”¨ prop æœ‰ï¼š</router-link></router-link></p><table><thead><tr><th>å±æ€§å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>to</td><td>æŒ‡å®šè¦è·³è½¬çš„è·¯å¾„</td></tr><tr><td>tag</td><td>æŒ‡å®šæ¸²æŸ“æˆä»€ä¹ˆæ ‡ç­¾</td></tr><tr><td>replace</td><td>ä¸ä¼šç•™ä¸‹ History è®°å½•</td></tr><tr><td>active-class</td><td>ä¿®æ”¹é»˜è®¤çš„ è·¯ç”±åŒ¹é…æˆåŠŸæ—¶çš„ç±»åï¼ˆrouter-link-activeï¼‰</td></tr></tbody></table><p><br></p><p>$router çš„å¸¸ç”¨æ–¹æ³•ï¼š</p><table><thead><tr><th>æ–¹æ³•å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>push</td><td>æ·»åŠ è¦è·³è½¬åˆ°çš„æ–°è·¯å¾„ï¼Œä¼šäº§ç”Ÿæ–°çš„ history è®°å½•</td></tr><tr><td>replace</td><td>æ›¿æ¢å½“å‰çš„ history è®°å½•</td></tr><tr><td>go</td><td>åœ¨ history è®°å½•ä¸­å‘å‰æˆ–åé€€å¤šå°‘æ­¥ï¼Œå‚æ•°æ˜¯æ•´æ•°</td></tr></tbody></table><h3 id="vue-router-å¯¼èˆªé’©å­"><a href="#vue-router-å¯¼èˆªé’©å­" class="headerlink" title="vue-router å¯¼èˆªé’©å­"></a>vue-router å¯¼èˆªé’©å­</h3><p>vue-router æä¾›äº† å¯¼èˆªé’©å­ <strong>beforeEach</strong> å’Œ <strong>afterEach</strong> ï¼Œåˆ†åˆ«åœ¨è·¯ç”±å³å°†æ”¹å˜å‰å’Œæ”¹å˜åè§¦å‘ã€‚é€šè¿‡è¿™ä¸¤ä¸ªé’©å­ï¼Œå¯ä»¥åšä¸€äº›äº‹æƒ…æ¥æå‡ç”¨æˆ·ä½“éªŒï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Â *Â beforeEachÂ åœ¨è·¯ç”±å³å°†æ”¹å˜å‰è§¦å‘</span></span><br><span class="line"><span class="comment">Â *Â @paramÂ to,Â å³å°†è¦è¿›å…¥çš„ç›®æ ‡çš„è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">Â *Â @paramÂ from,Â å½“å‰å¯¼èˆªå³å°†è¦ç¦»å¼€çš„è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="comment">Â *Â @paramÂ next,Â è°ƒç”¨è¯¥æ–¹æ³•åï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ä¸ªé’©å­</span></span><br><span class="line"><span class="comment">Â */</span></span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,Â <span class="keyword">from</span>,Â next</span>)Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="comment">//Â åœ¨é¡µé¢è·¯ç”±æ”¹å˜æ—¶ï¼Œç»Ÿä¸€è®¾ç½®ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line">Â Â <span class="built_in">window</span>.document.titleÂ =Â to.meta.title;</span><br><span class="line">Â Â <span class="comment">//Â ç½‘é¡µç™»å½•æ ¡éªŒï¼Œæœªç™»å½•åˆ™è·³è½¬è‡³ç™»å½•é¡µ</span></span><br><span class="line">Â Â <span class="keyword">if</span>(<span class="built_in">window</span>.localStorage.getItem(<span class="string">'token'</span>))Â &#123;</span><br><span class="line">Â Â Â Â next();</span><br><span class="line">Â Â &#125;Â <span class="keyword">else</span>Â &#123;</span><br><span class="line">Â Â Â Â next(<span class="string">'/login'</span>);</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Â *Â afterEachÂ åœ¨è·¯ç”±æ”¹å˜åè§¦å‘</span></span><br><span class="line"><span class="comment">Â */</span></span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to,Â <span class="keyword">from</span>,Â next</span>)Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="comment">//Â åˆ‡æ¢é¡µé¢åï¼Œæ»šåŠ¨æ¡è¿”å›é¡¶ç«¯ï¼ˆæ»šåŠ¨æ¡é»˜è®¤ä¿æŒä¸Šä¸€ä¸ªé¡µé¢åœç•™çš„ä½ç½®ï¼‰</span></span><br><span class="line">Â Â <span class="built_in">window</span>.scrollTo(<span class="number">0</span>,Â <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p><h2 id="çŠ¶æ€ç®¡ç†-ä¸-Vuex"><a href="#çŠ¶æ€ç®¡ç†-ä¸-Vuex" class="headerlink" title="çŠ¶æ€ç®¡ç† ä¸ Vuex"></a>çŠ¶æ€ç®¡ç† ä¸ Vuex</h2><h3 id="çŠ¶æ€ç®¡ç†ä¸ä½¿ç”¨åœºæ™¯"><a href="#çŠ¶æ€ç®¡ç†ä¸ä½¿ç”¨åœºæ™¯" class="headerlink" title="çŠ¶æ€ç®¡ç†ä¸ä½¿ç”¨åœºæ™¯"></a>çŠ¶æ€ç®¡ç†ä¸ä½¿ç”¨åœºæ™¯</h3><p>ä¸€ä¸ªç»„ä»¶å¯ä»¥åˆ†ä¸º æ•°æ®ï¼ˆmodelï¼‰å’Œ è§†å›¾ï¼ˆviewï¼‰ï¼Œå…¶åŸºæœ¬çš„è¿è¡Œæ¨¡å¼æ˜¯ï¼šæ•°æ®æ›´æ–°æ—¶ï¼Œè§†å›¾ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼›åœ¨è§†å›¾ä¸­åˆå¯ä»¥ç»‘å®šä¸€äº›äº‹ä»¶ï¼Œè§¦å‘ methods é‡ŒæŒ‡å®šçš„æ–¹æ³•ï¼Œä»è€Œå¯ä»¥æ”¹å˜æ•°æ®ã€æ›´æ–°è§†å›¾ã€‚</p><p>åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œä¼šæœ‰ <strong>è·¨ç»„ä»¶å…±äº«æ•°æ®</strong> çš„éœ€æ±‚ï¼ˆéçˆ¶å­ç»„ä»¶ï¼šè·¨çº§ç»„ä»¶ã€å…„å¼Ÿç»„ä»¶ï¼‰ï¼Œè€Œ <strong>Vuex</strong> çš„è®¾è®¡ï¼Œå°±æ˜¯ç”¨æ¥ <strong>ç»Ÿä¸€ç®¡ç†ç»„ä»¶çŠ¶æ€</strong> çš„ã€‚</p><h3 id="Vuex-åŸºæœ¬ç”¨æ³•"><a href="#Vuex-åŸºæœ¬ç”¨æ³•" class="headerlink" title="Vuex åŸºæœ¬ç”¨æ³•"></a>Vuex åŸºæœ¬ç”¨æ³•</h3><p>npmå®‰è£…ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vuex</span><br></pre></td></tr></table></figure></p><p>åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ main.js é‡Œï¼Œé€šè¿‡ Vue.use() ä½¿ç”¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="comment">// vuex çš„é…ç½®</span></span><br><span class="line">    state: &#123;</span><br><span class="line">        count: <span class="number">0</span>,</span><br><span class="line">        list: [<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">26</span>, <span class="number">35</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        increament(state, n=<span class="number">1</span>) &#123;</span><br><span class="line">            state.count += n;</span><br><span class="line">        &#125;,</span><br><span class="line">        decrease(state) &#123;</span><br><span class="line">            state.count --;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        filteredList: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> state.list.filter( <span class="function"><span class="params">item</span> =&gt;</span> item &lt; <span class="number">10</span> );</span><br><span class="line">        &#125;,</span><br><span class="line">        listCount: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> getters.filteredList.length;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;ï¼Œ</span><br><span class="line">    actions: &#123;</span><br><span class="line">        increment (context) &#123;</span><br><span class="line">            context.commit(<span class="string">'increment'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">store,  <span class="comment">// ä½¿ç”¨ vuex</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>ä»“åº“ store åŒ…å«äº†åº”ç”¨çš„æ•°æ®ï¼ˆçŠ¶æ€ï¼‰å’Œæ“ä½œè¿‡ç¨‹ã€‚Vuex é‡Œçš„æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ï¼Œä»»ä½•ç»„ä»¶ä½¿ç”¨åŒä¸€ store çš„æ•°æ®æ—¶ï¼Œåªè¦ store çš„æ•°æ®å˜åŒ–ï¼Œå¯¹åº”çš„ç»„ä»¶å°±ä¼šç«‹å³æ›´æ–°ã€‚</p><p>æ•°æ®ä¿å­˜åœ¨ Vuex é€‰é¡¹çš„ <strong>state</strong> å­—æ®µå†…ï¼Œåœ¨ä»»ä½•ç»„ä»¶å†…ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>$store.state.</code> è¯»å–ï¼ˆæ³¨æ„ï¼šæ¥è‡ª store çš„æ•°æ®åªèƒ½è¯»å–ï¼Œä¸èƒ½æ‰‹åŠ¨æ”¹å˜ï¼‰ã€‚</p><p>æ”¹å˜ store ä¸­æ•°æ®çš„å”¯ä¸€é€”å¾„å°±æ˜¯ æ˜¾ç¤ºåœ°æäº¤ <strong>mutations</strong>ï¼Œå®ƒæ˜¯ Vuexçš„ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œç”¨æ¥<strong>ç›´æ¥ä¿®æ”¹ state é‡Œçš„æ•°æ®</strong>ã€‚</p><ol><li>åœ¨ç»„ä»¶å†…ï¼Œé€šè¿‡ this.$store.commit æ–¹æ³•æ¥æ‰§è¡Œ mutationsï¼ˆç»„ä»¶åªè´Ÿè´£æäº¤ä¸€ä¸ªäº‹ä»¶åï¼Œ Vuex å¯¹åº”çš„ mutations æ¥å®Œæˆä¸šåŠ¡é€»è¾‘ï¼‰ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    handleIncrement () &#123;</span><br><span class="line">        <span class="keyword">this</span>.$store.commit( <span class="string">'increment'</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mutations çš„ç¬¬äºŒä¸ªå‚æ•° å¯ä»¥æ˜¯ æ•°å­—ã€å­—ç¬¦ä¸²æˆ–å¯¹è±¡ç­‰ç±»å‹ï¼Œå½“ä¸€ä¸ªå‚æ•°ä¸å¤Ÿç”¨æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œæ— é™æ‰©å±•ã€‚</p><ol><li>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ï¼šç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line">mutations: &#123;</span><br><span class="line">    increment (state, params) &#123;</span><br><span class="line">        state.count += params.count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.vue</span></span><br><span class="line"><span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">    type: <span class="string">'increment'</span>,</span><br><span class="line">    count: <span class="number">10</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><p>æ³¨æ„ï¼šmutation é‡Œå°½é‡ä¸è¦ å¼‚æ­¥æ“ä½œæ•°æ®ã€‚</p><h3 id="Vuex-é«˜çº§ç”¨æ³•"><a href="#Vuex-é«˜çº§ç”¨æ³•" class="headerlink" title="Vuex é«˜çº§ç”¨æ³•"></a>Vuex é«˜çº§ç”¨æ³•</h3><h4 id="getters"><a href="#getters" class="headerlink" title="getters"></a>getters</h4><p>å°†è·å– store ä¸­çš„æ•°æ®çš„æ–¹æ³•æå–å‡ºæ¥ï¼Œæ”¾åœ¨ getters ä¸­ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚getter å¯ä»¥ä¾èµ–å…¶ä»–çš„ getterï¼ŒæŠŠ getter ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.vue</span></span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123; list &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;&#123;&#123; listCount &#125;&#125;&lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        computed: &#123;</span><br><span class="line">            list () &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.$store.getters.filteredList;</span><br><span class="line">            &#125;,</span><br><span class="line">            listCount () &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.$store.getters.listCount;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h4 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h4><p>actions é‡Œé¢æäº¤çš„æ˜¯ mutationï¼Œå¹¶ä¸”å¯ä»¥ <strong>å¼‚æ­¥æ“ä½œ</strong> ä¸šåŠ¡é€»è¾‘ã€‚</p><p>action åœ¨ç»„ä»¶å†…é€šè¿‡ <strong>$store.dispatch</strong> è§¦å‘ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    handleActionIncrement () &#123;</span><br><span class="line">        <span class="keyword">this</span>.$store.dispatch( <span class="string">'increment'</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬é€šè¿‡ Promise å¼‚æ­¥æ–¹æ¡ˆ æ¥æ¨¡æ‹Ÿä¸€æ¬¡ å»¶è¿Ÿæäº¤mutationï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    actions: &#123;</span><br><span class="line">        asyncIncrement (context) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    context.commit(<span class="string">'increment'</span>);</span><br><span class="line">                    resolve();</span><br><span class="line">                &#125;, <span class="number">1000</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.vue</span></span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &#123;&#123; count &#125;&#125;</span><br><span class="line">        &lt;button @click=<span class="string">"handleAsyncIncrement"</span>&gt;<span class="keyword">async</span> +<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    export default &#123;</span></span><br><span class="line"><span class="regexp">        computed: &#123;</span></span><br><span class="line"><span class="regexp">            count () &#123;</span></span><br><span class="line"><span class="regexp">                return this.$store.state.count;</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        methods: &#123;</span></span><br><span class="line"><span class="regexp">            handleAsyncIncrement () &#123;</span></span><br><span class="line"><span class="regexp">                this.$store.dispatch('asyncIncrement').then( () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">                    console.log(this.$store.state.count); /</span><span class="regexp">/ 1</span></span><br><span class="line"><span class="regexp">                &#125;);</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></p><blockquote><p>å»ºè®®ï¼š<br>&emsp;&emsp;æ¶‰åŠæ”¹å˜æ•°æ®çš„ï¼Œå°±ä½¿ç”¨ mutationsï¼›<br>&emsp;&emsp;å­˜åœ¨ä¸šåŠ¡é€»è¾‘çš„ï¼Œå°±ç”¨ actionsã€‚</p></blockquote><p><br></p><h4 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h4><p><strong>modules</strong> ç”¨æ¥ <strong>å°† store åˆ†å‰²åˆ°ä¸åŒæ¨¡å—</strong>ã€‚å½“ä½ çš„é¡¹ç›®è¶³å¤Ÿå¤§æ—¶ï¼Œstore é‡Œçš„ stateã€gettersã€mutationsã€actions ä¼šéå¸¸å¤šï¼Œéƒ½æ”¾åœ¨ main.js é‡Œæ˜¾å¾—ä¸æ˜¯å¾ˆå‹å¥½ï¼Œè€Œä½¿ç”¨ modules å¯ä»¥å°†å®ƒä»¬å†™åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ã€‚<strong>æ¯ä¸ª module æ‹¥æœ‰è‡ªå·±çš„ stateã€gettersã€mutationsã€actions</strong> ï¼Œè€Œä¸”å¯ä»¥ <strong>å¤šå±‚åµŒå¥—</strong>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">    state: &#123; ... &#125;,</span><br><span class="line">    mutations: &#123; ... &#125;,</span><br><span class="line">    actions: &#123; ... &#125;,</span><br><span class="line">    getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">    state: &#123; ... &#125;,</span><br><span class="line">    mutations: &#123; ... &#125;,</span><br><span class="line">    actions: &#123; ... &#125;,</span><br><span class="line">    getters: &#123; </span><br><span class="line">        sumCount (state, getters, rootState) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.count + rootState.count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    modules: &#123;</span><br><span class="line">        a: moduleA,</span><br><span class="line">        b: moduleB</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a   <span class="comment">// moduleA çš„çŠ¶æ€ </span></span><br><span class="line">store.state.b   <span class="comment">// moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure><p>module çš„ mutation å’Œ getter æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•° state æ˜¯ <strong>å½“å‰æ¨¡å—çš„çŠ¶æ€</strong>ã€‚åœ¨ actions å’Œ getters ä¸­ï¼Œå¯ä»¥æ¥å—ç¬¬ä¸‰ä¸ªå‚æ•° <strong>rootState</strong>ï¼Œæ¥è®¿é—® <strong>æ ¹èŠ‚ç‚¹çš„çŠ¶æ€</strong>ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ’ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼š&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="Vue.jså®æˆ˜" scheme="http://fujiafeng.com/tags/Vue-js%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js ä½¿ç”¨webpack</title>
    <link href="http://fujiafeng.com/2019/10/20/Vue-js-%E4%BD%BF%E7%94%A8webpack/"/>
    <id>http://fujiafeng.com/2019/10/20/Vue-js-%E4%BD%BF%E7%94%A8webpack/</id>
    <published>2019-10-20T15:51:45.000Z</published>
    <updated>2019-10-21T14:54:34.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰ç«¯å·¥ç¨‹åŒ–-ä¸-webpack"><a href="#å‰ç«¯å·¥ç¨‹åŒ–-ä¸-webpack" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ– ä¸ webpack"></a>å‰ç«¯å·¥ç¨‹åŒ– ä¸ webpack</h2><p>åœ¨webpack çš„ä¸–ç•Œé‡Œï¼Œä¸€å¼ å›¾ç‰‡ã€ä¸€ä¸ª css ç”šè‡³ä¸€ä¸ªå­—ä½“ï¼Œ<strong>æ¯ä¸ªæ–‡ä»¶</strong>éƒ½æ˜¯ä¸€ä¸ª <strong>æ¨¡å—ï¼ˆModuleï¼‰</strong>ï¼Œå½¼æ­¤å­˜åœ¨ä¾èµ–å…³ç³»ï¼›webpack å°±æ˜¯ç”¨æ¥å¤„ç† <strong>æ¨¡å—é—´çš„ä¾èµ–å…³ç³»</strong>ï¼Œå¹¶æŠŠå®ƒä»¬è¿›è¡Œ<strong>æ‰“åŒ…</strong>çš„ã€‚<br>&emsp;&emsp;webpack çš„ä¸»è¦é€‚ç”¨åœºæ™¯æ˜¯ <strong>å•é¡µé¢å¯Œåº”ç”¨</strong>ï¼ˆSPAï¼‰ã€‚SPA é€šå¸¸æ˜¯ç”±ä¸€ä¸ª html æ–‡ä»¶å’Œä¸€å †æŒ‰éœ€åŠ è½½çš„ js ç»„æˆã€‚<br>&emsp;&emsp;ES6 è¯­æ³•ä¸­çš„ <strong>export</strong> å’Œ <strong>import</strong> æ˜¯ç”¨æ¥ <strong>å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—</strong>çš„ã€‚ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ª js æ–‡ä»¶ï¼Œå®ƒæ‹¥æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œé‡Œé¢å®šä¹‰çš„å˜é‡å¤–éƒ¨æ— æ³•è·å–ã€‚å¦‚æœä½¿ç”¨ npm å®‰è£…äº†ä¸€äº›åº“ï¼Œåœ¨ webpack ä¸­å¯ä»¥ç›´æ¥å¯¼å…¥ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p><h2 id="webpack-åŸºç¡€é…ç½®"><a href="#webpack-åŸºç¡€é…ç½®" class="headerlink" title="webpack åŸºç¡€é…ç½®"></a>webpack åŸºç¡€é…ç½®</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>åˆå§‹åŒ–é¡¹ç›®é…ç½®ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure></p><p>æœ¬åœ°å±€éƒ¨å®‰è£… webpackï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack --save-dev</span><br></pre></td></tr></table></figure></p><p>æœ¬åœ°å±€éƒ¨å®‰è£… webpack-dev-serverï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure></p><p><code>--save-dev</code> æŒ‡ <strong>ä½œä¸ºå¼€å‘ä¾èµ–</strong> æ¥å®‰è£…ã€‚<br>&emsp;&emsp;webpack-dev-server æä¾›çš„æœåŠ¡æœ‰ï¼šå¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ã€çƒ­æ›´æ–°ã€æ¥å£ä»£ç† ç­‰ã€‚</p><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><p>webpack å°±æ˜¯ä¸€ä¸ª <code>.js</code> é…ç½®æ–‡ä»¶ï¼Œå³ webpack.config.js ã€‚<br>&emsp;&emsp;åœ¨ <code>package.json</code> æ–‡ä»¶çš„ scripts é€‰é¡¹ä¸­æ·»åŠ å¿«é€Ÿå¯åŠ¨ webpack-dev-server æœåŠ¡çš„è„šæœ¬ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="string">"scripts"</span>:Â &#123;</span><br><span class="line">Â Â Â Â <span class="string">"dev"</span>:Â <span class="string">"webpack-dev-serverÂ --inlineÂ --progressÂ --configÂ build/webpack.dev.conf.js"</span>,</span><br><span class="line">Â Â Â Â <span class="string">"start"</span>:Â <span class="string">"npmÂ runÂ dev"</span>,</span><br><span class="line">Â Â Â Â <span class="comment">// ...</span></span><br><span class="line">Â Â &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure></p><p>å½“è¿è¡Œ <code>npm run dev</code> å‘½ä»¤æ—¶ï¼Œå°±ä¼šæ‰§è¡Œ <code>webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</code>  å‘½ä»¤ã€‚</p><p>webpack æ ¸å¿ƒé…ç½®é¡¹ï¼š</p><ul><li>å…¥å£ï¼ˆEntryï¼‰ï¼šwebpack ä»å“ªé‡Œå¼€å§‹å¯»æ‰¾ä¾èµ–ï¼›</li><li>å‡ºå£ï¼ˆOutputï¼‰ï¼šé…ç½®ç¼–è¯‘åçš„ æ–‡ä»¶å­˜å‚¨ä½ç½® å’Œ æ–‡ä»¶åï¼›</li><li>åŠ è½½å™¨ï¼ˆLoadersï¼‰ï¼šmoduleå¯¹è±¡çš„ruleså±æ€§ä¸­ï¼Œå¯ä»¥æŒ‡å®šä¸€ç³»åˆ— loadersï¼Œæ¯ä¸ªloader éƒ½å¿…é¡»åŒ…å« test å’Œ use ä¸¤ä¸ªé€‰é¡¹ã€‚use é€‰é¡¹çš„å€¼å¯ä»¥æ˜¯ æ•°ç»„ï¼ˆç¼–è¯‘é¡ºåºï¼šä»åå¾€å‰ï¼‰æˆ– å­—ç¬¦ä¸²ï¼›</li><li>æ’ä»¶ï¼ˆPluginsï¼‰</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">entry:Â &#123;</span><br><span class="line">Â Â Â Â app:Â <span class="string">'./src/main.js'</span>  <span class="comment">// å•å…¥å£</span></span><br><span class="line">Â Â &#125;,</span><br><span class="line">Â Â output:Â &#123;</span><br><span class="line">Â Â Â Â path:Â config.build.assetsRoot, <span class="comment">// æ‰“åŒ…åï¼Œæ–‡ä»¶çš„è¾“å‡ºç›®å½•</span></span><br><span class="line">Â Â Â Â filename:Â <span class="string">'[name].js'</span>,</span><br><span class="line">Â Â Â Â publicPath:Â process.env.NODE_ENVÂ ===Â <span class="string">'production'</span></span><br><span class="line">Â Â Â Â Â Â ?Â config.build.assetsPublicPath</span><br><span class="line">Â Â Â Â Â Â :Â config.dev.assetsPublicPath <span class="comment">// èµ„æºæ–‡ä»¶çš„å¼•ç”¨ç›®å½•</span></span><br><span class="line">Â Â &#125;,</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…å‘½ä»¤ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --progress --hide-modules</span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p><h2 id="å•æ–‡ä»¶ç»„ä»¶"><a href="#å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="å•æ–‡ä»¶ç»„ä»¶"></a>å•æ–‡ä»¶ç»„ä»¶</h2><p>åœ¨ä½¿ç”¨ webpack æ„å»º Vue é¡¹ç›®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ç§æ–°çš„æ„å»ºæ¨¡å¼ï¼š<strong>.vue å•æ–‡ä»¶ç»„ä»¶</strong> ã€‚åœ¨ webpack ä¸­ä½¿ç”¨ <code>vue-loader</code> å°±å¯ä»¥å¯¹ <code>.vue</code> æ ¼å¼çš„æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚</p><p>ä¸ºäº†æ”¯æŒå›¾ç‰‡ã€æ–‡å­—ç­‰æ–‡ä»¶ï¼Œéœ€è¦å®‰è£… <code>url-loader</code> å’Œ <code>file-loader</code> ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â test:Â <span class="regexp">/\.(png|jpe?g|gif|svg)(\?.*)?$/</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â loader:Â <span class="string">'url-loader?limit=1024'</span>,</span><br><span class="line">Â &#125;,</span><br></pre></td></tr></table></figure></p><p><code>&quot;?limit=1024&quot;</code> æ˜¯æŒ‡å¦‚æœæ–‡ä»¶å°äº <code>1kb</code>ï¼Œå°±ä»¥ <code>base64</code> çš„å½¢å¼åŠ è½½ï¼Œä¸ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>ä½¿ç”¨ å•é¡µé¢å¯Œåº”ç”¨ï¼ˆSPAï¼‰æŠ€æœ¯ï¼Œå³æœ€ç»ˆåªæœ‰<strong>ä¸€ä¸ª html æ–‡ä»¶</strong>ï¼Œå…¶ä½™éƒ½æ˜¯ <strong>é™æ€èµ„æº</strong>ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰ç«¯å·¥ç¨‹åŒ–-ä¸-webpack&quot;&gt;&lt;a href=&quot;#å‰ç«¯å·¥ç¨‹åŒ–-ä¸-webpack&quot; class=&quot;headerlink&quot; title=&quot;å‰ç«¯å·¥ç¨‹åŒ– ä¸ webpack&quot;&gt;&lt;/a&gt;å‰ç«¯å·¥ç¨‹åŒ– ä¸ webpack&lt;/h2&gt;&lt;p&gt;åœ¨webpack çš„ä¸–ç•Œé‡Œï¼Œä¸€å¼ å›¾ç‰‡
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="Vue.jså®æˆ˜" scheme="http://fujiafeng.com/tags/Vue-js%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js Renderå‡½æ•°</title>
    <link href="http://fujiafeng.com/2019/10/20/Vue-js-Render%E5%87%BD%E6%95%B0/"/>
    <id>http://fujiafeng.com/2019/10/20/Vue-js-Render%E5%87%BD%E6%95%B0/</id>
    <published>2019-10-20T15:50:58.000Z</published>
    <updated>2019-10-21T14:54:18.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Virtual-DOM"><a href="#Virtual-DOM" class="headerlink" title="Virtual DOM"></a>Virtual DOM</h2><p>Virtual DOM æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Javascript å¯¹è±¡ï¼Œåœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVirtual DOM ä¼šè¿›è¡Œ Diff è¿ç®—ï¼Œåªæ›´æ–°éœ€è¦è¢«æ›¿æ¢çš„ DOMï¼Œè€Œä¸æ˜¯é‡ç»˜ã€‚<br>&emsp;&emsp;åœ¨Vue.js 2.0 ä¸­ï¼ŒVirtual DOM æ˜¯é€šè¿‡ä¸€ç§ <strong>VNode ç±»</strong> è¡¨è¾¾çš„ï¼Œæ¯ä¸ª DOM å…ƒç´ æˆ–ç»„ä»¶ éƒ½å¯¹åº”ä¸€ä¸ª VNode å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span>Â interfaceÂ VNodeÂ &#123;</span><br><span class="line">Â Â Â Â tag?:Â string;Â <span class="comment">//Â å½“å‰èŠ‚ç‚¹çš„æ ‡ç­¾å</span></span><br><span class="line">Â Â Â Â data?:Â VNodeData;Â <span class="comment">//Â å½“å‰èŠ‚ç‚¹çš„æ•°æ®å¯¹è±¡</span></span><br><span class="line">Â Â Â Â children?:Â VNode[];Â <span class="comment">//Â å­èŠ‚ç‚¹æ•°ç»„</span></span><br><span class="line">Â Â Â Â text?:Â string;Â <span class="comment">//Â å½“å‰èŠ‚ç‚¹çš„æ–‡æœ¬</span></span><br><span class="line">Â Â Â Â elm?:Â Node;Â <span class="comment">//Â å½“å‰è™šæ‹ŸèŠ‚ç‚¹Â å¯¹åº”çš„çœŸå®çš„Â DOMÂ èŠ‚ç‚¹</span></span><br><span class="line">Â Â Â Â ns?:Â string;Â <span class="comment">//Â èŠ‚ç‚¹çš„Â namespace</span></span><br><span class="line">Â Â Â Â context?:Â Vue;Â <span class="comment">//Â ç¼–è¯‘ä½œç”¨åŸŸ</span></span><br><span class="line">Â Â Â Â key?:Â stringÂ |Â number;Â <span class="comment">//Â èŠ‚ç‚¹çš„æ ‡è¯†ï¼Œæœ‰åˆ©äºÂ patchÂ çš„ä¼˜åŒ–</span></span><br><span class="line">Â Â Â Â componentOptions?:Â VNodeComponentOptions;Â <span class="comment">//Â åˆ›å»ºç»„ä»¶å®ä¾‹æ—¶ï¼Œç”¨åˆ°çš„é€‰é¡¹ä¿¡æ¯</span></span><br><span class="line">Â Â Â Â componentInstance?:Â Vue;Â <span class="comment">//</span></span><br><span class="line">Â Â Â Â parent?:Â VNode;Â <span class="comment">//Â ç»„ä»¶çš„å ä½èŠ‚ç‚¹</span></span><br><span class="line">Â Â Â Â raw?:Â boolean;Â <span class="comment">//Â åŸå§‹Â html</span></span><br><span class="line">Â Â Â Â isStatic?:Â boolean;Â <span class="comment">//Â é™æ€èŠ‚ç‚¹çš„æ ‡è¯†</span></span><br><span class="line">Â Â Â Â isRootInsert:Â boolean;Â <span class="comment">//Â æ˜¯å¦ä½œä¸ºæ ¹èŠ‚ç‚¹æ’å…¥</span></span><br><span class="line">Â Â Â Â isComment:Â boolean;Â <span class="comment">//Â æ˜¯å¦æ˜¯Â æ³¨é‡ŠèŠ‚ç‚¹</span></span><br><span class="line">    isCloned?: boolean; <span class="comment">// æ˜¯å¦æ˜¯ å…‹éš†èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span>Â interfaceÂ VNodeDataÂ &#123;</span><br><span class="line">Â Â Â Â key?:Â stringÂ |Â number;</span><br><span class="line">Â Â Â Â slot?:Â string;</span><br><span class="line">Â Â Â Â scopedSlots?:Â &#123;Â [key:Â string]:Â scopedSlotÂ &#125;;</span><br><span class="line">Â Â Â Â ref?:Â string;</span><br><span class="line">Â Â Â Â tag?:Â string;</span><br><span class="line">Â Â Â Â staticClass?:Â string;</span><br><span class="line">Â Â Â Â class?:Â any;</span><br><span class="line">Â Â Â Â staticStyle?:Â &#123;Â [key:Â string]:Â anyÂ &#125;;</span><br><span class="line">Â Â Â Â style?:Â <span class="built_in">Object</span>[]Â |Â <span class="built_in">Object</span>;</span><br><span class="line">Â Â Â Â props?:Â &#123;Â [key:Â string]:Â anyÂ &#125;;</span><br><span class="line">Â Â Â Â attrs?:Â &#123;Â [key:Â string]:Â anyÂ &#125;;</span><br><span class="line">Â Â Â Â domProps?:Â &#123;Â [key:Â string]:Â anyÂ &#125;;</span><br><span class="line">Â Â Â Â hook?:Â &#123;Â [key:Â string]:Â FuncionÂ &#125;;</span><br><span class="line">Â Â Â Â on?:Â &#123;Â [key:Â string]:Â <span class="built_in">Function</span>Â |Â <span class="built_in">Function</span>[]Â &#125;;</span><br><span class="line">Â Â Â Â nativeOn?:Â &#123;Â [key:Â string]:Â <span class="built_in">Function</span>Â |Â <span class="built_in">Function</span>[]Â &#125;;</span><br><span class="line">Â Â Â Â transition?:Â <span class="built_in">Object</span>;</span><br><span class="line">Â Â Â Â show?:Â boolean;</span><br><span class="line">Â Â Â Â inlineTemplate?:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â render:Â <span class="built_in">Function</span>;</span><br><span class="line">Â Â Â Â Â Â Â Â staticRenderFns:Â <span class="built_in">Function</span>[];</span><br><span class="line">Â Â Â Â &#125;;</span><br><span class="line">Â Â Â Â directives?:Â VNodeDirective[];</span><br><span class="line">Â Â Â Â keepAlive?:Â boolean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>VNode ä¸»è¦å¯åˆ†ä¸ºå¦‚ä¸‹5ç±»ï¼š</p><ul><li><strong>TextVNode</strong> æ–‡æœ¬èŠ‚ç‚¹</li><li><strong>ElementVNode</strong> æ™®é€šå…ƒç´ èŠ‚ç‚¹</li><li><strong>ComponentVNode</strong> ç»„ä»¶èŠ‚ç‚¹</li><li><strong>EmptyVNode</strong> æ²¡æœ‰å†…å®¹çš„æ³¨é‡ŠèŠ‚ç‚¹</li><li><strong>CloneVNode</strong> å…‹éš†èŠ‚ç‚¹ï¼ˆå¯ä»¥ä¸ºä»¥ä¸Šä»»æ„ç±»å‹ï¼‰</li></ul><p><br><br><br><br><br></p><h2 id="Render-å‡½æ•°"><a href="#Render-å‡½æ•°" class="headerlink" title="Render å‡½æ•°"></a>Render å‡½æ•°</h2><p>Render å‡½æ•°é€šè¿‡ <code>createElement</code> å‚æ•°æ¥åˆ›å»º Virtual DOMï¼Œæœ‰åˆ©äºç²¾ç®€ä»£ç ç»“æ„ã€‚</p><p><br><br><br><br><br></p><h2 id="createElement-ç”¨æ³•"><a href="#createElement-ç”¨æ³•" class="headerlink" title="createElement ç”¨æ³•"></a>createElement ç”¨æ³•</h2><h3 id="åŸºæœ¬å‚æ•°"><a href="#åŸºæœ¬å‚æ•°" class="headerlink" title="åŸºæœ¬å‚æ•°"></a>åŸºæœ¬å‚æ•°</h3><p>createElement æ„æˆäº† Vue Virtual DOM çš„æ¨¡æ¿ï¼Œå®ƒæœ‰ 3 ä¸ªå‚æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">createElement(</span><br><span class="line">Â Â Â Â <span class="comment">/**</span></span><br><span class="line"><span class="comment">Â Â Â Â Â *Â &#123;StringÂ |Â ObjectÂ |Â Function&#125;Â ä¸€ä¸ªHTMLæ ‡ç­¾Â /Â ç»„ä»¶é€‰é¡¹Â /Â ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">Â Â Â Â Â *Â å¿…é¡»Â ReturnÂ ä¸Šè¿°å…¶ä¸­ä¸€ä¸ª</span></span><br><span class="line"><span class="comment">Â Â Â Â Â */</span></span><br><span class="line">Â Â Â Â <span class="string">'div'</span>,</span><br><span class="line">Â Â Â Â <span class="comment">/**</span></span><br><span class="line"><span class="comment">Â Â Â Â Â *Â &#123;Object&#125;Â ä¸€ä¸ªå¯¹åº”å±æ€§çš„æ•°æ®å¯¹è±¡ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment">Â Â Â Â Â *Â å¯ä»¥åœ¨Â templateÂ ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="comment">Â Â Â Â Â */</span></span><br><span class="line">Â Â Â Â &#123;&#125;,</span><br><span class="line">Â Â Â Â <span class="comment">/**</span></span><br><span class="line"><span class="comment">Â Â Â Â Â *Â &#123;StringÂ |Â Array&#125;Â å­èŠ‚ç‚¹ï¼ˆVNodeï¼‰ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment">Â Â Â Â Â */</span></span><br><span class="line">Â Â Â Â [</span><br><span class="line">Â Â Â Â Â Â Â Â createElement(<span class="string">'h1'</span>,Â <span class="string">'helloÂ world'</span>),</span><br><span class="line">Â Â Â Â Â Â Â Â createElement(MyComponent,Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â props:Â &#123;Â <span class="attr">someProp</span>:Â <span class="string">'foo'</span>Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;),</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="string">'bar'</span></span><br><span class="line">Â Â Â Â ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>&emsp;&emsp;å…¶ä¸­ï¼Œç¬¬ 2 ä¸ªå‚æ•° â€œæ•°æ®å¯¹è±¡â€ çš„å…·ä½“é€‰é¡¹å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â å’ŒÂ v-bind:Â classÂ ä¸€æ ·çš„API</span></span><br><span class="line">Â Â Â Â <span class="string">'class'</span>:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â foo:Â <span class="literal">true</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â bar:Â <span class="literal">false</span></span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â å’ŒÂ v-bind:Â styleÂ ä¸€æ ·çš„API</span></span><br><span class="line">Â Â Â Â style:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â color:Â <span class="string">'red'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â fontSize:Â <span class="string">'14px'</span></span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ­£å¸¸çš„Â HTMLÂ ç‰¹æ€§</span></span><br><span class="line">Â Â Â Â attrs:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â id:Â <span class="string">'foo'</span></span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â ç»„ä»¶props</span></span><br><span class="line">Â Â Â Â props:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â myProp:Â <span class="string">'bar'</span></span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â DOMÂ å±æ€§</span></span><br><span class="line">Â Â Â Â domProps:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â innerHTML:Â <span class="string">'baz'</span></span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬å™¨â€œonâ€</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â ä¸æ”¯æŒå¦‚Â v-on:Â keyup.enterÂ çš„ä¿®é¥°å™¨</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â éœ€è¦æ‰‹åŠ¨åŒ¹é…Â keyCode</span></span><br><span class="line">Â Â Â Â on:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â click:Â <span class="keyword">this</span>.clickHandler</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â ä»…å¯¹äºç»„ä»¶ï¼Œç”¨äºç›‘å¬åŸç”Ÿäº‹ä»¶</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â è€Œä¸æ˜¯ç»„ä»¶ä½¿ç”¨Â vm.$emitÂ è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶]</span></span><br><span class="line">Â Â Â Â nativeOn:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â click:Â <span class="keyword">this</span>.nativeClickHandler</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â è‡ªå®šä¹‰æŒ‡ä»¤</span></span><br><span class="line">Â Â Â Â directives:Â [&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â name:Â <span class="string">'my-custom-directive'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â value:Â <span class="string">'2'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â expression:Â <span class="string">'1Â +Â 1'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â arg:Â <span class="string">'foo'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â modifiers:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â bar:Â <span class="literal">true</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;],</span><br><span class="line">Â Â Â Â <span class="comment">//Â ä½œç”¨åŸŸÂ slot</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â &#123;name:Â propsÂ =&gt;Â VNodeÂ |Â Array&lt;VNode&gt;&#125;</span></span><br><span class="line">Â Â Â Â scopedSlots:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">default</span>:Â <span class="function"><span class="params">props</span>Â =&gt;</span>Â h(<span class="string">'span'</span>,Â props.text)</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â <span class="comment">//Â å…·åslot</span></span><br><span class="line">Â Â Â Â slot:Â <span class="string">'name-of-slot'</span>,</span><br><span class="line">Â Â Â Â <span class="comment">//Â å…¶ä»–ç‰¹æ®Šé¡¶å±‚å±æ€§</span></span><br><span class="line">Â Â Â Â key:Â <span class="string">'myKey'</span>,</span><br><span class="line">Â Â Â Â ref:Â <span class="string">'myRef'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h3><p>æ‰€æœ‰çš„ç»„ä»¶æ ‘ä¸­ï¼Œå¦‚æœ VNode æ˜¯ <strong>ç»„ä»¶</strong> æˆ– <strong>å«æœ‰ç»„ä»¶çš„ slot</strong>ï¼Œé‚£ä¹ˆ <strong>VNode å¿…é¡»å”¯ä¸€</strong>ã€‚<br>&emsp;&emsp;é‡å¤æ¸²æŸ“å¤šä¸ªç»„ä»¶çš„æ–¹æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Â é‡å¤æ¸²æŸ“å¤šä¸ªç»„ä»¶Â */</span></span><br><span class="line">&lt;divÂ id=<span class="string">"app"</span>&gt;</span><br><span class="line">Â Â Â Â &lt;ele&gt;<span class="xml"><span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/Â å±€éƒ¨å£°æ˜ç»„ä»¶</span></span><br><span class="line"><span class="regexp">varÂ ChildÂ =Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â render:Â function(createElement)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â returnÂ createElement('p',Â 'text');</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp">Vue.component('ele',Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â render:Â function(createElement)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â returnÂ createElement('div',Â </span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Array.apply(null,Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â length:Â 5</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â &#125;).map(function()Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ createElement(Child);</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â &#125;)</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â );</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">varÂ appÂ =Â newÂ Vue(&#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â el:Â '#app'</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></p><p>å¯¹äºå«æœ‰ç»„ä»¶çš„ slotï¼Œå¤ç”¨æ—¶ éœ€è¦å°† slot çš„æ¯ä¸ªå­èŠ‚ç‚¹éƒ½å…‹éš†ä¸€ä»½ï¼ˆæ·±åº¦å…‹éš†ï¼‰ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¤ç”¨å«æœ‰ç»„ä»¶çš„slotï¼Œéœ€è¦å°†slotçš„æ¯ä¸ªå­èŠ‚ç‚¹éƒ½cloneä¸€ä»½ */</span></span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;ele&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Child&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>ele&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ å…¨å±€æ³¨å†Œç»„ä»¶</span></span><br><span class="line"><span class="regexp">Vue.component('Child', &#123;</span></span><br><span class="line"><span class="regexp">    render: function(createElement) &#123;</span></span><br><span class="line"><span class="regexp">        return createElement('p', 'text');</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">Vue.component('ele', &#123;</span></span><br><span class="line"><span class="regexp">    render: function(createElement) &#123;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ å…‹éš† slot èŠ‚ç‚¹çš„æ–¹æ³•</span></span><br><span class="line"><span class="regexp">        function cloneVNode(vnode) &#123;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ é€’å½’éå†æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå¹¶å…‹éš†(å·¥å‚å‡½æ•°)</span></span><br><span class="line"><span class="regexp">            const clonedChildren = vnode.children &amp;&amp; </span></span><br><span class="line"><span class="regexp">            vnode.children.map(function(v) &#123;</span></span><br><span class="line"><span class="regexp">                return cloneVNode(v);</span></span><br><span class="line"><span class="regexp">            &#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">            const cloned = createElement(</span></span><br><span class="line"><span class="regexp">                vnode.tag,</span></span><br><span class="line"><span class="regexp">                vnode.data,</span></span><br><span class="line"><span class="regexp">                clonedChildren</span></span><br><span class="line"><span class="regexp">            );</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ VNode å…³é”®å±æ€§</span></span><br><span class="line"><span class="regexp">            cloned.text = vnode.text;</span></span><br><span class="line"><span class="regexp">            cloned.isComment = vnode.isComment;</span></span><br><span class="line"><span class="regexp">            cloned.componentOptions = vnode.componentOptions;</span></span><br><span class="line"><span class="regexp">            cloned.elm = vnode.elm;</span></span><br><span class="line"><span class="regexp">            cloned.context = vnode.context;</span></span><br><span class="line"><span class="regexp">            cloned.ns = vnode.ns;</span></span><br><span class="line"><span class="regexp">            cloned.isStatic = vnode.isStatic;</span></span><br><span class="line"><span class="regexp">            cloned.key = vnode.key;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">            return cloned;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        const vNodes = this.$slots.default;</span></span><br><span class="line"><span class="regexp">        const clonedVNodes = vNodes.map(function(vnode) &#123;</span></span><br><span class="line"><span class="regexp">            return cloneVNode(vnode);</span></span><br><span class="line"><span class="regexp">        &#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        return createElement('div', [</span></span><br><span class="line"><span class="regexp">            vNodes,</span></span><br><span class="line"><span class="regexp">            clonedVNodes</span></span><br><span class="line"><span class="regexp">        ]);</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">var app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">    el: '#app'</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></p><h3 id="ä½¿ç”¨-JavaScript-ä»£æ›¿æ¨¡æ¿åŠŸèƒ½"><a href="#ä½¿ç”¨-JavaScript-ä»£æ›¿æ¨¡æ¿åŠŸèƒ½" class="headerlink" title="ä½¿ç”¨ JavaScript ä»£æ›¿æ¨¡æ¿åŠŸèƒ½"></a>ä½¿ç”¨ JavaScript ä»£æ›¿æ¨¡æ¿åŠŸèƒ½</h3><p>åœ¨ Render å‡½æ•°ä¸­ï¼Œ<strong>ä¸èƒ½ä½¿ç”¨ Vue å†…ç½®çš„æŒ‡ä»¤</strong>ï¼Œæ— è®ºè¦å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œéƒ½å¯ä»¥ç”¨åŸç”Ÿ JavaScriptã€‚<br>ä¾‹å¦‚ï¼Œä½¿ç”¨ JS çš„for å¾ªç¯æ¥å®ç° v-for å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Â JSÂ å®ç°Â v-forÂ */</span></span><br><span class="line">&lt;divÂ id=<span class="string">"app"</span>&gt;</span><br><span class="line">Â Â Â Â &lt;eleÂ :list=<span class="string">"list"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">Vue.component('ele',Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â render:Â function(createElement)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â varÂ nodesÂ =Â [];</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â for(varÂ iÂ =Â 0;Â iÂ &lt;Â this.list.length;Â i++)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â nodes.push(createElement('p',Â this.list[i]));</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â returnÂ createElement('div',Â nodes);</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;,</span></span><br><span class="line"><span class="regexp">Â Â Â Â props:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â list:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â type:Â Array</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">varÂ appÂ =Â newÂ Vue(&#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â el:Â '#app',</span></span><br><span class="line"><span class="regexp">Â Â Â Â data:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â list:Â [</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â 'ã€ŠVue.jsÂ å®æˆ˜ã€‹',</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â 'ã€ŠJavaScriptÂ é«˜çº§ç¨‹åºè®¾è®¡ã€‹',</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â 'ã€ŠJavaScriptÂ è¯­è¨€ç²¾ç²¹ã€‹'</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â ]</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></p><p>Render å‡½æ•°é‡Œä¹Ÿæ²¡æœ‰ä¸ <strong>v-model</strong> å¯¹åº”çš„APIï¼›å¯¹äº <strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong> å’Œ <strong>æŒ‰é”®ä¿®é¥°ç¬¦</strong>ï¼ŒåŸºæœ¬ä¹Ÿéœ€è¦è‡ªå·±å®ç°ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„å‘é€èŠå¤©å†…å®¹çš„åœºæ™¯æ¨¡æ‹Ÿï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Â èŠå¤©å‘é€å†…å®¹çš„ç®€å•æ¨¡æ‹ŸÂ */</span></span><br><span class="line">&lt;divÂ id=<span class="string">"app"</span>&gt;</span><br><span class="line">Â Â Â Â &lt;ele&gt;<span class="xml"><span class="tag">&lt;/<span class="name">ele</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">Vue.component('ele',Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â render:Â function(createElement)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â varÂ _thisÂ =Â this;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â /</span><span class="regexp">/Â æ¸²æŸ“èŠå¤©å†…å®¹åˆ—è¡¨</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â ifÂ (this.list.length)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â varÂ listNodeÂ =Â createElement('ul',Â this.list.map(function(item)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ createElement('li',Â item);</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â &#125;));</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â &#125;Â elseÂ &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â varÂ listNodeÂ =Â createElement('p',Â 'æš‚æ— èŠå¤©å†…å®¹');</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â /</span><span class="regexp">/Â </span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â returnÂ createElement('div',Â [</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â listNode,</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â createElement('input',Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â attrs:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â placeholder:Â 'è¾“å…¥å†…å®¹ï¼ŒæŒ‰å›è½¦é”®å‘é€'</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â style:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â width:Â '200px'</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â on:Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â keyup:Â function(evt)Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å¦‚æœä¸æ˜¯å›è½¦é”®ï¼Œä¸å‘é€æ•°æ®</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (evt.keyCodeÂ !==Â 13)Â return;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â æ·»åŠ è¾“å…¥çš„å†…å®¹åˆ°èŠå¤©åˆ—è¡¨</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _this.list.push(evt.target.value);</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â å‘é€åï¼Œæ¸…ç©ºè¾“å…¥æ¡†</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â evt.target.valueÂ =Â '';</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â &#125;)</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â ]);</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;,</span></span><br><span class="line"><span class="regexp">Â Â Â Â data:Â function()Â &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â returnÂ &#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â value:Â '',</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â Â Â Â Â list:Â []</span></span><br><span class="line"><span class="regexp">Â Â Â Â Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">Â Â Â Â &#125;</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">varÂ appÂ =Â newÂ Vue(&#123;</span></span><br><span class="line"><span class="regexp">Â Â Â Â el:Â '#app'</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure></p><p><br><br><br><br><br></p><h2 id="å‡½æ•°åŒ–ç»„ä»¶"><a href="#å‡½æ•°åŒ–ç»„ä»¶" class="headerlink" title="å‡½æ•°åŒ–ç»„ä»¶"></a>å‡½æ•°åŒ–ç»„ä»¶</h2><p>å°† <strong>functional å¸ƒå°”å€¼é€‰é¡¹</strong>è®¾ç½®ä¸º trueï¼Œå¯ä»¥ä½¿ç»„ä»¶ <strong>æ— çŠ¶æ€</strong> å’Œ <strong>æ— å®ä¾‹</strong>ï¼Œå³ æ²¡æœ‰ data å’Œ thisä¸Šä¸‹æ–‡ã€‚è¿™æ ·ç”¨ render å‡½æ•°è¿”å›è™šæ‹ŸèŠ‚ç‚¹å¯ä»¥æ›´å®¹æ˜“æ¸²æŸ“ã€‚<br>&emsp;&emsp;ä½¿ç”¨å‡½æ•°åŒ–ç»„ä»¶æ—¶ï¼ŒRender å‡½æ•°é€šè¿‡ç¬¬äºŒä¸ªå‚æ•° context æ¥æä¾› <strong>ä¸´æ—¶ä¸Šä¸‹æ–‡</strong>ã€‚ç»„ä»¶éœ€è¦çš„ <strong>dataã€propsã€slotsã€childrenã€parent</strong> éƒ½æ˜¯é€šè¿‡è¿™ä¸ªä¸Šä¸‹æ–‡æ¥ä¼ é€’çš„ã€‚æ¯”å¦‚ï¼Œ <code>this.level</code> è¦æ”¹å†™ä¸º <code>context.props.level</code>ï¼Œ <code>this.$slots.default</code>æ”¹å†™ä¸º <code>context.children</code> ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Â ç”¨å‡½æ•°åŒ–ç»„ä»¶Â å±•ç¤ºä¸€ä¸ªÂ æ ¹æ®æ•°æ®Â æ™ºèƒ½é€‰æ‹©ä¸åŒç»„ä»¶Â çš„åœºæ™¯Â */</span></span><br><span class="line"></span><br><span class="line">&lt;divÂ id=<span class="string">"app"</span>&gt;</span><br><span class="line">Â Â Â Â &lt;smart-itemÂ :data=<span class="string">"data"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">smart-item</span>&gt;</span></span></span><br><span class="line"><span class="xml">Â Â Â Â <span class="tag">&lt;<span class="name">button</span>Â @<span class="attr">click</span>=<span class="string">"change('img')"</span>&gt;</span>åˆ‡æ¢ä¸ºå›¾ç‰‡ç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">Â Â Â Â <span class="tag">&lt;<span class="name">button</span>Â @<span class="attr">click</span>=<span class="string">"change('video')"</span>&gt;</span>åˆ‡æ¢ä¸ºè§†é¢‘ç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">Â Â Â Â <span class="tag">&lt;<span class="name">button</span>Â @<span class="attr">click</span>=<span class="string">"change('text')"</span>&gt;</span>åˆ‡æ¢ä¸ºæ–‡æœ¬ç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">//Â å›¾ç‰‡ç»„ä»¶é€‰é¡¹</span></span><br><span class="line"><span class="keyword">var</span>Â ImgItemÂ =Â &#123;</span><br><span class="line">Â Â Â Â props:Â [<span class="string">'data'</span>],</span><br><span class="line">Â Â Â Â render:Â <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â createElement(<span class="string">'div'</span>,Â [</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'p'</span>,Â <span class="string">'å›¾ç‰‡ç»„ä»¶'</span>),</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'img'</span>,Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â attrs:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â src:Â <span class="keyword">this</span>.data.url</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;),</span><br><span class="line">Â Â Â Â Â Â Â Â ])</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//Â è§†é¢‘ç»„ä»¶é€‰é¡¹</span></span><br><span class="line"><span class="keyword">var</span>Â VideoItemÂ =Â &#123;</span><br><span class="line">Â Â Â Â props:Â [<span class="string">'data'</span>],</span><br><span class="line">Â Â Â Â render:Â <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â createElement(<span class="string">'div'</span>,Â [</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'p'</span>,Â <span class="string">'è§†é¢‘ç»„ä»¶'</span>),</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'video'</span>,Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â attrs:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â src:Â <span class="keyword">this</span>.data.url,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â controls:Â <span class="string">'controls'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â autoplay:Â <span class="string">'autoplay'</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;),</span><br><span class="line">Â Â Â Â Â Â Â Â ])</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//Â çº¯æ–‡æœ¬ç»„ä»¶é€‰é¡¹</span></span><br><span class="line"><span class="keyword">var</span>Â TextItemÂ =Â &#123;</span><br><span class="line">Â Â Â Â props:Â [<span class="string">'data'</span>],</span><br><span class="line">Â Â Â Â render:Â <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â createElement(<span class="string">'div'</span>,Â [</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'p'</span>,Â <span class="string">'çº¯æ–‡æœ¬ç»„ä»¶'</span>),</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â createElement(<span class="string">'p'</span>,Â <span class="keyword">this</span>.data.text),</span><br><span class="line">Â Â Â Â Â Â Â Â ])</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//Â è‡ªå®šä¹‰Â smart-itemÂ ç»„ä»¶</span></span><br><span class="line">Vue.component(<span class="string">'smart-item'</span>,Â &#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â å‡½æ•°åŒ–ç»„ä»¶</span></span><br><span class="line">Â Â Â Â functional:Â <span class="literal">true</span>,</span><br><span class="line">Â Â Â Â render:Â <span class="function"><span class="keyword">function</span>(<span class="params">createElement,Â context</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="comment">//Â æ ¹æ®ä¼ å…¥çš„æ•°æ®ï¼Œæ™ºèƒ½åˆ¤æ–­æ˜¾ç¤ºå“ªç§ç»„ä»¶</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getComponent</span>(<span class="params"></span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">var</span>Â dataÂ =Â context.props.data;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="comment">//Â åˆ¤æ–­Â prop:Â dataÂ çš„Â typeÂ å­—æ®µæ˜¯å±äºå“ªç§ç±»å‹çš„ç»„ä»¶</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">if</span>Â (data.typeÂ ===Â <span class="string">'img'</span>)Â <span class="keyword">return</span>Â ImgItem;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">if</span>Â (data.typeÂ ===Â <span class="string">'video'</span>)Â <span class="keyword">return</span>Â VideoItem;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â TextItem;</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">return</span>Â createElement(</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â getComponent(),</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â props:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="comment">//Â æŠŠÂ smart-itemÂ çš„Â prop:Â dataÂ ä¼ ç»™ä¸Šé¢æ™ºèƒ½é€‰æ‹©çš„ç»„ä»¶</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data:Â context.props.data</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â context.children</span><br><span class="line">Â Â Â Â Â Â Â Â )</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â props:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â data:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â type:Â <span class="built_in">Object</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â required:Â <span class="literal">true</span></span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span>Â appÂ =Â <span class="keyword">new</span>Â Vue(&#123;</span><br><span class="line">Â Â Â Â el:Â <span class="string">'#app'</span>,</span><br><span class="line">Â Â Â Â data:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â data:Â &#123;&#125;</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â methods:Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="comment">//Â åˆ‡æ¢ä¸åŒç±»å‹ç»„ä»¶çš„æ•°æ®</span></span><br><span class="line">Â Â Â Â Â Â Â Â change:Â <span class="function"><span class="keyword">function</span>(<span class="params">type</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">if</span>Â (typeÂ ===Â <span class="string">'img'</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">this</span>.dataÂ =Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type:Â <span class="string">'img'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â url:Â <span class="string">'https://raw.githubusercontent.com/iview/iview/master/assets/logo.png'</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â <span class="keyword">else</span>Â <span class="keyword">if</span>Â (typeÂ ===Â <span class="string">'video'</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">this</span>.dataÂ =Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type:Â <span class="string">'video'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â url:Â <span class="string">'http://vjs/zencdn.net/v/oceans.mp4'</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â <span class="keyword">else</span>Â <span class="keyword">if</span>Â (typeÂ ===Â <span class="string">'text'</span>)Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="keyword">this</span>.dataÂ =Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â type:Â <span class="string">'text'</span>,</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â content:Â <span class="string">'è¿™æ˜¯ä¸€æ®µçº¯æ–‡æœ¬'</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â &#125;,</span><br><span class="line">Â Â Â Â created:Â <span class="function"><span class="keyword">function</span>(<span class="params"></span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â <span class="comment">//Â åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤è®¾ç½®Â å›¾ç‰‡ç»„ä»¶Â çš„æ•°æ®</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="keyword">this</span>.change(<span class="string">'img'</span>);</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œsmart-item å’Œ 3ä¸ªåŠŸèƒ½ç»„ä»¶ éƒ½æœ‰ <code>prop: data</code>ï¼Œè¿™é‡Œé€šè¿‡ <code>createElement</code> å‡½æ•°æŠŠ <code>getComponent()</code> è¿”å›çš„å¯¹è±¡è®¾ç½®ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé€šè¿‡ç¬¬äºŒä¸ªå‚æ•° <code>context</code> æŠŠ <code>smart-item</code> çš„<code>data</code> ä¼ é€’åˆ°é€‰æ‹©çš„ç»„ä»¶é‡Œçš„ <code>prop: data</code>ï¼Œç»„ä»¶æ¸²æŸ“å‡ºä¸åŒçš„å†…å®¹ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œå‡½æ•°åŒ–ç»„ä»¶ ä¸»è¦é€‚ç”¨äºä»¥ä¸‹ä¸¤ä¸ªåœºæ™¯ï¼š</p><ul><li>ç¨‹åºåŒ–åœ°åœ¨å¤šä¸ªç»„ä»¶ä¸­é€‰æ‹©ä¸€ä¸ª.</li><li>åœ¨å°† childrenï¼Œpropsï¼Œdata ä¼ é€’ç»™å­ç»„ä»¶ä¹‹å‰ æ“ä½œå®ƒä»¬.</li></ul><p><br><br><br><br><br></p><h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><p>ä½¿ç”¨ Render å‡½æ•°æœ€ä¸å‹å¥½çš„åœ°æ–¹åœ¨äºï¼Œå½“å­èŠ‚ç‚¹åµŒå¥—è¾ƒå¤šæ—¶ï¼Œä½¿ç”¨ createElement éš¾ä»¥ä¹¦å†™åŠé˜…è¯»å‡º DOMç»“æ„ã€‚<br>&emsp;&emsp;<strong>JSX</strong> æ˜¯ä¸€ç§çœ‹èµ·æ¥åƒ HTMLï¼Œä½†å®é™…æ˜¯ <strong>JavaScript çš„è¯­æ³•æ‰©å±•</strong>ï¼Œå®ƒç”¨æ›´æ¥è¿‘ DOM ç»“æ„çš„å½¢å¼ æ¥æè¿°ä¸€ä¸ªç»„ä»¶çš„ UI å’ŒçŠ¶æ€ä¿¡æ¯ã€‚Vue.js æä¾›äº†æ’ä»¶ <code>babel-plugin-transform-vue-jsx</code> æ¥æ”¯æŒ JSX è¯­æ³•ã€‚</p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Virtual-DOM&quot;&gt;&lt;a href=&quot;#Virtual-DOM&quot; class=&quot;headerlink&quot; title=&quot;Virtual DOM&quot;&gt;&lt;/a&gt;Virtual DOM&lt;/h2&gt;&lt;p&gt;Virtual DOM æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Javascript å¯¹è±¡ï¼Œ
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="Vue.jså®æˆ˜" scheme="http://fujiafeng.com/tags/Vue-js%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>Vue.js åŸºç¡€è¯­æ³•</title>
    <link href="http://fujiafeng.com/2019/10/20/Vue-js-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/"/>
    <id>http://fujiafeng.com/2019/10/20/Vue-js-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</id>
    <published>2019-10-20T15:41:38.000Z</published>
    <updated>2019-10-21T14:53:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>Vue.js ç®€ä»‹ï¼š</p><ul><li>ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ <strong>æ¸è¿›å¼æ¡†æ¶</strong>ï¼›</li><li>ä½¿ç”¨ <strong>Virtual DOM</strong>ï¼ˆ<strong>æ•°æ®é©±åŠ¨</strong> DOMï¼‰ï¼›</li><li>æä¾› <strong>å“åº”å¼ã€ç»„ä»¶åŒ–</strong> çš„è§†å›¾ç»„ä»¶ï¼›</li><li>åªå…³æ³¨æ ¸å¿ƒåº“ï¼ˆå£°æ˜å¼æ¸²æŸ“+ç»„ä»¶ç³»ç»Ÿï¼‰ï¼Œå…¶ä½™äº¤ç»™å…¶ä»–åº“å®ç°ï¼š<ul><li>å®¢æˆ·ç«¯è·¯ç”±ï¼š<strong>Vue Router</strong></li><li>å¤§è§„æ¨¡çŠ¶æ€ç®¡ç†ï¼š<strong>Vuex</strong></li><li>æ„å»ºå·¥å…·ï¼š<strong>Vue CLI</strong></li></ul></li></ul><p><br><br><img width="80%"><br><img src="/2019/10/20/Vue-js-åŸºç¡€è¯­æ³•/è™šæ‹Ÿdom.png" title="Vueè™šæ‹ŸDOM"><br><br><img width="80%"><br><img src="/2019/10/20/Vue-js-åŸºç¡€è¯­æ³•/ä¾èµ–è¿½è¸ª.png" title="Vueä¾èµ–è¿½è¸ª"><br></p><h2 id="vue-æŒ‡ä»¤"><a href="#vue-æŒ‡ä»¤" class="headerlink" title="vue æŒ‡ä»¤"></a>vue æŒ‡ä»¤</h2><p>ä»¥ä¸‹æŒ‡ä»¤ å¯ä½¿ç”¨ <em>å¯¹è±¡è¯­æ³•</em>ã€<em>æ•°ç»„è¯­æ³•</em> æˆ– <code>data</code>ã€<code>methods</code>ã€<code>computed</code> é€‰é¡¹ï¼š</p><ul><li><strong>v-on</strong>   ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ï¼ˆäº‹ä»¶ / æŒ‰é”®ä¿®é¥°ç¬¦ï¼‰</li><li><strong>v-bind</strong>   ï¼ˆ1ï¼‰åŠ¨æ€æ›´æ–° HTMLå…ƒç´ ï¼›ï¼ˆ2ï¼‰class ä¸ style çš„ç»‘å®šã€‚</li></ul><p>ä»¥ä¸‹æŒ‡ä»¤ç”¨äº åœ¨<strong>è¡¨å•</strong>ä¸­åŒå‘æ•°æ®ç»‘å®šï¼š</p><ul><li><strong>v-model</strong>    åŒå‘ç»‘å®šæ•°æ®</li></ul><p>ä»¥ä¸‹æŒ‡ä»¤ç”¨äº <strong>ç»„ä»¶</strong>ï¼š</p><ul><li><strong>v-slot</strong>   å…·åæ’æ§½</li></ul><p>ä»¥ä¸‹æŒ‡ä»¤ å¯ç”¨åœ¨å†…ç½®æ ‡ç­¾ <code>&lt;template&gt;</code> ä¸Šï¼š</p><ul><li><strong>v-if / v-else-if / v-else</strong>  æ¡ä»¶æ¸²æŸ“</li><li><strong>v-show</strong>   æ”¹å˜å…ƒç´ çš„ CSSå±æ€§ display</li><li><strong>v-for</strong>   åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ï¼ˆå¯ç”¨äº Arrayï¼ŒObjectï¼‰</li></ul><p>å…¶ä»–å¸¸ç”¨æŒ‡ä»¤ï¼š</p><ul><li><strong>v-cloak</strong>  Vueå®ä¾‹ ç»“æŸç¼–è¯‘æ—¶ï¼Œä»ç»‘å®šçš„ HTMLå…ƒç´ ä¸Šç§»é™¤</li><li><strong>v-once</strong>  å®šä¹‰å®ƒçš„å…ƒç´ /ç»„ä»¶ åªæ¸²æŸ“ä¸€æ¬¡</li><li><strong>v-html</strong>  </li><li><strong>v-pre</strong>   è·³è¿‡ç¼–è¯‘è¿‡ç¨‹</li></ul><h3 id="è¯­æ³•ç³–"><a href="#è¯­æ³•ç³–" class="headerlink" title="è¯­æ³•ç³–"></a>è¯­æ³•ç³–</h3><ul><li>v-bind å¯ç®€å†™ä¸º <code>:</code> ;</li><li>v-on å¯ç®€å†™ä¸º <code>@</code></li></ul><blockquote><p>è¯­æ³•ç³–ï¼š<br>&emsp;&emsp;åœ¨ä¸å½±å“åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ æŸç§æ–¹æ³• å®ç°åŒæ ·çš„æ•ˆæœã€‚</p></blockquote><h3 id="Vue-æ£€æµ‹æ•°ç»„æ›´æ–°"><a href="#Vue-æ£€æµ‹æ•°ç»„æ›´æ–°" class="headerlink" title="Vue æ£€æµ‹æ•°ç»„æ›´æ–°"></a>Vue æ£€æµ‹æ•°ç»„æ›´æ–°</h3><p>Vue åŒ…å«äº†ä¸€ç»„è§‚å¯Ÿ <strong>æ•°ç»„å˜å¼‚</strong> çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p><ul><li><strong>push()  /  pop()</strong></li><li><strong>shift()  /  unshift()</strong></li><li><strong>splice()</strong></li><li><strong>sort()  /  reverse()</strong></li></ul><p>ä¹ŸåŒ…å«ä¸€äº› <strong>éå˜å¼‚æ–¹æ³•</strong>ï¼Œå¦‚ä¸‹ï¼š</p><ul><li><strong>filter()</strong></li><li><strong>concat()</strong></li><li><strong>slice()</strong></li></ul><p>æ³¨æ„ï¼Œä»¥ä¸‹æ•°ç»„æ“ä½œï¼Œ<strong>Vue ä¸èƒ½æ£€æµ‹</strong>åˆ°ï¼Œä¹Ÿä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼š</p><ul><li><strong>é€šè¿‡ç´¢å¼•ç›´æ¥è®¾ç½®é¡¹</strong>ï¼šapp.books[3] = { â€¦ };</li><li><strong>ä¿®æ”¹æ•°ç»„é•¿åº¦</strong>ï¼šapp.books.length = 1;</li></ul><p><br><br><br><br><br></p><h2 id="vue-å®ä¾‹é€‰é¡¹"><a href="#vue-å®ä¾‹é€‰é¡¹" class="headerlink" title="vue å®ä¾‹é€‰é¡¹"></a>vue å®ä¾‹é€‰é¡¹</h2><ul><li><strong>el</strong>  æŒ‡å®šä¸€ä¸ªé¡µé¢ä¸­å·²å­˜åœ¨çš„ DOMå…ƒç´ ï¼Œæ¥æŒ‚è½½ Vueå®ä¾‹</li><li><strong>data</strong>   å£°æ˜åº”ç”¨å†…éœ€è¦åŒå‘ç»‘å®šçš„æ•°æ®</li><li><strong>computed</strong>   è®¡ç®—å±æ€§ï¼ˆå‡½æ•°å½¢å¼ /  <code>{ get: Function, set: Function }</code>ï¼‰<ol><li>æ–‡æœ¬æ’å€¼ï¼›</li><li>åŠ¨æ€åœ°è®¾ç½®å…ƒç´ æ ·å¼åclassã€å†…è”æ ·å¼styleï¼›</li><li>ä½¿ç”¨ç»„ä»¶æ—¶ï¼ŒåŠ¨æ€ä¼ é€’props</li></ol></li><li><strong>methods</strong>   å£°æ˜æ–¹æ³•</li><li><strong>components</strong>   å£°æ˜ç»„ä»¶</li><li><strong>props</strong>   çˆ¶ç»„ä»¶ä¼ å€¼</li><li><strong>filters</strong>   å£°æ˜è¿‡æ»¤å™¨ï¼ˆç”¨äºç®€å•çš„ æ–‡æœ¬è½¬æ¢ï¼‰</li></ul><p><br><br><br><br><br></p><h2 id="vue-å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#vue-å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="vue å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­"></a>vue å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­</h2><ul><li><strong>beforeCreate / created</strong>  åˆ›å»º</li><li><strong>beforeMount / mounted</strong>  æŒ‚è½½ï¼ˆæŒ‚è½½å <code>$el</code> æ‰å¯ç”¨ï¼‰</li><li><strong>beforeUpdate / updated</strong>  æ•°æ®æ›´æ–°</li><li><strong>activated / deactivated</strong>  keep-aliveç»„ä»¶ æ¿€æ´»/åœç”¨ æ—¶ï¼ˆvue-routerï¼‰</li><li><strong>beforeDestroy / destroyed</strong>  é”€æ¯</li></ul><p><img width="80%"><br><img src="/2019/10/20/Vue-js-åŸºç¡€è¯­æ³•/Vueç”Ÿå‘½å‘¨æœŸ.png" title="Vueç”Ÿå‘½å‘¨æœŸ"><br></p><p><strong>çˆ¶å­ç»„ä»¶ ç”Ÿå‘½å‘¨æœŸ æ‰§è¡Œé¡ºåºï¼š</strong></p><ul><li><p>åŠ è½½æ¸²æŸ“</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt;</span><br><span class="line">å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt;</span><br><span class="line">å­ mounted -&gt; çˆ¶ mounted</span><br></pre></td></tr></table></figure></li><li><p>å­ç»„ä»¶æ›´æ–°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ beforeUpdate -&gt; å­ beforeUpdate -&gt; </span><br><span class="line">å­ updated -&gt; çˆ¶ updated</span><br></pre></td></tr></table></figure></li><li><p>çˆ¶ç»„ä»¶æ›´æ–°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ beforeUpdate -&gt; çˆ¶ updated</span><br></pre></td></tr></table></figure></li><li><p>é”€æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt;</span><br><span class="line">å­ destroyed -&gt; çˆ¶ destroyed</span><br></pre></td></tr></table></figure></li></ul><p>æ›´å¤šè¯¦æƒ…è¯·è§ï¼š<a href="https://cn.vuejs.org/v2/api/index.html" target="_blank" rel="noopener">VueJs APIæ–‡æ¡£</a></p><p><br><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Vue.js ç®€ä»‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ &lt;strong&gt;æ¸è¿›å¼æ¡†æ¶&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;strong&gt;Virtual DOM&lt;/strong&gt;ï¼ˆ&lt;strong&gt;æ•°æ®é©±åŠ¨&lt;/strong&gt; DOMï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;æ
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="Vue.jså®æˆ˜" scheme="http://fujiafeng.com/tags/Vue-js%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>ESLint ä»£ç æ£€æŸ¥å·¥å…·</title>
    <link href="http://fujiafeng.com/2019/09/26/ESLint-%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7/"/>
    <id>http://fujiafeng.com/2019/09/26/ESLint-%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7/</id>
    <published>2019-09-25T16:35:25.000Z</published>
    <updated>2019-09-25T16:57:54.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…³äº-ESLint"><a href="#å…³äº-ESLint" class="headerlink" title="å…³äº ESLint"></a>å…³äº ESLint</h1><p>ESLint æ˜¯ä¸€ä¸ªæ’ä»¶åŒ–çš„ javascript ä»£ç æ£€æµ‹å·¥å…·ï¼Œå€ŸåŠ© ESLintï¼Œå¯å°† <strong>é™æ€ä»£ç åˆ†æ</strong> å’Œ <strong>é—®é¢˜ä»£ç ååŠ©ä¿®å¤</strong> é›†æˆåˆ° <strong>ç¼–ç </strong>ã€<strong>æäº¤</strong> å’Œ <strong>æ‰“åŒ…</strong> è¿‡ç¨‹ä¸­ï¼ŒåŠæ—©å‘ç°å¹¶ååŠ©ä¿®å¤ä»£ç ä¸­ï¼š</p><ol><li>æœ‰è¯­æ³•é”™è¯¯çš„éƒ¨åˆ†</li><li>ä¸ç¬¦åˆçº¦å®šçš„æ ·å¼å‡†åˆ™çš„éƒ¨åˆ†</li><li>ä¸ç¬¦åˆçº¦å®šçš„æœ€ä½³å®è·µçš„éƒ¨åˆ†</li></ol><p>åœ¨é¡¹ç›®å¼€å‘ä¸­è·å¾—å¦‚ä¸‹æ”¶ç›Šï¼š</p><ol><li>åœ¨æ‰§è¡Œä»£ç ä¹‹å‰å‘ç°å¹¶ä¿®å¤è¯­æ³•é”™è¯¯ï¼Œå‡å°‘è°ƒè¯•è€—æ—¶å’Œæ½œåœ¨ bug</li><li>ä¿è¯é¡¹ç›®çš„ <strong>ç¼–ç é£æ ¼ç»Ÿä¸€</strong>ï¼Œæé«˜å¯ç»´æŠ¤æ€§</li><li>ç£ä¿ƒå›¢é˜Ÿæˆå‘˜åœ¨ç¼–ç æ—¶éµå®ˆçº¦å®šçš„æœ€ä½³å®è·µï¼Œæé«˜ä»£ç è´¨é‡</li></ol><p><br><br><br></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p><br></p><h2 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="headerlink" title="å…¨å±€å®‰è£…"></a>å…¨å±€å®‰è£…</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g eslint</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–é…ç½®æ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ eslint --init</span><br></pre></td></tr></table></figure></p><h2 id="å±€éƒ¨å®‰è£…"><a href="#å±€éƒ¨å®‰è£…" class="headerlink" title="å±€éƒ¨å®‰è£…"></a>å±€éƒ¨å®‰è£…</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install eslint --save-dev</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–é…ç½®æ–‡ä»¶<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint --init</span><br></pre></td></tr></table></figure></p><p><br><br><br></p><h1 id="è§„åˆ™é…ç½®æ¨¡å¼"><a href="#è§„åˆ™é…ç½®æ¨¡å¼" class="headerlink" title="è§„åˆ™é…ç½®æ¨¡å¼"></a>è§„åˆ™é…ç½®æ¨¡å¼</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è§„åˆ™åï¼š [ é”™è¯¯çº§åˆ«ï¼Œ é™„åŠ é€‰é¡¹ ]</span><br><span class="line">è§„åˆ™åï¼š é”™è¯¯çº§åˆ«</span><br></pre></td></tr></table></figure><p>ESLint å®šä¹‰äº† <strong>ä¸‰ç§é”™è¯¯çº§åˆ«</strong>ï¼š</p><ul><li><p><strong>â€œoffâ€</strong> æˆ– <strong>0</strong> - å…³é—­ï¼Œä¸æ ¡éªŒè¯¥è§„åˆ™</p></li><li><p><strong>â€œwarnâ€</strong> æˆ– <strong>1</strong> - è­¦å‘Šï¼Œä¸å½±å“ exit code</p></li><li><p><strong>â€œerrorâ€</strong> æˆ– <strong>2</strong> - é”™è¯¯ï¼Œè§¦å‘è¯¥è§„åˆ™æ—¶ exit code ä¸º 1</p></li></ul><p><br><br><br></p><h1 id="webpack-ä¸­é…ç½®-eslint-ï¼ˆvueç‰ˆï¼‰"><a href="#webpack-ä¸­é…ç½®-eslint-ï¼ˆvueç‰ˆï¼‰" class="headerlink" title="webpack ä¸­é…ç½® eslint ï¼ˆvueç‰ˆï¼‰"></a>webpack ä¸­é…ç½® eslint ï¼ˆvueç‰ˆï¼‰</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">Â Â test:Â <span class="regexp">/\.(js|vue)$/</span>,</span><br><span class="line">Â Â loader:Â <span class="string">'eslint-loader'</span>,</span><br><span class="line">Â Â enforce:Â <span class="string">'pre'</span>,</span><br><span class="line">Â Â include:Â [resolve(<span class="string">'src'</span>),Â resolve(<span class="string">'test'</span>)],</span><br><span class="line">Â Â options:Â &#123;</span><br><span class="line">Â Â Â Â formatter:Â <span class="built_in">require</span>(<span class="string">'eslint-friendly-formatter'</span>),</span><br><span class="line">Â Â Â Â emitWarning:Â !config.dev.showEslintErrorsInOverlay</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="vue-cli-çš„-eslintrc-js-é…ç½®æ–‡ä»¶ï¼š"><a href="#vue-cli-çš„-eslintrc-js-é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="vue-cli çš„ .eslintrc.js é…ç½®æ–‡ä»¶ï¼š"></a>vue-cli çš„ .eslintrc.js é…ç½®æ–‡ä»¶ï¼š</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">Â Â <span class="comment">//æ­¤é¡¹æ˜¯ç”¨æ¥å‘Šè¯‰eslintæ‰¾å½“å‰é…ç½®æ–‡ä»¶ä¸èƒ½å¾€çˆ¶çº§æŸ¥æ‰¾</span></span><br><span class="line">Â Â root: <span class="literal">true</span>,</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">//æ­¤é¡¹æ˜¯ç”¨æ¥æŒ‡å®šeslintè§£æå™¨çš„ï¼Œè§£æå™¨å¿…é¡»ç¬¦åˆè§„åˆ™ï¼Œbabel-eslintè§£æå™¨æ˜¯å¯¹babelè§£æå™¨çš„åŒ…è£…ä½¿å…¶ä¸ESLintè§£æ</span></span><br><span class="line">Â Â parser: <span class="string">'babel-eslint'</span>,</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">//æ­¤é¡¹æ˜¯ç”¨æ¥æŒ‡å®šjavaScriptè¯­è¨€ç±»å‹å’Œé£æ ¼ï¼ŒsourceTypeç”¨æ¥æŒ‡å®šjså¯¼å…¥çš„æ–¹å¼ï¼Œé»˜è®¤æ˜¯scriptï¼Œæ­¤å¤„è®¾ç½®ä¸ºmoduleï¼ŒæŒ‡æŸå—å¯¼å…¥æ–¹å¼</span></span><br><span class="line">Â Â parserOptions: &#123;</span><br><span class="line">Â Â Â Â sourceType: <span class="string">'module'</span></span><br><span class="line">Â Â &#125;,</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">//æ­¤é¡¹æŒ‡å®šç¯å¢ƒçš„å…¨å±€å˜é‡ï¼Œä¸‹é¢çš„é…ç½®æŒ‡å®šä¸ºæµè§ˆå™¨ç¯å¢ƒ</span></span><br><span class="line">Â Â env: &#123;</span><br><span class="line">Â Â Â Â browser: <span class="literal">true</span>,</span><br><span class="line">Â Â &#125;,</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">//https://github.com/feross/standard/blob/master/RULES.md#javascript-standard-style</span></span><br><span class="line">Â Â <span class="comment">// æ­¤é¡¹æ˜¯ç”¨æ¥é…ç½®æ ‡å‡†çš„jsé£æ ¼ï¼Œå°±æ˜¯è¯´å†™ä»£ç çš„æ—¶å€™è¦è§„èŒƒçš„å†™ï¼Œå¦‚æœä½ ä½¿ç”¨vs-codeæˆ‘è§‰å¾—åº”è¯¥å¯ä»¥é¿å…å‡ºé”™</span></span><br><span class="line">Â Â extends: <span class="string">'standard'</span>,</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">// required to lint *.vue files</span></span><br><span class="line">Â Â <span class="comment">// æ­¤é¡¹æ˜¯ç”¨æ¥æä¾›æ’ä»¶çš„ï¼Œæ’ä»¶åç§°çœç•¥äº†eslint-plugin-ï¼Œä¸‹é¢è¿™ä¸ªé…ç½®æ˜¯ç”¨æ¥è§„èŒƒhtmlçš„</span></span><br><span class="line">Â Â plugins: [</span><br><span class="line">Â Â Â Â <span class="string">'html'</span></span><br><span class="line">Â Â ],</span><br><span class="line">  </span><br><span class="line">Â Â <span class="comment">// add your custom rules here</span></span><br><span class="line">Â Â <span class="comment">// ä¸‹é¢è¿™äº›rulesæ˜¯ç”¨æ¥è®¾ç½®ä»æ’ä»¶æ¥çš„è§„èŒƒä»£ç çš„è§„åˆ™ï¼Œä½¿ç”¨å¿…é¡»å»æ‰å‰ç¼€eslint-plugin-</span></span><br><span class="line">Â Â <span class="comment">// ä¸»è¦æœ‰å¦‚ä¸‹çš„è®¾ç½®è§„åˆ™ï¼Œå¯ä»¥è®¾ç½®å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è®¾ç½®æ•°å­—ï¼Œä¸¤è€…æ•ˆæœä¸€è‡´</span></span><br><span class="line">Â Â <span class="comment">// "off" -&gt; 0 å…³é—­è§„åˆ™</span></span><br><span class="line">Â Â <span class="comment">// "warn" -&gt; 1 å¼€å¯è­¦å‘Šè§„åˆ™</span></span><br><span class="line">Â Â <span class="comment">//"error" -&gt; 2 å¼€å¯é”™è¯¯è§„åˆ™</span></span><br><span class="line">Â Â <span class="comment">// äº†è§£äº†ä¸Šé¢è¿™äº›ï¼Œä¸‹é¢è¿™äº›ä»£ç ç›¸ä¿¡ä¹Ÿçœ‹çš„æ˜ç™½äº†</span></span><br><span class="line">Â Â <span class="string">'rules'</span>: &#123;</span><br><span class="line">  </span><br><span class="line">Â Â Â Â <span class="comment">// allow paren-less arrow functions</span></span><br><span class="line">Â Â Â Â <span class="string">'arrow-parens'</span>: <span class="number">0</span>,</span><br><span class="line">    </span><br><span class="line">Â Â Â Â <span class="comment">// allow async-await</span></span><br><span class="line">Â Â Â Â <span class="string">'generator-star-spacing'</span>: <span class="number">0</span>,</span><br><span class="line">    </span><br><span class="line">Â Â Â Â <span class="comment">// allow debugger during development</span></span><br><span class="line">Â Â Â Â <span class="string">'no-debugger'</span>: process.env.NODE_ENV === <span class="string">'production'</span> ? <span class="number">2</span> : <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="string">'no-multi-str'</span>:Â <span class="number">2</span>,Â <span class="comment">//Â å­—ç¬¦ä¸²ä¸èƒ½ç”¨\æ¢è¡Œ</span></span><br><span class="line">Â Â Â Â <span class="string">'no-unreachable'</span>:Â <span class="number">2</span>,Â <span class="comment">//Â ä¸èƒ½æœ‰æ— æ³•æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">Â Â Â Â <span class="string">'no-use-before-define'</span>:Â <span class="number">2</span>,Â <span class="comment">//Â è¿èƒŒé¡¶ä»¥å‰ä¸èƒ½ä½¿ç”¨</span></span><br><span class="line">Â Â Â Â <span class="string">'no-with'</span>:Â <span class="number">2</span>,Â <span class="comment">//Â ç¦ç”¨with</span></span><br><span class="line">Â Â Â Â <span class="string">'arrow-spacing'</span>:Â <span class="number">0</span>,Â <span class="comment">//Â =&gt;Â çš„å‰/åæ‹¬å·</span></span><br><span class="line">Â Â Â Â <span class="string">'brace-style'</span>:Â [<span class="number">1</span>,Â <span class="string">'1tbs'</span>],Â <span class="comment">//Â å¤§æ‹¬å·é£æ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'comma-style'</span>:Â [<span class="number">2</span>,Â <span class="string">'1ast'</span>],Â <span class="comment">//Â é€—å·é£æ ¼ï¼Œæ¢è¡Œæ˜¯åœ¨è¡Œé¦–è¿˜æ˜¯è¡Œå°¾</span></span><br><span class="line">Â Â Â Â <span class="string">'curly'</span>:Â [<span class="number">2</span>,Â <span class="string">'all'</span>],Â <span class="comment">//Â å¿…é¡»ä½¿ç”¨Â if()&#123;&#125;Â ä¸­çš„&#123;&#125;</span></span><br><span class="line">Â Â Â Â <span class="string">'indent'</span>:Â [<span class="number">2</span>,Â <span class="number">4</span>],Â <span class="comment">//ç¼©è¿›é£æ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'use-isnan'</span>:Â <span class="number">2</span>,Â <span class="comment">//Â ç¦æ­¢æ¯”è¾ƒæ—¶ä½¿ç”¨Â NaNï¼Œåªèƒ½ç”¨Â isNan()</span></span><br><span class="line">Â Â Â Â <span class="string">'semi-spacing'</span>:Â [<span class="number">0</span>,Â &#123;<span class="string">"before"</span>:Â <span class="literal">false</span>,Â <span class="string">"after"</span>:Â <span class="literal">true</span>&#125;],Â <span class="comment">//Â åˆ†å·å‰åç©ºæ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'spaced-comment'</span>:Â <span class="number">0</span>,Â <span class="comment">//Â æ³¨é‡Šé£æ ¼è¦ä¸è¦ç©ºæ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'space-before-blocks'</span>:Â [<span class="number">0</span>,Â <span class="string">'always'</span>],Â <span class="comment">//Â ä¸ä»¥æ–°è¡Œå¼€å§‹çš„ä»£ç å—Â &#123;Â å‰è¦ä¸è¦ç©ºæ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'eol-last'</span>:Â <span class="number">0</span>,Â <span class="comment">//Â æ–‡ä»¶Â ä¸ä»¥å•ä¸€çš„æ¢è¡Œç¬¦ç»“æŸ</span></span><br><span class="line">Â Â Â Â <span class="string">'space-before-function-paren'</span>:Â [<span class="number">0</span>,Â <span class="string">"always"</span>],Â <span class="comment">//Â å‡½æ•°å®šä¹‰æ—¶ï¼Œæ‹¬å·å‰é¢æ˜¯å¦è¦ç©ºæ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'no-trailing-space'</span>:Â <span class="number">0</span>,Â <span class="comment">//Â ä¸€è¡Œç»“æŸç©ºæ ¼</span></span><br><span class="line">Â Â Â Â <span class="string">'quotes'</span>:Â [<span class="number">0</span>,Â <span class="string">'single'</span>],Â <span class="comment">//Â å¼•å·ç±»å‹Â ''Â ""Â ``</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="VSCode-é›†æˆ"><a href="#VSCode-é›†æˆ" class="headerlink" title="VSCode é›†æˆ"></a>VSCode é›†æˆ</h1><p><strong>ä»£ç æç¤º</strong><br>å·¥å…·ï¼š VSCode ESLint æ’ä»¶<br>ä½¿ç”¨ï¼šåœ¨ VSCode è®¾ç½®ä¸­å°† <code>eslint.enable</code> è®¾ç½®ä¸º <code>true</code></p><p><strong>ä»£ç ä¿®å¤</strong><br>å·¥å…·ï¼šVSCode Prettier æ’ä»¶<br>ä½¿ç”¨ï¼šåœ¨ VSCode è®¾ç½®ä¸­å°† <code>prettier.eslintIntegration</code> è®¾ç½®ä¸º <code>true</code>ï¼Œprettier æ’ä»¶æ‰§è¡Œæ ¼å¼åŒ–æ—¶å°†ä½¿ç”¨ prettier-eslint å®Œæˆä¸‹è¿°æ“ä½œï¼š</p><ol><li>ä½¿ç”¨ prettier æ ¼å¼åŒ–ä»£ç </li><li>å¯¹ä¸Šä¸€æ­¥æ ¼å¼åŒ–è¿‡çš„ä»£ç æ‰§è¡Œ <code>eslint --fix</code></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å…³äº-ESLint&quot;&gt;&lt;a href=&quot;#å…³äº-ESLint&quot; class=&quot;headerlink&quot; title=&quot;å…³äº ESLint&quot;&gt;&lt;/a&gt;å…³äº ESLint&lt;/h1&gt;&lt;p&gt;ESLint æ˜¯ä¸€ä¸ªæ’ä»¶åŒ–çš„ javascript ä»£ç æ£€æµ‹å·¥å…·ï¼Œå€ŸåŠ© ESLint
      
    
    </summary>
    
    
    
      <category term="å·¥å…·" scheme="http://fujiafeng.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>vscode å¿«æ·é”®ï¼ˆwindowsï¼‰</title>
    <link href="http://fujiafeng.com/2019/09/23/vscode-%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%88windows%EF%BC%89/"/>
    <id>http://fujiafeng.com/2019/09/23/vscode-%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%88windows%EF%BC%89/</id>
    <published>2019-09-23T14:38:19.000Z</published>
    <updated>2019-09-23T14:53:56.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ã€Ctrl + Shift + Pã€‘</strong>    æ‰“å¼€å‘½ä»¤é¢æ¿<br>&emsp;&emsp;<strong>ã€Ctrl + Uã€‘</strong>   è¿”å›ä¸Šä¸€ä¸ªå…‰æ ‡ä½ç½®<br>&emsp;&emsp;<strong>ã€Home/Endã€‘</strong>    å…‰æ ‡ç§»åŠ¨è‡³è¡Œé¦–æˆ–è¡Œå°¾<br>&emsp;&emsp;<strong>ã€Ctrl + Home/Endã€‘</strong>    å…‰æ ‡ç§»åŠ¨è‡³æ–‡æ¡£çš„å¼€å¤´æˆ–æœ«å°¾<br>&emsp;&emsp;<strong>ã€Ctrl + Dã€‘</strong>    é€‰ä¸­å•è¯ï¼ˆç¬¬äºŒæ¬¡æŒ‰ä¸‹ï¼Œä¼šæ‰¾åˆ°æ–‡æ¡£ä¸­ä¸‹ä¸€æ¬¡å‡ºç°è¯¥å•è¯çš„ä½ç½® å¹¶é€‰ä¸­å•è¯ï¼‰<br>&emsp;&emsp;<strong>ã€Alt + ä¸Šä¸‹ã€‘</strong>    ä»£ç ç§»åŠ¨<br>&emsp;&emsp;<strong>ã€Ctrl + /ã€‘</strong>    è¡Œæ³¨é‡Š<br>&emsp;&emsp;<strong>ã€Alt + Shift + Fã€‘</strong>    æ ¼å¼åŒ–æ•´ä¸ªæ–‡æ¡£<br>&emsp;&emsp;<strong>ã€Alt + é¼ æ ‡ç‚¹å‡»ã€‘</strong>    å¤šå…‰æ ‡<br>&emsp;&emsp;<strong>ã€Alt + Shift + Iã€‘</strong>    åœ¨é€‰ä¸­çš„å¤šè¡Œä»£ç çš„ æ¯ä¸€è¡Œ ï¼ˆå·²é€‰ä¸­å†…å®¹ï¼‰åè¾¹éƒ½ä¼šæ·»åŠ å…‰æ ‡<br>&emsp;&emsp;<strong>ã€Ctrl + Pã€‘</strong>    å¿«é€Ÿæ‰“å¼€æ–‡ä»¶<br>&emsp;&emsp;<strong>ã€Ctrl + Gã€‘</strong>    å¿«é€Ÿè·³è½¬ï¼ˆä»£ç è¡Œï¼‰<br>&emsp;&emsp;<strong>ã€Ctrl + Shift + Oã€‘</strong>    ç¬¦å·è·³è½¬ï¼ˆç¬¦å·ï¼šæ–‡ä»¶åã€å‡½æ•°åã€cssç±»åï¼‰<br>&emsp;&emsp;<strong>ã€F12ã€‘</strong>    è·³è½¬è‡³ å‡½æ•°å®šä¹‰å¤„<br>&emsp;&emsp;<strong>ã€Ctrl + F12ã€‘</strong>    è·³è½¬è‡³ å‡½æ•°å®ç°å¤„<br>&emsp;&emsp;<strong>ã€Shift + F12ã€‘</strong>    å¼•ç”¨è·³è½¬ï¼ˆå…ˆå°†å…‰æ ‡ç§»åŠ¨åˆ° å‡½æ•°/ç±» ä¸Šï¼‰</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;ã€Ctrl + Shift + Pã€‘&lt;/strong&gt;    æ‰“å¼€å‘½ä»¤é¢æ¿&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;ã€Ctrl + Uã€‘&lt;/strong&gt;   è¿”å›ä¸Šä¸€ä¸ªå…‰æ ‡ä½ç½®&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;ã€Home/Endã€‘&lt;/s
      
    
    </summary>
    
    
    
      <category term="å·¥å…·" scheme="http://fujiafeng.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>ä¾§è€³å€¾å¬ Vol.4</title>
    <link href="http://fujiafeng.com/2019/09/16/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-4/"/>
    <id>http://fujiafeng.com/2019/09/16/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-4/</id>
    <published>2019-09-16T13:41:02.000Z</published>
    <updated>2019-09-16T13:50:22.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>#æŠ„å¥å­#</em></p><blockquote><p>ã€Œæ˜¥æœ‰ç™¾èŠ±ç§‹æœ‰æœˆï¼Œå¤æœ‰æ¶¼é¢¨å†¬æœ‰é›ªã€‚<br>&emsp;&emsp;&emsp;è‹¥ç„¡é–’äº‹æ›å¿ƒé ­ï¼Œä¾¿æ˜¯äººé–“å¥½æ™‚ç¯€ã€‚ã€</p></blockquote><p><br></p><blockquote><p>ã€Œæ™´ç§‹ä¸Šåˆ éš¨ä¾¿èµ°èµ° ä¸ä¸€å®šè¦å¿«æ¨‚ã€  &emsp;â€”â€” æœ¨å¿ƒ</p></blockquote><p><br></p><blockquote><p>ã€Œ æˆ‘å¸Œæœ›ä½ åš®å¾€ç”Ÿå‘½çš„ç›ç„¶<br>&emsp;&emsp;&emsp;ä¸æœƒå—å‚·<br>&emsp;&emsp;&emsp;æœƒç†±æ„›ç”Ÿæ´»<br>&emsp;&emsp;&emsp;æˆ‘æƒ³å’Œä½ ä¸€èµ·éŠæˆ²äººé–“<br>&emsp;&emsp;&emsp;æ„›å¾—å¦è•©<br>&emsp;&emsp;&emsp;å‘¼å¸éƒ½æƒ³å¿µæˆ‘ ã€   &emsp;â€”â€” è³ˆå¹³å‡¹</p></blockquote><p><br></p><blockquote><p>ã€Œä¸€å€‹å‚·ç—›è‘—çš„äººç½®èº«ä¸€å€‹é™Œç”Ÿçš„ç’°å¢ƒæ˜¯å¹¸ç¦çš„ï¼Œå› ç‚ºä½ ä¸å¿…åœ¨ç†Ÿæ‚‰çš„äººå’Œé¢¨æ™¯é¢å‰æ•…ä½œå …å¼·ï¼Œä½ å®Œå…¨å¯ä»¥æ”¾ç¸±åœ°æµæ·šã€‚ã€   &emsp;â€”â€” ã€Šä¸–ç•Œä¸Šæ‰€æœ‰çš„å¤œæ™šã€‹ é²å­å»º</p></blockquote><p><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;#æŠ„å¥å­#&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œæ˜¥æœ‰ç™¾èŠ±ç§‹æœ‰æœˆï¼Œå¤æœ‰æ¶¼é¢¨å†¬æœ‰é›ªã€‚&lt;br&gt;&amp;emsp;&amp;emsp;&amp;emsp;è‹¥ç„¡é–’äº‹æ›å¿ƒé ­ï¼Œä¾¿æ˜¯äººé–“å¥½æ™‚ç¯€ã€‚ã€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p
      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="ä¾§è€³å€¾å¬" scheme="http://fujiafeng.com/tags/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC/"/>
    
  </entry>
  
  <entry>
    <title>YoungFront æ¡†æ¶</title>
    <link href="http://fujiafeng.com/2019/09/16/YoungFront%E6%A1%86%E6%9E%B6/"/>
    <id>http://fujiafeng.com/2019/09/16/YoungFront%E6%A1%86%E6%9E%B6/</id>
    <published>2019-09-16T13:04:28.000Z</published>
    <updated>2019-09-16T13:31:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="YFjs-ç»„ä»¶åº“"><a href="#YFjs-ç»„ä»¶åº“" class="headerlink" title="YFjs ç»„ä»¶åº“"></a>YFjs ç»„ä»¶åº“</h2><p>ä¸€ä¸ªåŸºäº AMDè§„èŒƒ çš„ç»„ä»¶åº“ï¼Œå†…å«ç®€æ´ SPA æ¡†æ¶ï¼Œä¾¿äºå¿«é€Ÿæ„å»ºå•é¡µé¢åº”ç”¨ç³»ç»Ÿã€‚<br>&emsp;&emsp;å…¶ä¸­å¤§éƒ¨åˆ†æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ jQueryã€RequireJsã€Bootstrap ç­‰çš„å¼€æºåº“å’Œæ¡†æ¶æ˜¯è¿™ä¸ªç»„ä»¶åº“çš„æ ¸å¿ƒä¾èµ–ã€‚<br>&emsp;&emsp;YFjsä¸ä»…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿä½¿ç”¨å¼¹å‡ºæ¡†ã€ç¾åŒ–åçš„ä¸‹æ‹‰æ¡†å’Œå•/å¤é€‰æ¡†ã€æ»šåŠ¨æ¡ç­‰UIç»„ä»¶ï¼Œä¹Ÿèƒ½ä½¿ç”¨JSONè½¬æ¢ã€Cookieå¤„ç†ã€æ—¥æœŸæ ¼å¼å¤„ç†ç­‰å·¥å…·æ’ä»¶ï¼Œæ›´èƒ½é…åˆå†…å«çš„ SPA æ¡†æ¶å¿«é€Ÿæ„å»ºä¸€ä¸ªå•é¡µé¢åº”ç”¨ç³»ç»Ÿï¼Œè®©æˆ‘ä»¬çš„å‰ç«¯å¼€å‘æ›´ä¾¿æ·ã€‚</p><img src="/2019/09/16/YoungFrontæ¡†æ¶/yfjs-content.png" title="yfjsç›®å½•ç»“æ„"><h3 id="å¼•å…¥ç»„ä»¶åº“"><a href="#å¼•å…¥ç»„ä»¶åº“" class="headerlink" title="å¼•å…¥ç»„ä»¶åº“"></a>å¼•å…¥ç»„ä»¶åº“</h3><p>åœ¨ head æ ‡ç­¾å†…å¼•å…¥ç»„ä»¶åº“çš„å…¥å£ JS æ–‡ä»¶ yfjs.js å³å¯ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"[yfjs-lib path]/yfjs.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…¥å£ JS æ–‡ä»¶ä¼š <strong>è‡ªåŠ¨å¼•å…¥</strong> åŸºæœ¬æ ·å¼æ–‡ä»¶ã€æ ¸å¿ƒ JS åº“æ–‡ä»¶ç­‰ç»„ä»¶åº“çš„ç›¸å…³é™æ€èµ„æºã€‚</p><h3 id="å…¥å£é…ç½®"><a href="#å…¥å£é…ç½®" class="headerlink" title="å…¥å£é…ç½®"></a>å…¥å£é…ç½®</h3><p>åœ¨å¼•å…¥ç»„ä»¶åº“çš„å…¥å£ JS æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ä»¥ä¸‹å±æ€§æ¥æ‰©å±•ç»„ä»¶åº“çš„åŠŸèƒ½ã€‚</p><ul><li><strong>data-cache</strong>: å…¨å±€ç¼“å­˜å¼€å…³ï¼Œé»˜è®¤ä¸º trueã€‚è®¾ä¸º false åˆ™å…³é—­ç¼“å­˜</li><li><strong>data-debug</strong>: è°ƒè¯•æ¨¡å¼å¼€å…³ï¼Œé»˜è®¤ä¸º falseï¼Œä½¿ç”¨å‹ç¼©åçš„èµ„æºã€‚è®¾ä¸º true æ—¶å°†ä½¿ç”¨æœªå‹ç¼©çš„èµ„æº</li><li><strong>data-debug-css</strong>: åŸºæœ¬æ ·å¼æ–‡ä»¶çš„è°ƒè¯•æ¨¡å¼å¼€å…³ï¼Œé»˜è®¤ä¸º data-debugã€‚ä¸º false æ—¶å¼•å…¥å‹ç¼©åçš„åŸºæœ¬æ ·å¼æ–‡ä»¶ï¼Œå¦åˆ™å¼•å…¥æœªå‹ç¼©çš„åŸºæœ¬æ ·å¼æ–‡ä»¶</li><li><strong>data-debug-module</strong>: ç»„ä»¶æ¨¡å—çš„è°ƒè¯•æ¨¡å¼å¼€å…³ï¼Œé»˜è®¤ä¸º data-debugã€‚ä¸º false æ—¶å¼•å…¥å‹ç¼©åçš„ç»„ä»¶æ¨¡å—æ–‡ä»¶ï¼Œå¦åˆ™å¼•å…¥æœªå‹ç¼©çš„ç»„ä»¶æ¨¡å—æ–‡ä»¶</li><li><strong>data-base</strong>: åº”ç”¨è®¿é—®åŸºè·¯å¾„ï¼Œé»˜è®¤ç»§æ‰¿ <base> æ ‡ç­¾å€¼ã€‚</li><li><strong>data-base-require</strong>: åº”ç”¨å†…è‡ªå®šä¹‰æ¨¡å—å¼•å…¥åŸºè·¯å¾„ï¼Œé»˜è®¤ç›¸å¯¹äº data-baseã€‚</li><li><strong>data-base-css</strong>: æ˜¯å¦å¼•å…¥ç»„ä»¶åº“çš„åŸºæœ¬æ ·å¼æ–‡ä»¶ï¼Œé»˜è®¤ä¸º trueã€‚è®¾ä¸º false æ—¶ä¸å¼•å…¥åŸºæœ¬æ ·å¼æ–‡ä»¶ã€‚</li><li><strong>data-compatible</strong>: æ˜¯å¦å¼•å…¥æ‰€æœ‰å…¼å®¹è„šæœ¬ï¼Œé»˜è®¤ä¸º falseã€‚è®¾ä¸º true æ—¶è‡ªåŠ¨åˆ¤æ–­å…¼å®¹æ€§å¹¶å¼•å…¥å…¼å®¹è„šæœ¬ã€‚</li><li><strong>data-compatible-modernizr</strong>: æ˜¯å¦å¼•å…¥ Modernizr å…¼å®¹è„šæœ¬ï¼Œé»˜è®¤ä¸º data-compatibleã€‚äº†è§£ Modernizrã€‚</li><li><strong>data-compatible-respond</strong>: æ˜¯å¦å¼•å…¥ respond å…¼å®¹è„šæœ¬ï¼ˆå…¼å®¹ Media Queryï¼‰ï¼Œé»˜è®¤ä¸º data-compatibleã€‚</li><li><strong>data-compatible-html5</strong>: æ˜¯å¦å¼•å…¥ html5shiv å…¼å®¹è„šæœ¬ï¼ˆå…¼å®¹ HTML5 æ–°å…ƒç´ ï¼‰ï¼Œé»˜è®¤ä¸º data-compatibleã€‚</li><li><strong>data-compatible-es5</strong>: æ˜¯å¦å¼•å…¥ es5 å…¼å®¹è„šæœ¬ï¼ˆå…¼å®¹ ES5 APIï¼‰ï¼Œé»˜è®¤ä¸º data-compatibleã€‚</li><li><strong>data-compatible-es6</strong>: æ˜¯å¦å¼•å…¥ es6 å…¼å®¹è„šæœ¬ï¼ˆå…¼å®¹ ES6 APIï¼‰ï¼Œé»˜è®¤ä¸º data-compatibleã€‚</li><li><strong>data-compatible-json</strong>: æ˜¯å¦å¼•å…¥ JSON å…¼å®¹è„šæœ¬ï¼ˆå…¼å®¹ JSON.parse å’Œ JSON.stringifyï¼‰ï¼Œé»˜è®¤ä¸º data-compatibleã€‚</li><li><strong>data-main</strong>: åº”ç”¨å…¥å£ JS æ–‡ä»¶ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"[yfjs-lib path]/yfjs.js?v=0.8.2"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">data-cache</span>=<span class="string">"false"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">data-debug</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="undefined"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="yfjs-spa-æ¡†æ¶"><a href="#yfjs-spa-æ¡†æ¶" class="headerlink" title="yfjs/spa æ¡†æ¶"></a>yfjs/spa æ¡†æ¶</h2><p>ä¸€ä¸ª SPAï¼ˆå•é¡µé¢åº”ç”¨ï¼‰æ¡†æ¶ï¼Œé£æ ¼ç®€æ´ï¼Œé…ç½®å’Œçº¦å®šå…±åŒé©±åŠ¨ã€‚</p><h3 id="é…ç½®åº”ç”¨å…¥å£"><a href="#é…ç½®åº”ç”¨å…¥å£" class="headerlink" title="é…ç½®åº”ç”¨å…¥å£"></a>é…ç½®åº”ç”¨å…¥å£</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/yfjs-lib/yfjs.js"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">data-main</span>=<span class="string">"app"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">data-base-require</span>=<span class="string">"app"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">data-cache</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="undefined"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>data-main</strong>: åº”ç”¨çš„å…¥å£ JS æ–‡ä»¶ã€‚å»ºè®®ä¸º appã€‚</li><li><strong>data-base-require</strong>: å¼•å…¥æœ¬åœ°èµ„æºçš„åŸºè·¯å¾„ã€‚å»ºè®®ä¸º appã€‚</li><li><strong>data-cache</strong>: å…¨å±€ç¼“å­˜å¼€å…³ï¼Œæ§åˆ¶æ¨¡æ¿æ–‡ä»¶ã€JS æ–‡ä»¶ç­‰æ˜¯å¦ç¼“å­˜ã€‚é»˜è®¤å¼€å¯ç¼“å­˜ï¼Œè®¾ç½®ä¸º false åˆ™å…³é—­ç¼“å­˜ã€‚ </li></ul><h3 id="æ„å»ºåº”ç”¨ç›®å½•"><a href="#æ„å»ºåº”ç”¨ç›®å½•" class="headerlink" title="æ„å»ºåº”ç”¨ç›®å½•"></a>æ„å»ºåº”ç”¨ç›®å½•</h3><img src="/2019/09/16/YoungFrontæ¡†æ¶/content-structure.png" title="æ„å»ºåº”ç”¨ç›®å½•"><h3 id="ç¼–å†™é¦–é¡µå†…å®¹"><a href="#ç¼–å†™é¦–é¡µå†…å®¹" class="headerlink" title="ç¼–å†™é¦–é¡µå†…å®¹"></a>ç¼–å†™é¦–é¡µå†…å®¹</h3><p>ç¼–å†™åº”ç”¨å…¥å£æ–‡ä»¶å†…å®¹ï¼Œå¼•å…¥æ¡†æ¶ yfjs/spa ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">'yfjs/spa'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">SPA</span>) </span>&#123; </span><br><span class="line">    SPA.create(); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>åœ¨è§†å›¾ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ home.jsï¼Œå¹¶ç¼–å†™å†…å®¹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">'App'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">App</span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> App.View(&#123;</span><br><span class="line">        layout: <span class="string">"default"</span></span><br><span class="line">    &#125;); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>åœ¨è§†å›¾æ¨¡æ¿ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ home.htmlï¼Œå¹¶ç¼–å†™å†…å®¹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>åœ¨å¸ƒå±€ç›®å½•ä¸‹åˆ›å»ºå¸ƒå±€æ–‡ä»¶ default.jsï¼Œå¹¶ç¼–å†™å†…å®¹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">'App'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> App.Layout();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>åœ¨å¸ƒå±€æ¨¡æ¿ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ default.htmlï¼Œå¹¶ç¼–å†™å†…å®¹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span> </span><br><span class="line">    &#123;&#123;&#123;body&#125;&#125;&#125; </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="ä½¿ç”¨å¸ƒå±€"><a href="#ä½¿ç”¨å¸ƒå±€" class="headerlink" title="ä½¿ç”¨å¸ƒå±€"></a>ä½¿ç”¨å¸ƒå±€</h3><p>å°†<strong>é¡µé¢çš„å…¬å…±éƒ¨åˆ†</strong>æŠ½ç¦»æˆå¸ƒå±€ï¼Œæå‡é¡µé¢çš„æ¸²æŸ“æ•ˆç‡ã€‚</p><h3 id="çº¦å®šä¸é…ç½®"><a href="#çº¦å®šä¸é…ç½®" class="headerlink" title="çº¦å®šä¸é…ç½®"></a>çº¦å®šä¸é…ç½®</h3><p>yfjs/spa æ¡†æ¶æ˜¯ä¸€ä¸ª <u><strong>é…ç½®å’Œçº¦å®šå…±åŒé©±åŠ¨</strong></u> çš„æ¡†æ¶ã€‚é…ç½®çš„æ˜¯<strong>åŠŸèƒ½æ¥å£</strong>ï¼Œçº¦å®šçš„æ˜¯<strong>è·¯ç”±ç­‰è§„åˆ™</strong>ã€‚</p><p><strong>çº¦å®šè§„åˆ™ â€” è·¯ç”±çº¦å®š</strong></p><p>æ¡†æ¶å†…ç½®äº†é¡µé¢è·¯ç”±ï¼Œé¡µé¢çš„å®šå‘éµå®ˆæ¡†æ¶æ—¢å®šè§„åˆ™ï¼š</p><ul><li>é¡µé¢çš„è·¯ç”±åœ¨ URL ä¸Šé»˜è®¤ä½“ç°ä¸º hash æ¨¡å¼ã€‚å³å½¢å¦‚ <a href="http://127.0.0.1/#/path?param1=value1ï¼Œåˆ™é¡µé¢è·¯å¾„ä¸º" target="_blank" rel="noopener">http://127.0.0.1/#/path?param1=value1ï¼Œåˆ™é¡µé¢è·¯å¾„ä¸º</a>â€œ /path â€œï¼Œå…¶åå†…å®¹ä¸ºé¡µé¢çš„å‚æ•°ã€‚</li><li>é¡µé¢è·¯å¾„å¯¹åº”è§†å›¾ç›®å½• viewsä¸‹çš„åŒè·¯å¾„åŒåçš„ JavaScript æ–‡ä»¶ã€‚</li><li>é¡µé¢çš„é»˜è®¤æ¨¡æ¿å¯¹åº”æ¨¡æ¿ç›®å½• templatesä¸‹çš„åŒè·¯å¾„åŒåçš„ HTML æ–‡ä»¶ã€‚</li><li>é¡µé¢ä½¿ç”¨çš„å¸ƒå±€ï¼ˆè‹¥å­˜åœ¨ï¼‰å¯¹åº”å¸ƒå±€ç›®å½• layoutsä¸‹çš„åŒè·¯å¾„åŒåçš„ JavaScript æ–‡ä»¶ã€‚</li><li>é¡µé¢å¸ƒå±€çš„é»˜è®¤æ¨¡æ¿å¯¹åº”å¸ƒå±€æ¨¡æ¿ç›®å½• templates/layoutsä¸‹çš„åŒè·¯å¾„åŒåçš„ HTML æ–‡ä»¶ã€‚</li></ul><p><strong>çº¦å®šè§„åˆ™ â€” åˆ†å±‚æ¸²æŸ“</strong></p><p>ä¸ºäº†å……åˆ†ä½“ç°å•é¡µé¢åº”ç”¨çš„å±€éƒ¨åŠ è½½ã€æŒ‰éœ€åŠ è½½çš„ç‰¹æ€§ï¼Œæ¡†æ¶å°†é¡µé¢å†…å®¹è¿›è¡Œäº†åŒºæ®µåˆ’åˆ†ï¼Œå¹¶ç”±ä¸Šè‡³ä¸‹åˆ†å±‚æ¸²æŸ“ã€‚<br>&emsp;&emsp;æ¡†æ¶å°†å½“å‰é¡µé¢çª—å£å®šä¹‰ä¸º App å±‚ï¼ˆåº”ç”¨å±‚ï¼‰ï¼Œé¡µé¢ä¸»ä½“å†…å®¹å®šä¹‰ä¸º View å±‚ï¼ˆè§†å›¾å±‚ï¼‰ï¼Œé¡µé¢å¤–å±‚å¸ƒå±€å®šä¹‰ä¸º Layout å±‚ï¼ˆå¸ƒå±€å±‚ï¼‰ã€‚å…¶ä¸­ View å±‚å¯ä»»æ„åµŒå¥—å¹¶å®šä¹‰åŠ è½½æ—¶æœºï¼Œåœ¨æœ€ä¸Šå±‚çš„ View å±‚å¯æŒ‡å®šé‡‡ç”¨çš„ Layout å±‚ã€‚App å±‚åˆ™è´Ÿè´£æ•´ä½“çŠ¶æ€åˆ‡æ¢ã€é¡µé¢è·¯ç”±ç­‰ã€‚</p><img src="/2019/09/16/YoungFrontæ¡†æ¶/spa-widgets.png" title="yfjs/spaåˆ†å±‚æ¸²æŸ“"><p><strong>é…ç½®å’Œæ‰©å±•</strong></p><p>åœ¨åº”ç”¨å…¥å£æ–‡ä»¶ /app/app.js ä¸­ï¼Œä¸ºå½“å‰åº”ç”¨æŒ‡å®šä¸€äº›é…ç½®é¡¹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SPA.create(&#123; </span><br><span class="line">    <span class="comment">// é…ç½®é¡¹ baseUrl </span></span><br><span class="line">    baseUrl: &#123; </span><br><span class="line">        style: <span class="string">"/assets/css"</span>,    <span class="comment">// è®¾ç½®æ ·å¼æ–‡ä»¶åŸºè·¯å¾„</span></span><br><span class="line">        resource: <span class="string">"/assets"</span>    <span class="comment">// è®¾ç½®å…¶ä»–èµ„æºåŸºè·¯å¾„</span></span><br><span class="line">     &#125;, </span><br><span class="line">    <span class="comment">// æ‰©å±•åŠŸèƒ½ </span></span><br><span class="line">    doSomething: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"do "</span> + <span class="keyword">this</span>.getSomething(); </span><br><span class="line">     &#125;, </span><br><span class="line">    getSomething: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"something."</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>åœ¨åˆ›å»ºä¸€ä¸ªè§†å›¾å®ä¾‹ /views/home.js æ—¶ï¼Œé…ç½®æ‰©å±•åŠŸèƒ½å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">App.View(&#123;</span><br><span class="line">    <span class="comment">// é…ç½®é¡¹ layout å¸ƒå±€</span></span><br><span class="line">    layout: <span class="string">"default"</span>,</span><br><span class="line">    <span class="comment">// é…ç½®é¡¹ ready é¡µé¢æ¸²æŸ“åæ‰§è¡Œ</span></span><br><span class="line">    ready: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(</span><br><span class="line">            <span class="keyword">this</span>.doSomething()</span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ‰©å±•åŠŸèƒ½</span></span><br><span class="line">    doSomething: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨ App å®ä¾‹çš„æ‰©å±•åŠŸèƒ½</span></span><br><span class="line">        App.doSomething();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h3><p>æ¡†æ¶ç»“æ„çš„é¡¶å±‚ã€‚<br>&emsp;&emsp;åº”ç”¨å±‚ä¸»è¦è´Ÿè´£è·¯ç”±è‡ªåŠ¨åˆ‡æ¢ã€ç»´æŠ¤å…¨å±€çŠ¶æ€ã€æä¾›å…¨å±€åŠŸèƒ½ç­‰ã€‚åº”ç”¨å¼€å§‹å¯åŠ¨åï¼Œæ¡†æ¶å°†è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåº”ç”¨å®ä¾‹æ¥è´Ÿè´£åº”ç”¨å±‚çš„ä¸€åº”äº‹åŠ¡ã€‚</p><h3 id="è§†å›¾-å¸ƒå±€å±‚"><a href="#è§†å›¾-å¸ƒå±€å±‚" class="headerlink" title="è§†å›¾/å¸ƒå±€å±‚"></a>è§†å›¾/å¸ƒå±€å±‚</h3><p>åœ¨æ¡†æ¶ä¸‹æ¸²æŸ“æ¯ä¸ªé¡µé¢çš„å±‚çº§ç»“æ„ç§°ä¸ºè§†å›¾ï¼ˆViewï¼‰å±‚ã€‚è§†å›¾å±‚å¯ä»¥å®šä¹‰è‡ªå·±çš„å¸ƒå±€ï¼ˆLayoutï¼‰å±‚ï¼Œå¸ƒå±€å±‚ä¸»è¦è´Ÿè´£å®ç°å¤šä¸ªè§†å›¾å±‚å…±æœ‰çš„æ¸²æŸ“æ•ˆæœï¼ˆå¦‚å…¬ç”¨çš„ header é¡µå¤´ï¼Œbanner å›¾ï¼Œfooter é¡µè„šç­‰ï¼‰ã€‚å¤šä¸ªè§†å›¾å±‚å¯ä»¥å…±ç”¨ä¸€ä¸ªå¸ƒå±€å±‚ã€‚</p><h3 id="å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>åº”ç”¨å®ä¾‹ä»é¡µé¢å¼€å§‹åˆæ¬¡åŠ è½½æ—¶åˆ›å»ºï¼Œä¸€ç›´å­˜åœ¨åˆ°é¡µé¢é¡¶å±‚çª—å£å…³é—­ã€‚æœŸé—´é¡µé¢å†…å®¹çš„æ›´æ–°ç”±å†…ç½®çš„è·¯ç”±å™¨ï¼ˆRouterï¼‰è‡ªåŠ¨åŠ è½½è§†å›¾å±‚è¿›è¡Œå¤„ç†ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º <strong>åº”ç”¨å®ä¾‹ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚<br>é¡µé¢çš„è®¿é—®ç”± url ä¸­çš„ hash éƒ¨åˆ†è‡ªåŠ¨è§¦å‘ã€‚åº”ç”¨å±‚ä¼šé€šè¿‡å†…ç½®çš„é¡µé¢è·¯ç”±ç›‘æ§è¿™ä¸ªè§¦å‘äº‹ä»¶ï¼Œå¹¶å¼€å§‹è·¯ç”±é¡µé¢ã€‚æ¯ä¸ªé¡µé¢è§†å›¾è„šæœ¬ä»è¢«åŠ è½½åˆ°å¼€å§‹ï¼Œåˆ°è‡ªèº«å†…å®¹ä»é¡µé¢ä¸­ç§»é™¤çš„è¿‡ç¨‹ï¼Œç§°ä¸º <strong>è§†å›¾å®ä¾‹ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚<br>è§†å›¾é¡µé¢å†…å®¹åŠ è½½å®Œæˆåï¼Œå¦‚æœå®šä¹‰äº†å¸ƒå±€å±‚ï¼Œä¼šç»§ç»­åŠ è½½å¸ƒå±€å±‚å†…å®¹ã€‚å¸ƒå±€å±‚è„šæœ¬ä»è¢«åŠ è½½åˆ°å¼€å§‹ï¼Œåˆ°å¸ƒå±€å†…å®¹ä»é¡µé¢ä¸­ç§»é™¤çš„è¿‡ç¨‹ï¼Œç§°ä¸º <strong>å¸ƒå±€å®ä¾‹ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p><blockquote><p>æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—®ï¼š <a href="http://jinzhk.github.io/yfjs/" target="_blank" rel="noopener">YoungFront å®˜ç½‘</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;YFjs-ç»„ä»¶åº“&quot;&gt;&lt;a href=&quot;#YFjs-ç»„ä»¶åº“&quot; class=&quot;headerlink&quot; title=&quot;YFjs ç»„ä»¶åº“&quot;&gt;&lt;/a&gt;YFjs ç»„ä»¶åº“&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªåŸºäº AMDè§„èŒƒ çš„ç»„ä»¶åº“ï¼Œå†…å«ç®€æ´ SPA æ¡†æ¶ï¼Œä¾¿äºå¿«é€Ÿæ„å»ºå•é¡µé¢åº”ç”¨ç³»ç»Ÿã€‚&lt;br&gt;
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="YoungFront" scheme="http://fujiafeng.com/tags/YoungFront/"/>
    
  </entry>
  
  <entry>
    <title>ä¾§è€³å€¾å¬ Vol.3</title>
    <link href="http://fujiafeng.com/2019/08/19/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-3/"/>
    <id>http://fujiafeng.com/2019/08/19/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-3/</id>
    <published>2019-08-19T14:44:38.000Z</published>
    <updated>2019-09-16T13:47:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>#æŠ„å¥å­#</em></p><blockquote><p>ã€Œä½ ä»»ä½•ç‚ºäººç¨±é“çš„ç¾éº—ä¸åŠæˆ‘ç¬¬ä¸€æ¬¡é‡è¦‹ä½ ã€  &emsp;â€”â€” é¦¬é ”</p></blockquote><p><br></p><blockquote><p>ã€ŒçŸ¥è­˜å’Œæ„Ÿè¦ºæ¯”é‡‘éŒ¢æ›´èƒ½æ±ºå®šä¸€å€‹äººçš„éšç´šã€  &emsp;â€”â€” ã€Šèº«ä»½çš„ç„¦æ…®ã€‹é˜¿è˜­Â·å¾·æ³¢é “</p></blockquote><p><br></p><blockquote><p>â€œThe woman I like is so powerful that a man has to be courageous to approach her.â€ &emsp;&emsp; â€”â€”  Alexander McQueen </p></blockquote><p><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;#æŠ„å¥å­#&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œä½ ä»»ä½•ç‚ºäººç¨±é“çš„ç¾éº—ä¸åŠæˆ‘ç¬¬ä¸€æ¬¡é‡è¦‹ä½ ã€  &amp;emsp;â€”â€” é¦¬é ”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€ŒçŸ¥è­˜å’Œæ„Ÿè¦ºæ¯”é‡‘éŒ¢æ›´èƒ½æ±ºå®šä¸€å€‹äººçš„éšç´šã€ 
      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="ä¾§è€³å€¾å¬" scheme="http://fujiafeng.com/tags/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript å¼•ç”¨ç±»å‹</title>
    <link href="http://fujiafeng.com/2019/08/15/JavaScript-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/"/>
    <id>http://fujiafeng.com/2019/08/15/JavaScript-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/</id>
    <published>2019-08-14T16:29:01.000Z</published>
    <updated>2019-08-14T16:48:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ ECMAScript ä¸­ï¼Œå¼•ç”¨ç±»å‹æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå°†æ•°æ®å’ŒåŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p><p><br></p><h1 id="Object-ç±»å‹"><a href="#Object-ç±»å‹" class="headerlink" title="Object ç±»å‹"></a>Object ç±»å‹</h1><blockquote><p>Object æ˜¯ä¸€ä¸ªåŸºç¡€ç±»å‹ï¼Œå…¶ä»–æ‰€æœ‰ç±»å‹éƒ½ä»Object ç»§æ‰¿äº†åŸºæœ¬çš„è¡Œä¸ºã€‚</p></blockquote><p>åˆ›å»º Object å®ä¾‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ä½¿ç”¨ new æ“ä½œç¬¦åè·Ÿ Object æ„é€ å‡½æ•°ï¼›</li><li>ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•ï¼ˆå±æ€§åå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼‰ã€‚</li></ol><blockquote><p>å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³• ä¹Ÿæ˜¯å‘å‡½æ•°ä¼ é€’å¤§é‡å¯é€‰å‚æ•°çš„é¦–é€‰æ–¹å¼ï¼›<br>æœ€å¥½çš„åšæ³•æ˜¯ å¯¹é‚£äº›å¿…éœ€å€¼ä½¿ç”¨å‘½åå‚æ•°ï¼Œè€Œä½¿ç”¨å¯¹è±¡å­—é¢é‡æ¥å°è£…å¤šä¸ªå¯é€‰å‚æ•°ã€‚</p></blockquote><p>è®¿é—®å¯¹è±¡å±æ€§ï¼š</p><ol><li>ç‚¹è¡¨ç¤ºæ³•ï¼›</li><li>æ–¹æ‹¬å·è¡¨ç¤ºæ³•ï¼ˆå°†è¦è®¿é—®çš„å±æ€§ä»¥ <strong>å­—ç¬¦ä¸²</strong> çš„å½¢å¼æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼‰ã€‚</li></ol><blockquote><p>æ–¹æ‹¬å·è¯­æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯ä»¥é€šè¿‡ <strong>å˜é‡</strong> æ¥è®¿é—®å±æ€§</p></blockquote><p><br><br><br><br><br></p><h1 id="Array-ç±»å‹"><a href="#Array-ç±»å‹" class="headerlink" title="Array ç±»å‹"></a>Array ç±»å‹</h1><p>ECMAScript æ•°ç»„ä¸å…¶ä»–è¯­è¨€ä¸­æ•°ç»„çš„ä¸åŒä¹‹å¤„ï¼š</p><ol><li>ECMAScript æ•°ç»„çš„æ¯ä¸€é¡¹å¯ä»¥ä¿å­˜ <strong>ä»»ä½•ç±»å‹</strong> çš„æ•°æ®ï¼›</li><li>ECMAScript æ•°ç»„çš„ <strong>å¤§å°</strong>æ˜¯å¯ä»¥ <strong>åŠ¨æ€è°ƒæ•´</strong> çš„ã€‚</li></ol><p>åˆ›å»ºæ•°ç»„çš„åŸºæœ¬æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ol><li>ä½¿ç”¨ Array æ„é€ å‡½æ•°ï¼›</li><li>ä½¿ç”¨æ•°ç»„å­—é¢é‡è¡¨ç¤ºæ³•ã€‚</li></ol><p>åœ¨è¯»å–å’Œè®¾ç½®æ•°ç»„çš„å€¼æ—¶ï¼Œè¦ä½¿ç”¨æ–¹æ‹¬å·å¹¶æä¾›ç›¸åº”å€¼çš„åŸºäº 0 çš„æ•°å­—ç´¢å¼•ï¼Œæ–¹æ‹¬å·ä¸­çš„ç´¢å¼•è¡¨ç¤ºè¦è®¿é—®çš„å€¼ã€‚å¦‚æœç´¢å¼•å°äºæ•°ç»„ä¸­çš„é¡¹æ•°ï¼Œåˆ™è¿”å›å¯¹åº”é¡¹çš„å€¼ï¼›å¦‚æœè®¾ç½®æŸä¸ªå€¼çš„ç´¢å¼•è¶…è¿‡äº†æ•°ç»„ç°æœ‰é¡¹æ•°ï¼Œæ•°ç»„å°±ä¼šè‡ªåŠ¨å¢åŠ åˆ°è¯¥ç´¢å¼•å€¼åŠ  1 çš„é•¿åº¦ã€‚æ•°ç»„æœ€åä¸€é¡¹çš„ç´¢å¼•å§‹ç»ˆæ˜¯ length-1ã€‚</p><p>æ•°ç»„çš„é¡¹æ•°ä¿å­˜åœ¨å…¶ length å±æ€§ä¸­ï¼Œè¿™ä¸ªå±æ€§å§‹ç»ˆä¼šè¿”å› 0 æˆ–æ›´å¤§çš„å€¼ã€‚æ•°ç»„çš„ length å±æ€§ä¸æ˜¯åªè¯»çš„ï¼Œé€šè¿‡è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥ä»æ•°ç»„çš„æœ«å°¾ç§»é™¤é¡¹æˆ–å‘æ•°ç»„ä¸­æ·»åŠ æ–°é¡¹ã€‚</p><h2 id="æ£€æµ‹æ•°ç»„"><a href="#æ£€æµ‹æ•°ç»„" class="headerlink" title="æ£€æµ‹æ•°ç»„"></a>æ£€æµ‹æ•°ç»„</h2><p>ç¡®å®šæŸä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„ï¼š</p><ol><li><strong>value instanceof Array</strong>  ï¼ˆinstanceof æ“ä½œç¬¦çš„é—®é¢˜åœ¨äºï¼Œå®ƒå‡å®šåªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒã€‚å¦‚æœç½‘é¡µä¸­åŒ…å«å¤šä¸ªæ¡†æ¶ï¼Œé‚£å®é™…ä¸Šå°±å­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šä¸åŒçš„å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œä»è€Œå­˜åœ¨ä¸¤ä¸ªä»¥ä¸Šä¸åŒç‰ˆæœ¬çš„Array æ„é€ å‡½æ•°ï¼‰</li><li><strong>Array.isArray( value )</strong>  æ–¹æ³• ï¼ˆç¡®å®šæŸä¸ªå€¼åˆ°åº•æ˜¯ä¸æ˜¯æ•°ç»„ï¼Œè€Œä¸ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­åˆ›å»ºçš„ï¼‰</li></ol><h2 id="è½¬æ¢æ–¹æ³•"><a href="#è½¬æ¢æ–¹æ³•" class="headerlink" title="è½¬æ¢æ–¹æ³•"></a>è½¬æ¢æ–¹æ³•</h2><ul><li><strong>toLocaleString()</strong> ï¼šåˆ›å»ºä¸€ä¸ªæ•°ç»„å€¼çš„ä»¥é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼›ä¸ºäº†å–å¾—æ¯ä¸€é¡¹çš„å€¼ï¼Œè°ƒç”¨çš„æ˜¯æ¯ä¸€é¡¹çš„toLocaleString()æ–¹æ³•ï¼›</li><li><strong>toString()</strong> ï¼šè¿”å›ç”±æ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å­—ç¬¦ä¸²å½¢å¼æ‹¼æ¥è€Œæˆçš„ä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼›ä¸ºäº†åˆ›å»ºè¿™ä¸ªå­—ç¬¦ä¸²ä¼šè°ƒç”¨æ•°ç»„æ¯ä¸€é¡¹çš„toString()æ–¹æ³•ï¼›</li><li><strong>valueOf()</strong> ï¼šè¿”å›çš„è¿˜æ˜¯æ•°ç»„ã€‚</li></ul><h2 id="æ ˆæ–¹æ³•"><a href="#æ ˆæ–¹æ³•" class="headerlink" title="æ ˆæ–¹æ³•"></a>æ ˆæ–¹æ³•</h2><p>LIFO åè¿›å…ˆå‡ºï¼Œæ¨å…¥ ä¸ å¼¹å‡º åªå‘ç”Ÿåœ¨ <strong>æ ˆé¡¶</strong> ã€‚</p><ul><li><strong>push() æ–¹æ³•</strong> ï¼šæ¨å…¥ï¼Œå¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠå®ƒä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›ä¿®æ”¹åæ•°ç»„çš„é•¿åº¦ï¼›</li><li><strong>pop() æ–¹æ³•</strong> ï¼šå¼¹å‡ºï¼Œä»æ•°ç»„æœ«å°¾ç§»é™¤æœ€åä¸€é¡¹ï¼Œå‡å°‘æ•°ç»„çš„length å€¼ï¼Œç„¶åè¿”å›ç§»é™¤çš„é¡¹ã€‚</li></ul><h2 id="é˜Ÿåˆ—æ–¹æ³•"><a href="#é˜Ÿåˆ—æ–¹æ³•" class="headerlink" title="é˜Ÿåˆ—æ–¹æ³•"></a>é˜Ÿåˆ—æ–¹æ³•</h2><p>FIFO å…ˆè¿›å…ˆå‡ºï¼Œæ¨å…¥ å‘ç”Ÿåœ¨é˜Ÿå°¾ï¼Œç§»é™¤ å‘ç”Ÿåœ¨é˜Ÿåˆ—å¤´éƒ¨ã€‚</p><ul><li><strong>push() æ–¹æ³•</strong></li><li><strong>shift() æ–¹æ³•</strong> ï¼šç§»é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹å¹¶è¿”å›è¯¥é¡¹ï¼ŒåŒæ—¶å°†æ•°ç»„é•¿åº¦å‡1ã€‚</li></ul><blockquote><p> <strong>unshift()æ–¹æ³•</strong> ï¼šåœ¨æ•°ç»„å‰ç«¯æ·»åŠ ä»»æ„ä¸ªé¡¹å¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(); <span class="comment">//åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> count = colors.unshift(<span class="string">"red"</span>, <span class="string">"green"</span>); <span class="comment">//æ¨å…¥ä¸¤é¡¹</span></span><br><span class="line"><span class="comment">// unshift æ’å…¥é¡ºåº ä¸ å‚æ•°é¡ºåº ä¸€è‡´ï¼Œè¯¥è¯­å¥å¾—åˆ°çš„ colors == ["red", "green"];</span></span><br></pre></td></tr></table></figure><h2 id="é‡æ’åºæ–¹æ³•"><a href="#é‡æ’åºæ–¹æ³•" class="headerlink" title="é‡æ’åºæ–¹æ³•"></a>é‡æ’åºæ–¹æ³•</h2><ul><li><strong>reverse() æ–¹æ³•</strong> ï¼šååºï¼›</li><li><strong>sort() æ–¹æ³•</strong> ï¼šé»˜è®¤å‡åºï¼ˆä¼šè°ƒç”¨æ¯ä¸ªæ•°ç»„é¡¹çš„toString()è½¬å‹æ–¹æ³•ï¼Œç„¶åæ¯”è¾ƒå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥ç¡®å®šå¦‚ä½•æ’åºã€‚å³ä½¿æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯æ•°å€¼ï¼Œsort()æ–¹æ³•æ¯”è¾ƒçš„ä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼‰ã€‚sort() æ–¹æ³•å¯ä»¥æ¥æ”¶ä¸€ä¸ª <strong>æ¯”è¾ƒå‡½æ•°</strong> ä½œä¸ºå‚æ•°ã€‚</li></ul><blockquote><ol><li>æ¯”è¾ƒå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä½äºç¬¬äºŒä¸ª <strong>ä¹‹å‰</strong> åˆ™è¿”å›ä¸€ä¸ª <strong>è´Ÿæ•°</strong> ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•° <strong>ç›¸ç­‰</strong> åˆ™è¿”å› <strong>0</strong> ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä½äºç¬¬äºŒä¸ª <strong>ä¹‹å</strong> åˆ™è¿”å›ä¸€ä¸ª <strong>æ­£æ•°</strong> ï¼›</li><li>å¯¹äº <strong>æ•°å€¼ç±»å‹</strong> æˆ–è€…å…¶ <strong>valueOf() æ–¹æ³•ä¼šè¿”å›æ•°å€¼ç±»å‹çš„å¯¹è±¡ç±»å‹</strong> ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ›´ç®€å•çš„æ¯”è¾ƒå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°åªè¦ç”¨ <strong>ç¬¬äºŒä¸ªå€¼å‡ç¬¬ä¸€ä¸ªå€¼</strong> å³å¯ã€‚</li></ol></blockquote><h2 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h2><ul><li><strong>concat() æ–¹æ³•</strong> ï¼šå…ˆåˆ›å»ºå½“å‰æ•°ç»„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå°†æ¥æ”¶åˆ°çš„å‚æ•°æ·»åŠ åˆ°è¿™ä¸ªå‰¯æœ¬çš„æœ«å°¾ï¼Œæœ€åè¿”å›æ–°æ„å»ºçš„æ•°ç»„ã€‚</li><li><strong>slice() æ–¹æ³•</strong> ï¼šæ¥å—ä¸€æˆ–ä¸¤ä¸ªå‚æ•°ï¼Œå³è¦è¿”å›é¡¹çš„ <strong>èµ·å§‹</strong> å’Œ <strong>ç»“æŸ</strong> ä½ç½®ã€‚åœ¨åªæœ‰ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹ï¼Œslice()æ–¹æ³•è¿”å›ä»è¯¥å‚æ•°æŒ‡å®šä½ç½®å¼€å§‹åˆ°å½“å‰æ•°ç»„æœ«å°¾çš„æ‰€æœ‰é¡¹ï¼›å¦‚æœæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•è¿”å›èµ·å§‹å’Œç»“æŸä½ç½®ä¹‹é—´çš„é¡¹ï¼ˆä¸åŒ…æ‹¬ç»“æŸä½ç½®çš„é¡¹ï¼‰ã€‚</li><li><strong>splice() æ–¹æ³•</strong>ï¼šä¸»è¦ç”¨é€”æ˜¯å‘æ•°ç»„çš„ä¸­éƒ¨æ’å…¥é¡¹ï¼Œä½¿ç”¨æ–¹å¼æœ‰å¦‚ä¸‹ä¸‰ç§ï¼š<ul><li><strong>åˆ é™¤</strong> ï¼šæŒ‡å®š2 ä¸ªå‚æ•° &lt;è¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®ï¼Œ è¦åˆ é™¤çš„é¡¹æ•°&gt;ï¼›</li><li><strong>æ’å…¥</strong> ï¼šæä¾›3 ä¸ªå‚æ•° &lt;èµ·å§‹ä½ç½®ï¼Œ 0ï¼ˆè¦åˆ é™¤çš„é¡¹æ•°ï¼‰<br>ï¼Œè¦æ’å…¥çš„é¡¹ï¼Œâ€¦&gt;</li><li><strong>æ›¿æ¢</strong> ï¼šæŒ‡å®š3 ä¸ªå‚æ•° &lt;èµ·å§‹ä½ç½®ï¼Œè¦åˆ é™¤çš„é¡¹æ•°ï¼Œè¦æ’å…¥çš„ä»»æ„æ•°é‡çš„é¡¹&gt;ï¼›å§‹ç»ˆéƒ½ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸­åŒ…å«ä»åŸå§‹æ•°ç»„ä¸­åˆ é™¤çš„é¡¹</li></ul></li></ul><blockquote><p>å¦‚æœslice()æ–¹æ³•çš„å‚æ•°ä¸­æœ‰ä¸€ä¸ªè´Ÿæ•°ï¼Œåˆ™ç”¨æ•°ç»„é•¿åº¦åŠ ä¸Šè¯¥æ•°æ¥ç¡®å®šç›¸åº”çš„ä½ç½®ï¼›å¦‚æœç»“æŸä½ç½®å°äºèµ·å§‹ä½ç½®ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚</p></blockquote><h2 id="ä½ç½®æ–¹æ³•"><a href="#ä½ç½®æ–¹æ³•" class="headerlink" title="ä½ç½®æ–¹æ³•"></a>ä½ç½®æ–¹æ³•</h2><ul><li>indexOf()  ï¼šä»æ•°ç»„çš„å¼€å¤´ï¼ˆä½ç½®0ï¼‰å¼€å§‹å‘åæŸ¥æ‰¾ï¼›</li><li>lastIndexOf() ï¼šä»æ•°ç»„çš„æœ«å°¾å¼€å§‹å‘å‰æŸ¥æ‰¾ã€‚</li></ul><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½</p><ol><li>æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š<strong>è¦æŸ¥æ‰¾çš„é¡¹</strong> å’Œï¼ˆå¯é€‰çš„ï¼‰è¡¨ç¤º<strong>æŸ¥æ‰¾èµ·ç‚¹ä½ç½®</strong>çš„ç´¢å¼•ï¼›</li><li>éƒ½è¿”å›è¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œæˆ–è€…åœ¨æ²¡æ‰¾åˆ°çš„æƒ…å†µä¸‹è¿”å› -1ï¼›</li><li>åœ¨æ¯”è¾ƒç¬¬ä¸€ä¸ªå‚æ•°ä¸æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹æ—¶ï¼Œä¼šä½¿ç”¨ <strong>å…¨ç­‰</strong> æ“ä½œç¬¦</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123; <span class="attr">name</span>: <span class="string">"Nicholas"</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> people = [&#123; <span class="attr">name</span>: <span class="string">"Nicholas"</span> &#125;];</span><br><span class="line"><span class="keyword">var</span> morePeople = [person];</span><br><span class="line">alert(people.indexOf(person)); <span class="comment">//-1</span></span><br><span class="line">alert(morePeople.indexOf(person)); <span class="comment">//0</span></span><br><span class="line"><span class="comment">/* åœ¨è¿™é‡ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ‰€æ¯”è¾ƒçš„æ˜¯å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">*åœ¨ people è¿™ä¸ªæ•°ç»„ä¸­çš„è¿™ä¸ª &#123;name:â€œNicholasâ€&#125; å’Œ person å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œmorepeole ä¸­å’Œ person æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå› ä¸ºç›´æ¥å¼•ç”¨äº†å®ƒï¼‰ã€‚</span></span><br><span class="line"><span class="comment">*å› æ­¤ç¬¬ä¸€ä¸ªä¼šè¿”å› -1ï¼ˆæ— æ³•æ‰¾åˆ°ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯ 0ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h2><p>æ•°ç»„ä¸­å®šä¹‰äº†5 ä¸ªè¿­ä»£æ–¹æ³•ï¼Œåˆ†åˆ«å¯¹ <strong>æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹</strong> è¿è¡Œç»™å®šå‡½æ•°ï¼š</p><ul><li><strong>every()</strong> ï¼šå¦‚æœè¯¥å‡½æ•°å¯¹<strong>æ¯ä¸€é¡¹éƒ½è¿”å›true</strong>ï¼Œåˆ™è¿”å›trueï¼›</li><li><strong>some()</strong> ï¼šå¦‚æœè¯¥å‡½æ•°å¯¹<strong>ä»»ä¸€é¡¹è¿”å›true</strong>ï¼Œåˆ™è¿”å›trueï¼›</li><li><strong>filter()</strong> ï¼šè¿”å›è¯¥å‡½æ•°ä¼šè¿”å›true çš„é¡¹ç»„æˆçš„<strong>æ•°ç»„</strong> ï¼ˆç”¨äº æŸ¥è¯¢ç¬¦åˆæŸäº›æ¡ä»¶çš„æ‰€æœ‰æ•°ç»„é¡¹ï¼‰ï¼›</li><li><strong>map()</strong> ï¼šè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„<strong>æ•°ç»„</strong>ï¼›</li><li><strong>forEach()</strong> ï¼šæ²¡æœ‰è¿”å›å€¼ã€‚</li></ul><p>æ¯ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li>è¦åœ¨æ¯ä¸€é¡¹ä¸Šè¿è¡Œçš„ <strong>å‡½æ•°</strong>ï¼›</li><li>ï¼ˆå¯é€‰çš„ï¼‰è¿è¡Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸå¯¹è±¡â€”â€”å½±å“this çš„å€¼ã€‚</li></ol><blockquote><p>ä¼ å…¥è¿™äº›æ–¹æ³•ä¸­çš„å‡½æ•°ä¼šæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ol><li>æ•°ç»„é¡¹çš„å€¼ï¼›</li><li>è¯¥é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼›</li><li>æ•°ç»„å¯¹è±¡æœ¬èº«ã€‚</li></ol></blockquote><h2 id="å½’å¹¶æ–¹æ³•"><a href="#å½’å¹¶æ–¹æ³•" class="headerlink" title="å½’å¹¶æ–¹æ³•"></a>å½’å¹¶æ–¹æ³•</h2><p>ECMAScript å®šä¹‰äº†ä¸¤ä¸ªå½’å¹¶æ•°ç»„çš„æ–¹æ³•ï¼Œå¯ä»¥è¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œç„¶åæ„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›çš„å€¼ï¼š</p><ul><li><strong>reduce() æ–¹æ³•</strong> ï¼šä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åï¼›</li><li><strong>reduceRight() æ–¹æ³•</strong> ï¼š ä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éå†åˆ°ç¬¬ä¸€é¡¹ã€‚</li></ul><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li>ä¸€ä¸ªåœ¨æ¯ä¸€é¡¹ä¸Š <strong>è°ƒç”¨çš„å‡½æ•°</strong>ï¼›</li><li>ï¼ˆå¯é€‰çš„ï¼‰ä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ã€‚</li></ol><blockquote><p>ä¼ ç»™reduce()å’ŒreduceRight()çš„å‡½æ•°æ¥æ”¶4 ä¸ªå‚æ•°ï¼š</p><ol><li>å‰ä¸€ä¸ªå€¼ï¼›</li><li>å½“å‰å€¼ï¼›</li><li>é¡¹çš„ç´¢å¼•ï¼›</li><li>æ•°ç»„å¯¹è±¡ã€‚<br><br></li></ol><p>è¿™ä¸ªå‡½æ•°è¿”å›çš„ä»»ä½•å€¼éƒ½ä¼šä½œä¸º <strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong> è‡ªåŠ¨ä¼ ç»™ä¸‹ä¸€é¡¹ã€‚<strong>ç¬¬ä¸€æ¬¡è¿­ä»£å‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬äºŒé¡¹ä¸Š</strong>ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯æ•°ç»„çš„ç¬¬äºŒé¡¹ã€‚</p></blockquote><p><br><br><br><br><br></p><h1 id="Date-ç±»å‹"><a href="#Date-ç±»å‹" class="headerlink" title="Date ç±»å‹"></a>Date ç±»å‹</h1><p>Dateç±»å‹ ä½¿ç”¨è‡ª <strong>UTCï¼ˆCoordinated Universal Timeï¼Œå›½é™…åè°ƒæ—¶é—´ï¼‰</strong> 1970 å¹´1 æœˆ1 æ—¥åˆå¤œï¼ˆé›¶æ—¶ï¼‰å¼€å§‹ç»è¿‡çš„ <strong>æ¯«ç§’æ•°</strong> æ¥ä¿å­˜æ—¥æœŸã€‚</p><p>ä½¿ç”¨ Date æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæ—¥æœŸå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br></pre></td></tr></table></figure><p><strong>ä¸ä¼ é€’å‚æ•°</strong> çš„æƒ…å†µä¸‹ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡è‡ªåŠ¨è·å¾— <strong>å½“å‰æ—¥æœŸå’Œæ—¶é—´</strong>ï¼›<br>å¦‚æœæƒ³æ ¹æ® <strong>ç‰¹å®šçš„æ—¥æœŸå’Œæ—¶é—´</strong> åˆ›å»ºæ—¥æœŸå¯¹è±¡ï¼Œå¿…é¡»ä¼ å…¥è¡¨ç¤º <strong>è¯¥æ—¥æœŸçš„æ¯«ç§’æ•°</strong>ã€‚<br>ECMAScript æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼Œä»¥è·å–æ—¥æœŸçš„æ¯«ç§’æ•°ï¼š</p><ul><li><strong>Date.parse()</strong> ï¼šæ¥æ”¶ä¸€ä¸ª<strong>è¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²å‚æ•°</strong>ï¼Œç„¶åå°è¯•æ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²è¿”å›ç›¸åº”æ—¥æœŸçš„æ¯«ç§’æ•°ï¼›å¦‚æœä¼ å…¥Date.parse()æ–¹æ³•çš„å­—ç¬¦ä¸²ä¸èƒ½è¡¨ç¤ºæ—¥æœŸï¼Œé‚£ä¹ˆå®ƒä¼šè¿”å›NaNã€‚</li><li><strong>Date.UTC()</strong> ï¼šå‚æ•°åˆ†åˆ«æ˜¯ <strong>å¹´ä»½</strong>ã€<strong>åŸºäº0 çš„æœˆä»½</strong>ï¼ˆ0 - 11ï¼‰ã€æœˆä¸­çš„å“ªä¸€å¤©ï¼ˆ1 - 31ï¼‰ã€å°æ—¶æ•°ï¼ˆ0 - 23ï¼‰ã€åˆ†é’Ÿã€ç§’ä»¥åŠæ¯«ç§’æ•°ï¼›è¿”å›è¡¨ç¤ºæ—¥æœŸçš„æ¯«ç§’æ•°ã€‚å¦‚æœæ²¡æœ‰æä¾›æœˆä¸­çš„å¤©æ•°ï¼Œåˆ™å‡è®¾å¤©æ•°ä¸º1ï¼›å¦‚æœçœç•¥å…¶ä»–å‚æ•°ï¼Œåˆ™ç»Ÿç»Ÿå‡è®¾ä¸º0ã€‚</li><li><strong>Data.now()</strong> ï¼šè¿”å›è¡¨ç¤ºè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶çš„æ—¥æœŸå’Œæ—¶é—´çš„æ¯«ç§’æ•°ï¼ˆå¯ç”¨äºåˆ†æä»£ç ï¼›åœ¨ä¸æ”¯æŒå®ƒçš„æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨+æ“ä½œç¬¦æŠŠData å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„ç›®çš„ï¼‰ã€‚</li></ul><blockquote><p>å®é™…ä¸Šï¼Œå¦‚æœç›´æ¥å°†è¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²ä¼ é€’ç»™ Date æ„é€ å‡½æ•°ï¼Œä¹Ÿä¼šåœ¨åå°è°ƒç”¨ Date.parse()ã€‚<br><br>å¦‚åŒæ¨¡ä»¿Date.parse()ä¸€æ ·ï¼ŒDate æ„é€ å‡½æ•°ä¹Ÿä¼šæ¨¡ä»¿Date.UTC()ï¼Œä½†æœ‰ä¸€ç‚¹æ˜æ˜¾ä¸åŒï¼šæ—¥æœŸå’Œæ—¶é—´éƒ½åŸºäºæœ¬åœ°æ—¶åŒºè€ŒéGMT æ¥åˆ›å»ºã€‚</p></blockquote><h2 id="æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•"><a href="#æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•" class="headerlink" title="æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•"></a>æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•</h2><p>å°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³• å¦‚ä¸‹ï¼š</p><ul><li><strong>toDateString()</strong> â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´ï¼›</li><li><strong>toTimeString()</strong> â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’å’Œæ—¶åŒºï¼›</li><li><strong>toLocaleDateString()</strong> â€”â€”ä»¥ç‰¹å®šäºåœ°åŒºçš„æ ¼å¼æ˜¾ç¤ºæ˜ŸæœŸå‡ ã€æœˆã€æ—¥å’Œå¹´ï¼›</li><li><strong>toLocaleTimeString()</strong> â€”â€”ä»¥ç‰¹å®šäºåœ°åŒºçš„æ ¼å¼æ˜¾ç¤ºæ—¶ã€åˆ†ã€ç§’ï¼›</li><li><strong>toUTCString()</strong> â€”â€”ä»¥ç‰¹å®šäºå®ç°çš„æ ¼å¼å®Œæ•´çš„UTC æ—¥æœŸã€‚</li></ul><h2 id="æ—¥æœŸ-æ—¶é—´ç»„ä»¶æ–¹æ³•"><a href="#æ—¥æœŸ-æ—¶é—´ç»„ä»¶æ–¹æ³•" class="headerlink" title="æ—¥æœŸ/æ—¶é—´ç»„ä»¶æ–¹æ³•"></a>æ—¥æœŸ/æ—¶é—´ç»„ä»¶æ–¹æ³•</h2><blockquote><p>UTC æ—¥æœŸæŒ‡çš„æ˜¯åœ¨æ²¡æœ‰æ—¶åŒºåå·®çš„æƒ…å†µä¸‹ï¼ˆå°†æ—¥æœŸè½¬æ¢ä¸ºGMT æ—¶é—´ï¼‰çš„æ—¥æœŸå€¼</p></blockquote><p>å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li><strong>getFullYear()</strong>  ï¼šå–å¾—4ä½æ•°çš„å¹´ä»½ï¼ˆå¦‚2007è€Œéä»…07ï¼‰ï¼›</li><li><strong>getMonth()</strong> ï¼š è¿”å›æ—¥æœŸä¸­çš„æœˆä»½ï¼Œå…¶ä¸­0è¡¨ç¤ºä¸€æœˆï¼Œ11è¡¨ç¤ºåäºŒæœˆï¼›</li><li><strong>getDate()</strong> ï¼š è¿”å›æ—¥æœŸæœˆä»½ä¸­çš„å¤©æ•°ï¼ˆ1åˆ°31ï¼‰ï¼›</li><li><strong>getDay()</strong> ï¼š è¿”å›æ—¥æœŸä¸­æ˜ŸæœŸçš„æ˜ŸæœŸå‡ ï¼ˆå…¶ä¸­0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼Œ6è¡¨ç¤ºæ˜ŸæœŸå…­ï¼‰ï¼›<br><br></li><li><strong>setFullYear(å¹´)</strong> ï¼š è®¾ç½®æ—¥æœŸçš„å¹´ä»½ï¼›</li><li><strong>setMonth(æœˆ)</strong> ï¼š è®¾ç½®æ—¥æœŸçš„æœˆä»½ã€‚ä¼ å…¥çš„æœˆä»½å€¼å¿…é¡»å¤§äº0ï¼Œè¶…è¿‡11åˆ™å¢åŠ å¹´ä»½ï¼›</li><li><strong>setDate(æ—¥)</strong> ï¼š è®¾ç½®æ—¥æœŸæœˆä»½ä¸­çš„å¤©æ•°ã€‚å¦‚æœä¼ å…¥çš„å€¼è¶…è¿‡äº†è¯¥æœˆä¸­åº”æœ‰çš„å¤©æ•°ï¼Œåˆ™å¢åŠ æœˆä»½ï¼›</li></ul><p><br><br><br><br><br></p><h1 id="RegExp-ç±»å‹"><a href="#RegExp-ç±»å‹" class="headerlink" title="RegExp ç±»å‹"></a>RegExp ç±»å‹</h1><ul><li><p>ä»¥ <strong>å­—é¢é‡å½¢å¼</strong> åˆ›å»º æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> expression = <span class="regexp">/ pattern /</span> flags ;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <strong>RegExp æ„é€ å‡½æ•°</strong> åˆ›å»º æ­£åˆ™è¡¨è¾¾å¼ï¼š<br>å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯è¦åŒ¹é…çš„å­—ç¬¦ä¸²æ¨¡å¼ï¼ˆæ‰€æœ‰å…ƒå­—ç¬¦éƒ½å¿…é¡» <strong>åŒé‡è½¬ä¹‰</strong>ï¼Œé‚£<br>äº›å·²ç»è½¬ä¹‰è¿‡çš„å­—ç¬¦ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯å¯é€‰çš„æ ‡å¿—å­—ç¬¦ä¸²ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/[bc]at/i</span>;</span><br><span class="line"><span class="keyword">var</span> pattern2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[bc]at"</span>, <span class="string">"i"</span>);</span><br></pre></td></tr></table></figure><p>æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ¨¡å¼æ”¯æŒä¸‹åˆ— 3 ä¸ªæ ‡å¿—ï¼š</p><ul><li><strong>g</strong> ï¼šè¡¨ç¤º <strong>å…¨å±€</strong>ï¼ˆglobalï¼‰æ¨¡å¼ï¼›</li><li><strong>i</strong> ï¼šè¡¨ç¤º <strong>ä¸åŒºåˆ†å¤§å°å†™</strong>ï¼ˆcase-insensitiveï¼‰æ¨¡å¼ï¼›</li><li><strong>m</strong> ï¼šè¡¨ç¤º <strong>å¤šè¡Œ</strong>ï¼ˆmultilineï¼‰æ¨¡å¼ã€‚</li></ul><p>æ¨¡å¼ä¸­ä½¿ç”¨çš„æ‰€æœ‰å…ƒå­—ç¬¦éƒ½å¿…é¡»è½¬ä¹‰ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ <strong>å…ƒå­—ç¬¦</strong> åŒ…æ‹¬ï¼š<br>     ( [ { \ ^ $ | ) ? * + .]} </p><blockquote><p>æ³¨æ„ï¼š<br>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å’Œä½¿ç”¨RegExp æ„é€ å‡½æ•°åˆ›å»ºçš„æ­£åˆ™è¡¨è¾¾å¼ä¸ä¸€æ ·ã€‚<br>åœ¨ECMAScript 3 ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡å§‹ç»ˆä¼šå…±äº«åŒä¸€ä¸ªRegExp å®ä¾‹ï¼Œ<br>è€Œä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ¯ä¸€ä¸ªæ–°RegExp å®ä¾‹éƒ½æ˜¯ä¸€ä¸ªæ–°å®ä¾‹ã€‚</p></blockquote><h2 id="RegExp-å®ä¾‹å±æ€§"><a href="#RegExp-å®ä¾‹å±æ€§" class="headerlink" title="RegExp å®ä¾‹å±æ€§"></a>RegExp å®ä¾‹å±æ€§</h2><p>RegExp çš„æ¯ä¸ªå®ä¾‹éƒ½å…·æœ‰ä¸‹åˆ—å±æ€§ï¼Œé€šè¿‡è¿™äº›å±æ€§å¯ä»¥å–å¾—æœ‰å…³æ¨¡å¼çš„å„ç§ä¿¡æ¯ã€‚</p><ul><li>globalï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†g æ ‡å¿—ã€‚</li><li>ignoreCaseï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†i æ ‡å¿—ã€‚</li><li>lastIndexï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹çš„å­—ç¬¦ä½ç½®ï¼Œä»0 ç®—èµ·ã€‚</li><li>multilineï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†m æ ‡å¿—ã€‚</li><li>sourceï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ŒæŒ‰ç…§å­—é¢é‡å½¢å¼è€Œéä¼ å…¥æ„é€ å‡½æ•°ä¸­çš„å­—ç¬¦ä¸²æ¨¡å¼è¿”å›ã€‚</li></ul><h2 id="RegExpå®ä¾‹æ–¹æ³•"><a href="#RegExpå®ä¾‹æ–¹æ³•" class="headerlink" title="RegExpå®ä¾‹æ–¹æ³•"></a>RegExpå®ä¾‹æ–¹æ³•</h2><ul><li><strong>exec()</strong>  ï¼šexec() æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³ è¦åº”ç”¨æ¨¡å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åè¿”å› <strong>åŒ…å«ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ä¿¡æ¯çš„æ•°ç»„</strong>ï¼›æˆ–è€…åœ¨æ²¡æœ‰åŒ¹é…é¡¹çš„æƒ…å†µä¸‹è¿”å›nullã€‚</li></ul><blockquote><p>è¿”å›çš„æ•°ç»„è™½ç„¶æ˜¯Array çš„å®ä¾‹ï¼Œä½†åŒ…å«ä¸¤ä¸ªé¢å¤–çš„å±æ€§ï¼šindex å’Œinputã€‚å…¶ä¸­ï¼Œ<strong>index</strong> è¡¨ç¤ºåŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œè€Œ <strong>input</strong> è¡¨ç¤ºåº”ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚åœ¨æ•°ç»„ä¸­ï¼Œç¬¬ä¸€é¡¹æ˜¯ä¸æ•´ä¸ªæ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…¶ä»–é¡¹æ˜¯ä¸æ¨¡å¼ä¸­çš„æ•è·ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ï¼ˆå¦‚æœæ¨¡å¼ä¸­æ²¡æœ‰æ•è·ç»„ï¼Œåˆ™è¯¥æ•°ç»„åªåŒ…å«ä¸€é¡¹ï¼‰ã€‚</p></blockquote><ul><li><strong>test()</strong> ï¼šåœ¨æ¨¡å¼ä¸è¯¥å‚æ•°åŒ¹é…çš„æƒ…å†µä¸‹è¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚</li></ul><blockquote><p>test() æ–¹æ³•ç»å¸¸è¢«ç”¨åœ¨ <strong>if è¯­å¥</strong> ä¸­</p></blockquote><p><br><br><br><br><br></p><h1 id="Function-ç±»å‹"><a href="#Function-ç±»å‹" class="headerlink" title="Function ç±»å‹"></a>Function ç±»å‹</h1><p>æ¯ä¸ªå‡½æ•°éƒ½æ˜¯Function ç±»å‹çš„å®ä¾‹ï¼Œè€Œä¸”éƒ½ä¸å…¶ä»–å¼•ç”¨ç±»å‹ä¸€æ ·å…·æœ‰å±æ€§å’Œæ–¹æ³•ã€‚<br>ç”±äº<strong>å‡½æ•°æ˜¯å¯¹è±¡</strong>ï¼Œå› æ­¤ <strong>å‡½æ•°å</strong> å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ª <strong>æŒ‡å‘å‡½æ•°å¯¹è±¡çš„æŒ‡é’ˆ</strong>ï¼Œä¸ä¼šä¸æŸä¸ªå‡½æ•°ç»‘å®šã€‚</p><p>å®šä¹‰å‡½æ•°çš„æ–¹å¼ï¼š</p><ul><li><strong>å‡½æ•°å£°æ˜</strong></li><li><strong>å‡½æ•°è¡¨è¾¾å¼</strong></li><li><strong>ä½¿ç”¨Function æ„é€ å‡½æ•°</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼å®šä¹‰æ³•</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°å®šä¹‰æ³•</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"num1"</span>, <span class="string">"num2"</span>, <span class="string">"return num1 + num2"</span>); <span class="comment">// ä¸æ¨è</span></span><br></pre></td></tr></table></figure><blockquote><p>æ„é€ å‡½æ•°å®šä¹‰æ³• ä¼šå¯¼è‡´<strong>è§£æä¸¤æ¬¡ä»£ç </strong>ï¼ˆç¬¬ä¸€æ¬¡æ˜¯è§£æå¸¸è§„ECMAScript ä»£ç ï¼Œç¬¬äºŒæ¬¡æ˜¯è§£æä¼ å…¥æ„é€ å‡½æ•°ä¸­çš„å­—ç¬¦ä¸²ï¼‰ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</p></blockquote><p>ç”±äºå‡½æ•°åä»…ä»…æ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼Œå› æ­¤å‡½æ•°åä¸åŒ…å«å¯¹è±¡æŒ‡é’ˆçš„å…¶ä»–å˜é‡æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªå‡½æ•°å¯èƒ½ä¼šæœ‰å¤šä¸ªåå­—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line">alert(sum(<span class="number">10</span>,<span class="number">10</span>)); <span class="comment">//20</span></span><br><span class="line"><span class="keyword">var</span> anotherSum = sum;</span><br><span class="line">alert(anotherSum(<span class="number">10</span>,<span class="number">10</span>)); <span class="comment">//20</span></span><br><span class="line">sum = <span class="literal">null</span>;</span><br><span class="line">alert(anotherSum(<span class="number">10</span>,<span class="number">10</span>)); <span class="comment">//20</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œä½¿ç”¨ <strong>ä¸å¸¦åœ†æ‹¬å·çš„å‡½æ•°å</strong> æ˜¯ <strong>è®¿é—®å‡½æ•°æŒ‡é’ˆ</strong>ï¼Œè€Œéè°ƒç”¨å‡½æ•°ã€‚</p></blockquote><h2 id="æ²¡æœ‰é‡è½½"><a href="#æ²¡æœ‰é‡è½½" class="headerlink" title="æ²¡æœ‰é‡è½½"></a>æ²¡æœ‰é‡è½½</h2><p>å‡½æ•°æ˜¯å¯¹è±¡ï¼Œæ²¡æœ‰é‡è½½ï¼Œå¯ä»¥å°†å‡½æ•°åç†è§£ä¸º æŒ‡é’ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addSomeNumber</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> num + <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addSomeNumber</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> num + <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = addSomeNumber(<span class="number">100</span>); <span class="comment">//300</span></span><br></pre></td></tr></table></figure></p><p>ä¸Šè¿°ä»£ç  ç”¨ å‡½æ•°è¡¨è¾¾å¼ è¡¨ç¤ºä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> addSomeNumber = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> num + <span class="number">100</span>;</span><br><span class="line">&#125;;</span><br><span class="line">addSomeNumber = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> num + <span class="number">200</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> result = addSomeNumber(<span class="number">100</span>); <span class="comment">//300</span></span><br></pre></td></tr></table></figure><p>å¯è§ï¼Œåœ¨åˆ›å»ºç¬¬äºŒä¸ªå‡½æ•°æ—¶ï¼Œå®é™…ä¸Šè¦†ç›–äº†<strong>å¼•ç”¨</strong>ç¬¬ä¸€ä¸ªå‡½æ•°çš„å˜é‡addSomeNumberã€‚</p><h2 id="å‡½æ•°å£°æ˜-ä¸-å‡½æ•°è¡¨è¾¾å¼"><a href="#å‡½æ•°å£°æ˜-ä¸-å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="å‡½æ•°å£°æ˜ ä¸ å‡½æ•°è¡¨è¾¾å¼"></a>å‡½æ•°å£°æ˜ ä¸ å‡½æ•°è¡¨è¾¾å¼</h2><blockquote><p>è§£æå™¨åœ¨å‘æ‰§è¡Œç¯å¢ƒä¸­åŠ è½½æ•°æ®æ—¶ï¼Œå¯¹å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼å¹¶éä¸€è§†åŒä»ã€‚<br><strong>è§£æå™¨ä¼šç‡å…ˆè¯»å–å‡½æ•°å£°æ˜ï¼Œå¹¶ä½¿å…¶åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¹‹å‰å¯ç”¨ï¼ˆå¯ä»¥è®¿é—®ï¼‰ï¼›<br>è‡³äºå‡½æ•°è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»ç­‰åˆ°è§£æå™¨æ‰§è¡Œåˆ°å®ƒæ‰€åœ¨çš„ä»£ç è¡Œï¼Œæ‰ä¼šçœŸæ­£è¢«è§£é‡Šæ‰§è¡Œã€‚</strong></p></blockquote><p><strong>å‡½æ•°å£°æ˜æå‡</strong>ï¼ˆfunction declaration hoistingï¼‰<br>å¯¹ä»£ç æ±‚å€¼æ—¶ï¼ŒJavaScriptå¼•æ“åœ¨ç¬¬ä¸€éä¼šå£°æ˜å‡½æ•°å¹¶å°†å®ƒä»¬æ”¾åˆ°æºä»£ç æ ‘çš„é¡¶éƒ¨ã€‚æ‰€ä»¥ï¼Œå³ä½¿å£°æ˜å‡½æ•°çš„ä»£ç åœ¨è°ƒç”¨å®ƒçš„ä»£ç åé¢ï¼ŒJavaScript å¼•æ“ä¹Ÿèƒ½æŠŠå‡½æ•°å£°æ˜æå‡åˆ°é¡¶éƒ¨ã€‚</p><h2 id="ä½œä¸ºå€¼çš„å‡½æ•°"><a href="#ä½œä¸ºå€¼çš„å‡½æ•°" class="headerlink" title="ä½œä¸ºå€¼çš„å‡½æ•°"></a>ä½œä¸ºå€¼çš„å‡½æ•°</h2><p>å› ä¸º <strong>å‡½æ•°å</strong> æœ¬èº«å°±æ˜¯ <strong>å˜é‡</strong>ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿå¯ä»¥ <strong>ä½œä¸ºå€¼</strong> æ¥ä½¿ç”¨ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»…å¯ä»¥åƒä¼ é€’å‚æ•°ä¸€æ ·æŠŠä¸€ä¸ªå‡½æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„ç»“æœè¿”å›ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSomeFunction</span>(<span class="params">someFunction, someArgument</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> someFunction(someArgument);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæˆ‘ä»¬æƒ³è¦æ ¹æ®æŸä¸ªå¯¹è±¡å±æ€§å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚è€Œä¼ é€’ç»™æ•°ç»„sort()æ–¹æ³•çš„æ¯”è¾ƒå‡½æ•°è¦æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå³è¦æ¯”è¾ƒçš„å€¼ã€‚æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼æ¥æŒ‡æ˜æŒ‰ç…§å“ªä¸ªå±æ€§æ¥æ’åºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createComparisonFunction</span>(<span class="params">propertyName</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">object1, object2</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> value1 = object1[propertyName];</span><br><span class="line"><span class="keyword">var</span> value2 = object2[propertyName];</span><br><span class="line"><span class="keyword">if</span> (value1 &lt; value2)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (value1 &gt; value2)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å‡½æ•°å†…éƒ¨å±æ€§"><a href="#å‡½æ•°å†…éƒ¨å±æ€§" class="headerlink" title="å‡½æ•°å†…éƒ¨å±æ€§"></a>å‡½æ•°å†…éƒ¨å±æ€§</h2><p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼šarguments å’Œ this ã€‚</p><ul><li><strong>arguments</strong> ï¼šç±»æ•°ç»„å¯¹è±¡ï¼ŒåŒ…å«ç€ä¼ å…¥å‡½æ•°ä¸­çš„æ‰€æœ‰å‚æ•°ã€‚<br>è¿™ä¸ªå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªåå« <strong>callee</strong> çš„å±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ <strong>æ‹¥æœ‰è¿™ä¸ªarguments å¯¹è±¡çš„å‡½æ•°</strong>ã€‚ä½¿ç”¨arguments.calleeï¼Œå¯ä»¥æ¶ˆé™¤ é€’å½’è°ƒç”¨ ä¸­çš„ç´§å¯†è€¦åˆç°è±¡ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (num &lt;=<span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>this</strong> ï¼šthis å¼•ç”¨çš„æ˜¯ <strong>å‡½æ•°æ®ä»¥æ‰§è¡Œçš„ç¯å¢ƒå¯¹è±¡</strong>ï¼ˆå½“åœ¨ç½‘é¡µçš„å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨å‡½æ•°æ—¶ï¼Œthis å¯¹è±¡å¼•ç”¨çš„å°±æ˜¯ windowï¼‰</li></ul><blockquote><p>è¯·ç‰¢è®°ï¼šå‡½æ•°çš„åå­—ä»…ä»…æ˜¯ä¸€ä¸ª <strong>åŒ…å«æŒ‡é’ˆçš„å˜é‡</strong> è€Œå·²</p></blockquote><ul><li><strong>caller</strong> ï¼šä¿å­˜ç€ <strong>è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„å¼•ç”¨</strong>ï¼Œå¦‚æœæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨å½“å‰å‡½æ•°ï¼Œå®ƒçš„å€¼ä¸ºnullã€‚</li></ul><h2 id="å‡½æ•°å±æ€§å’Œæ–¹æ³•"><a href="#å‡½æ•°å±æ€§å’Œæ–¹æ³•" class="headerlink" title="å‡½æ•°å±æ€§å’Œæ–¹æ³•"></a>å‡½æ•°å±æ€§å’Œæ–¹æ³•</h2><ul><li><strong>length å±æ€§</strong>ï¼šè¡¨ç¤ºå‡½æ•°å¸Œæœ›æ¥æ”¶çš„ <strong>å‘½åå‚æ•°çš„ä¸ªæ•°</strong>ï¼›</li><li><strong>prototype å±æ€§</strong>ï¼š ä¸å¯æšä¸¾ï¼›</li></ul><p>ä»¥ä¸‹æ–¹æ³• åœ¨ç‰¹å®šçš„ä½œç”¨åŸŸä¸­è°ƒç”¨å‡½æ•°ï¼Œå®é™…ä¸Šç­‰äºè®¾ç½®å‡½æ•°ä½“å†… this å¯¹è±¡çš„å€¼ï¼š</p><ul><li><strong>apply() æ–¹æ³•</strong>ï¼šæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯åœ¨å…¶ä¸­è¿è¡Œå‡½æ•°çš„ä½œç”¨åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å‚æ•°æ•°ç»„ã€‚å…¶ä¸­ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯Array çš„å®ä¾‹ï¼Œä¹Ÿå¯ä»¥æ˜¯arguments å¯¹è±¡ã€‚</li><li><strong>call() æ–¹æ³•</strong>ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯this å€¼ï¼Œå…¶ä½™å‚æ•°éƒ½ç›´æ¥ä¼ é€’ç»™å‡½æ•°ï¼ˆå¿…é¡»é€ä¸ªåˆ—ä¸¾å‡ºæ¥ï¼‰ã€‚</li><li><strong>bind() æ–¹æ³•</strong>ï¼šè¿™ä¸ªæ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œå…¶this å€¼ä¼šè¢«ç»‘å®šåˆ°ä¼ ç»™bind()å‡½æ•°çš„å€¼ã€‚</li></ul><blockquote><p>call()æ–¹æ³•ä¸apply()æ–¹æ³•çš„ä½œç”¨ç›¸åŒï¼Œå®ƒä»¬çš„åŒºåˆ«ä»…åœ¨äºæ¥æ”¶å‚æ•°çš„æ–¹å¼ä¸åŒã€‚</p></blockquote><p>apply()å’Œcall() èƒ½å¤Ÿæ‰©å……å‡½æ•°èµ–ä»¥è¿è¡Œçš„ä½œç”¨åŸŸï¼Œä½¿ç”¨call()ï¼ˆæˆ–apply()ï¼‰æ¥æ‰©å……ä½œç”¨åŸŸçš„æœ€å¤§å¥½å¤„ï¼Œå°±æ˜¯å¯¹è±¡ä¸éœ€è¦ä¸æ–¹æ³•æœ‰ä»»ä½•è€¦åˆå…³ç³»ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.color = <span class="string">"red"</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">color</span>: <span class="string">"blue"</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">alert(<span class="keyword">this</span>.color);</span><br><span class="line">&#125;</span><br><span class="line">sayColor(); <span class="comment">//red</span></span><br><span class="line">sayColor.call(<span class="keyword">this</span>); <span class="comment">//red</span></span><br><span class="line">sayColor.call(<span class="built_in">window</span>); <span class="comment">//red</span></span><br><span class="line">sayColor.call(o); <span class="comment">//blue</span></span><br></pre></td></tr></table></figure><p><br><br><br><br><br></p><h1 id="åŸºæœ¬åŒ…è£…ç±»å‹"><a href="#åŸºæœ¬åŒ…è£…ç±»å‹" class="headerlink" title="åŸºæœ¬åŒ…è£…ç±»å‹"></a>åŸºæœ¬åŒ…è£…ç±»å‹</h1><p>å®é™…ä¸Šï¼Œæ¯å½“è¯»å–ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼çš„æ—¶å€™ï¼Œåå°å°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹çš„å¯¹è±¡ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•æ¥æ“ä½œè¿™äº›æ•°æ®ã€‚</p><blockquote><p>å¼•ç”¨ç±»å‹ä¸åŸºæœ¬åŒ…è£…ç±»å‹çš„ä¸»è¦åŒºåˆ«å°±æ˜¯ <strong>å¯¹è±¡çš„ç”Ÿå­˜æœŸ</strong>ã€‚<br>ï¼ˆ1ï¼‰ä½¿ç”¨ new æ“ä½œç¬¦åˆ›å»ºçš„å¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼Œåœ¨æ‰§è¡Œæµç¦»å¼€å½“å‰ä½œç”¨åŸŸä¹‹å‰éƒ½ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚<br>ï¼ˆ2ï¼‰è€Œè‡ªåŠ¨åˆ›å»ºçš„åŸºæœ¬åŒ…è£…ç±»å‹çš„å¯¹è±¡ï¼Œåˆ™åªå­˜åœ¨äºä¸€è¡Œä»£ç çš„æ‰§è¡Œç¬é—´ï¼Œç„¶åç«‹å³è¢«é”€æ¯ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½åœ¨è¿è¡Œæ—¶ä¸ºåŸºæœ¬ç±»å‹å€¼æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚</p></blockquote><p>ä¸‰ç§åŸºæœ¬åŒ…è£…ç±»å‹çš„å…±åŒç‰¹å¾ï¼š<br>ï¼ˆ1ï¼‰æ¯ä¸ªåŒ…è£…ç±»å‹éƒ½ <strong>æ˜ å°„</strong> åˆ°åŒåçš„åŸºæœ¬ç±»å‹ï¼›<br>ï¼ˆ2ï¼‰åœ¨ <strong>è¯»å–æ¨¡å¼</strong> ä¸‹è®¿é—®åŸºæœ¬ç±»å‹å€¼æ—¶ï¼Œå°±ä¼šåˆ›å»ºå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œæ–¹ä¾¿äº†æ•°æ®æ“ä½œï¼ˆåœ¨å®ä¾‹ä¸Šè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•ï¼‰ï¼›<br>ï¼ˆ3ï¼‰æ“ä½œåŸºæœ¬ç±»å‹å€¼çš„è¯­å¥ä¸€ç» <strong>æ‰§è¡Œå®Œæ¯•</strong>ï¼Œå°±ä¼š <strong>ç«‹å³é”€æ¯</strong> æ–°åˆ›å»ºçš„åŒ…è£…å¯¹è±¡ã€‚</p><h2 id="Boolean-ç±»å‹"><a href="#Boolean-ç±»å‹" class="headerlink" title="Boolean ç±»å‹"></a>Boolean ç±»å‹</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> falseObject = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">var</span> result = falseObject &amp;&amp; <span class="literal">true</span>;</span><br><span class="line">alert(result); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> falseValue = <span class="literal">false</span>;</span><br><span class="line">result = falseValue &amp;&amp; <span class="literal">true</span>;</span><br><span class="line">alert(result); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">alert(<span class="keyword">typeof</span> falseObject); <span class="comment">//object</span></span><br><span class="line">alert(<span class="keyword">typeof</span> falseValue); <span class="comment">//boolean</span></span><br><span class="line">alert(falseObject <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>); <span class="comment">//true</span></span><br><span class="line">alert(falseValue <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>); <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p><strong>å¸ƒå°”è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ä¼šè¢«è½¬æ¢ä¸º true</strong>ï¼Œå› æ­¤ä¸Šè¿°ä»£ç ä¸­ï¼ŒfalseObject å¯¹è±¡åœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸­ä»£è¡¨çš„æ˜¯trueã€‚<br>æˆ‘ä»¬çš„å»ºè®®æ˜¯æ°¸è¿œä¸è¦ä½¿ç”¨Boolean å¯¹è±¡ã€‚</p><h2 id="Number-ç±»å‹"><a href="#Number-ç±»å‹" class="headerlink" title="Number ç±»å‹"></a>Number ç±»å‹</h2><ul><li><strong>valueOf() æ–¹æ³•</strong> ï¼šè¿”å›å¯¹è±¡è¡¨ç¤ºçš„åŸºæœ¬ç±»å‹çš„æ•°å€¼ï¼›</li><li><strong>toLocaleString() æ–¹æ³•</strong> ï¼šè¿”å›å­—ç¬¦ä¸²å½¢å¼çš„æ•°å€¼ï¼›</li><li><strong>toString() æ–¹æ³•</strong>ï¼š è¿”å›å­—ç¬¦ä¸²å½¢å¼çš„æ•°å€¼ï¼ˆå¯ä»¥ä¸ºtoString()æ–¹æ³•ä¼ é€’ä¸€ä¸ª<strong>è¡¨ç¤ºåŸºæ•°</strong>çš„å‚æ•°ï¼Œå‘Šè¯‰å®ƒè¿”å›<strong>å‡ è¿›åˆ¶æ•°å€¼</strong>çš„å­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼›</li><li><strong>toFixed() æ–¹æ³•</strong> ï¼šä¼šæŒ‰ç…§æŒ‡å®šçš„å°æ•°ä½è¿”å›æ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤º ï¼›</li><li><strong>toExponential() æ–¹æ³•</strong> ï¼šè¿”å›ä»¥æŒ‡æ•°è¡¨ç¤ºæ³•ï¼ˆä¹Ÿç§°e è¡¨ç¤ºæ³•ï¼‰è¡¨ç¤ºçš„æ•°å€¼çš„å­—ç¬¦ä¸²å½¢å¼ï¼›</li><li><strong>toPrecision() æ–¹æ³•</strong> ï¼šå¯èƒ½ä¼šè¿”å›å›ºå®šå¤§å°ï¼ˆfixedï¼‰æ ¼å¼ï¼Œä¹Ÿå¯èƒ½è¿”å›æŒ‡æ•°<br>ï¼ˆexponentialï¼‰æ ¼å¼ï¼›å…·ä½“è§„åˆ™æ˜¯çœ‹å“ªç§æ ¼å¼æœ€åˆé€‚ã€‚æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¡¨ç¤ºæ•°å€¼çš„æ‰€æœ‰æ•°å­—çš„ä½æ•°ï¼ˆä¸åŒ…æ‹¬æŒ‡æ•°éƒ¨åˆ†ï¼‰ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10.005</span>;</span><br><span class="line">alert(num.toFixed(<span class="number">2</span>)); <span class="comment">//"10.01"</span></span><br><span class="line"><span class="comment">// èƒ½å¤Ÿ è‡ªåŠ¨èˆå…¥ çš„ç‰¹æ€§ï¼Œä½¿å¾—toFixed()æ–¹æ³•å¾ˆé€‚åˆ å¤„ç†è´§å¸å€¼</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">99</span>;</span><br><span class="line">alert(num.toPrecision(<span class="number">1</span>)); <span class="comment">//"1e+2"</span></span><br><span class="line">alert(num.toPrecision(<span class="number">2</span>)); <span class="comment">//"99"</span></span><br><span class="line">aler t(num.toPrecision(<span class="number">3</span>)); <span class="comment">//"99.0"</span></span><br></pre></td></tr></table></figure><h2 id="String-ç±»å‹"><a href="#String-ç±»å‹" class="headerlink" title="String ç±»å‹"></a>String ç±»å‹</h2><p>String ç±»å‹çš„æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ª <strong>length å±æ€§</strong>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­åŒ…å«å¤šä¸ªå­—ç¬¦ã€‚</p><blockquote><p>åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿å­—ç¬¦ä¸²ä¸­åŒ…å« <strong>åŒå­—èŠ‚å­—ç¬¦</strong>ï¼ˆä¸æ˜¯å ä¸€ä¸ªå­—èŠ‚çš„ASCII å­—ç¬¦ï¼‰ï¼Œæ¯ä¸ªå­—ç¬¦ ä¹Ÿä»ç„¶ <strong>ç®—ä¸€ä¸ªå­—ç¬¦</strong>ã€‚</p></blockquote><p>String ç±»å‹æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œç”¨äºè¾…åŠ©å®Œæˆå¯¹ECMAScript ä¸­å­—ç¬¦ä¸²çš„è§£æå’Œæ“ä½œï¼š</p><ul><li>å­—ç¬¦æ–¹æ³•<ul><li><strong>charAt()</strong> ï¼šä»¥<strong>å•å­—ç¬¦å­—ç¬¦ä¸²</strong>çš„å½¢å¼è¿”å›ç»™å®šä½ç½®çš„é‚£ä¸ªå­—ç¬¦</li><li><strong>charCodeAt()</strong> ï¼šä»¥<strong>å­—ç¬¦ç¼–ç </strong>çš„å½¢å¼è¿”å›ç»™å®šä½ç½®çš„é‚£ä¸ªå­—ç¬¦</li></ul></li><li>å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•<ul><li><strong>concat()</strong> ï¼šç”¨äºå°†ä¸€æˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼Œè¿”å›æ‹¼æ¥å¾—åˆ°çš„æ–°å­—ç¬¦ä¸²ã€‚ </li><li><strong>åŠ å·æ“ä½œç¬¦ï¼ˆ+ï¼‰</strong></li><li><strong>slice()</strong> </li><li><strong>substr()</strong> </li><li><strong>substring()</strong></li></ul></li><li>å­—ç¬¦ä¸²ä½ç½®æ–¹æ³•<ul><li><strong>indexOf()</strong> ï¼š ä»å‰å¾€å</li><li><strong>lastIndexOf()</strong> ï¼š ä»åå¾€å‰</li></ul></li><li><strong>trim() æ–¹æ³•</strong> ï¼š åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰¯æœ¬ï¼Œåˆ é™¤å‰ç½®åŠåç¼€çš„æ‰€æœ‰ç©ºæ ¼ï¼Œç„¶åè¿”å›ç»“æœï¼›</li><li>å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢æ–¹æ³•<ul><li><strong>toLowerCase()</strong></li><li><strong>toUpperCase()</strong></li><li><strong>toLocaleLowerCase()</strong></li><li><strong>toLocaleUpperCase()</strong></li></ul></li><li>å­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…æ–¹æ³•<ul><li><strong>match()</strong> ï¼šæœ¬è´¨ä¸Šä¸è°ƒç”¨RegExp çš„exec()æ–¹æ³•ç›¸åŒã€‚</li><li><strong>search()</strong> ï¼šè¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›-1ã€‚è€Œä¸”ï¼Œsearch()æ–¹æ³•å§‹ç»ˆæ˜¯ä»å­—ç¬¦ä¸²å¼€å¤´å‘åæŸ¥æ‰¾æ¨¡å¼ã€‚</li><li><strong>replace()</strong> ï¼š è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªRegExp å¯¹è±¡æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè¿™ä¸ªå­—ç¬¦ä¸²ä¸ä¼šè¢«è½¬æ¢æˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆåªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚è¦æƒ³æ›¿æ¢æ‰€æœ‰å­å­—ç¬¦ä¸²ï¼Œå”¯ä¸€çš„åŠæ³•å°±æ˜¯æä¾›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œä¸”è¦æŒ‡å®šå…¨å±€ï¼ˆgï¼‰æ ‡å¿—ã€‚</li><li><strong>split()</strong> ï¼šåŸºäº <strong>æŒ‡å®šçš„åˆ†éš”ç¬¦</strong> å°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå¤šä¸ªå­å­—ç¬¦ä¸²ï¼Œå¹¶å°†ç»“æœæ”¾åœ¨ä¸€ä¸ª<strong>æ•°ç»„</strong>ä¸­ã€‚åˆ†éš”ç¬¦å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªRegExp å¯¹è±¡ï¼ˆè¿™ä¸ªæ–¹æ³•ä¸ä¼šå°†å­—ç¬¦ä¸²çœ‹æˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼›</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">"cat, bat, sat, fat"</span>;</span><br><span class="line"><span class="keyword">var</span> result = text.replace(<span class="string">"at"</span>, <span class="string">"ond"</span>);</span><br><span class="line">alert(result); <span class="comment">//"cond, bat, sat, fat"</span></span><br><span class="line">result = text.replace(<span class="regexp">/at/g</span>, <span class="string">"ond"</span>);</span><br><span class="line">aler t(result); <span class="comment">//"cond, bond, sond, fond"</span></span><br></pre></td></tr></table></figure><ul><li><p><strong>localeCompare() æ–¹æ³•</strong> ï¼šæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸‹åˆ—å€¼ä¸­çš„ä¸€ä¸ªï¼š</p><ul><li>å¦‚æœå­—ç¬¦ä¸²åœ¨å­—æ¯è¡¨ä¸­åº”è¯¥æ’åœ¨å­—ç¬¦ä¸²å‚æ•°ä¹‹å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼ˆ-1ï¼‰ï¼›</li><li>å¦‚æœå­—ç¬¦ä¸²ç­‰äºå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ™è¿”å› 0ï¼›</li><li>å¦‚æœå­—ç¬¦ä¸²åœ¨å­—æ¯è¡¨ä¸­åº”è¯¥æ’åœ¨å­—ç¬¦ä¸²å‚æ•°ä¹‹åï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ï¼ˆ1ï¼‰ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stringValue = <span class="string">"yellow"</span>;</span><br><span class="line">alert(stringValue.localeCompare(<span class="string">"brick"</span>)); <span class="comment">//1</span></span><br><span class="line">alert(stringValue.localeCompare(<span class="string">"yellow"</span>)); <span class="comment">//0</span></span><br><span class="line">alert(stringValue.localeCompare(<span class="string">"zoo"</span>)); <span class="comment">//-1</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>fromCharCode() æ–¹æ³•</strong> ï¼š æ¥æ”¶ä¸€æˆ–å¤šä¸ªå­—ç¬¦ç¼–ç ï¼Œç„¶åå°†å®ƒä»¬è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p></li><li>HTML æ–¹æ³•</li></ul><p><br><br><br><br><br></p><h1 id="å•ä½“å†…ç½®å¯¹è±¡"><a href="#å•ä½“å†…ç½®å¯¹è±¡" class="headerlink" title="å•ä½“å†…ç½®å¯¹è±¡"></a>å•ä½“å†…ç½®å¯¹è±¡</h1><p>ECMA-262 å¯¹å†…ç½®å¯¹è±¡çš„å®šä¹‰æ˜¯ï¼šâ€œç”±ECMAScript å®ç°æä¾›çš„ã€ä¸ä¾èµ–äºå®¿ä¸»ç¯å¢ƒçš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡åœ¨ECMAScript ç¨‹åºæ‰§è¡Œä¹‹å‰å°±å·²ç»å­˜åœ¨äº†ã€‚</p><h2 id="Globalå¯¹è±¡"><a href="#Globalå¯¹è±¡" class="headerlink" title="Globalå¯¹è±¡"></a>Globalå¯¹è±¡</h2><p>äº‹å®ä¸Šï¼Œæ²¡æœ‰å…¨å±€å˜é‡æˆ–å…¨å±€å‡½æ•°ï¼›æ‰€æœ‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å±æ€§å’Œå‡½æ•°ï¼Œéƒ½æ˜¯Global å¯¹è±¡çš„å±æ€§ã€‚ä¸å±äºä»»ä½•å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œæœ€ç»ˆéƒ½æ˜¯å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚<br>ä¾‹å¦‚ï¼ŒisNaN()ã€isFinite()ã€parseInt() ä»¥åŠ parseFloat() ç­‰ã€‚</p><ul><li>URI ç¼–ç æ–¹æ³• ï¼šGlobal å¯¹è±¡çš„encodeURI()å’ŒencodeURIComponent()æ–¹æ³•å¯ä»¥å¯¹URIï¼ˆUniform ResourceIdentifiersï¼Œé€šç”¨èµ„æºæ ‡è¯†ç¬¦ï¼‰è¿›è¡Œç¼–ç ï¼Œä»¥ä¾¿å‘é€ç»™æµè§ˆå™¨ã€‚<ul><li><strong>encodeURI()</strong>ï¼šä¸»è¦ç”¨äºæ•´ä¸ªURIï¼›</li><li><strong>encodeURIComponent()</strong> ï¼šä¸»è¦ç”¨äºå¯¹URI ä¸­çš„æŸä¸€æ®µã€‚</li><li><strong>decodeURI()</strong> ï¼šåªèƒ½å¯¹ä½¿ç”¨encodeURI()æ›¿æ¢çš„å­—ç¬¦è¿›è¡Œè§£ç ï¼›</li><li><strong>decodeURIComponent()</strong> ï¼šèƒ½å¤Ÿè§£ç ä½¿ç”¨encodeURIComponent()ç¼–ç çš„æ‰€æœ‰å­—ç¬¦ï¼Œå³å®ƒå¯ä»¥è§£ç ä»»ä½•ç‰¹æ®Šå­—ç¬¦çš„ç¼–ç ã€‚</li></ul></li></ul><blockquote><p>å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒencodeURI()ä¸ä¼šå¯¹æœ¬èº«å±äºURI çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚å†’å·ã€æ­£æ–œæ ã€é—®å·å’Œäº•å­—å·ï¼›è€ŒencodeURIComponent()åˆ™ä¼šå¯¹å®ƒå‘ç°çš„ä»»ä½•éæ ‡å‡†å­—ç¬¦è¿›è¡Œç¼–ç ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œ æˆ‘ä»¬ä½¿ç”¨encodeURIComponent() æ–¹æ³•çš„æ—¶å€™è¦æ¯”ä½¿ç”¨encodeURI()æ›´å¤šï¼Œå› ä¸ºåœ¨å®è·µä¸­æ›´å¸¸è§çš„æ˜¯å¯¹æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°è€Œä¸æ˜¯å¯¹åŸºç¡€URIè¿›è¡Œç¼–ç ã€‚</p></blockquote><ul><li><strong>eval() æ–¹æ³•</strong> ï¼š<br>é€šè¿‡ eval() æ‰§è¡Œçš„ä»£ç è¢«è®¤ä¸ºæ˜¯åŒ…å«è¯¥æ¬¡è°ƒç”¨çš„æ‰§è¡Œç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤è¢«æ‰§è¡Œçš„ä»£ç å…·æœ‰ä¸è¯¥æ‰§è¡Œç¯å¢ƒç›¸åŒçš„ä½œç”¨åŸŸé“¾ã€‚è¿™æ„å‘³ç€é€šè¿‡eval()æ‰§è¡Œçš„ä»£ç å¯ä»¥å¼•ç”¨åœ¨åŒ…å«ç¯å¢ƒä¸­å®šä¹‰çš„å˜é‡ï¼›åœ¨eval()ä¸­åˆ›å»ºçš„ä»»ä½•å˜é‡æˆ–å‡½æ•°éƒ½ä¸ä¼šè¢«æå‡ï¼Œå› ä¸ºåœ¨è§£æä»£ç çš„æ—¶å€™ï¼Œå®ƒä»¬è¢«åŒ…å«åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼›å®ƒä»¬åªåœ¨eval()æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºã€‚</li><li><strong>Global å¯¹è±¡çš„å±æ€§</strong></li><li><strong>window å¯¹è±¡</strong> ï¼š<br>ECMAScript è™½ç„¶æ²¡æœ‰æŒ‡å‡ºå¦‚ä½•ç›´æ¥è®¿é—®Global å¯¹è±¡ï¼Œä½†Web æµè§ˆå™¨éƒ½æ˜¯å°†è¿™ä¸ªå…¨å±€å¯¹è±¡ä½œä¸º window å¯¹è±¡çš„ä¸€éƒ¨åˆ†åŠ ä»¥å®ç°çš„ã€‚å› æ­¤ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°ï¼Œå°±éƒ½æˆä¸ºäº†windowå¯¹è±¡çš„å±æ€§ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> global = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;();</span><br><span class="line"><span class="comment">/* åœ¨æ²¡æœ‰ç»™å‡½æ•°æ˜ç¡®æŒ‡å®šthis å€¼çš„æƒ…å†µä¸‹</span></span><br><span class="line"><span class="comment">ï¼ˆæ— è®ºæ˜¯é€šè¿‡å°†å‡½æ•°æ·»åŠ ä¸ºå¯¹è±¡çš„æ–¹æ³•ï¼Œ</span></span><br><span class="line"><span class="comment">è¿˜æ˜¯é€šè¿‡è°ƒç”¨call()æˆ–apply()ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">thiså€¼ç­‰äºGlobal å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="Mathå¯¹è±¡"><a href="#Mathå¯¹è±¡" class="headerlink" title="Mathå¯¹è±¡"></a>Mathå¯¹è±¡</h2><p>Math å¯¹è±¡æœ‰å¦‚ä¸‹æ–¹æ³•ï¼š</p><ul><li><strong>min() æ–¹æ³•</strong> ï¼šç¡®å®šä¸€ç»„æ•°ä¸­çš„æœ€å°å€¼ï¼›</li><li><strong>max() æ–¹æ³•</strong> ï¼šç¡®å®šä¸€ç»„æ•°ä¸­çš„æœ€å¤§å€¼ï¼›</li></ul><blockquote><p>è¿™ä¸¤ä¸ªæ–¹æ³•ç»å¸¸ç”¨äº<br>ï¼ˆ1ï¼‰é¿å…å¤šä½™çš„å¾ªç¯ï¼›<br>ï¼ˆ2ï¼‰åœ¨if è¯­å¥ä¸­ç¡®å®šä¸€ç»„æ•°çš„æœ€å¤§/å°å€¼ã€‚</p></blockquote><p>è¦æ‰¾åˆ° <strong>æ•°ç»„</strong> ä¸­çš„æœ€å¤§æˆ–æœ€å°å€¼ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ apply() æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, values);</span><br><span class="line"><span class="comment">// å…³é”®æ˜¯æŠŠ Math å¯¹è±¡ä½œä¸ºapply()çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»è€Œæ­£ç¡®åœ°è®¾ç½®this å€¼ã€‚</span></span><br></pre></td></tr></table></figure><ul><li><strong>Math.ceil()</strong> ï¼šå‘ä¸Šèˆå…¥ï¼›</li><li><strong>Math.floor()</strong> ï¼šå‘ä¸‹èˆå…¥ï¼›</li><li><strong>Math.round()</strong> ï¼šå››èˆäº”å…¥ï¼›</li><li><strong>Math.random()</strong> ï¼šè¿”å› <strong>[ 0 , 1 )</strong> ä¸­çš„ä¸€ä¸ªéšæœºæ•°</li></ul><blockquote><p>åˆ©ç”¨Math.random()ä»æŸä¸ªæ•´æ•°èŒƒå›´å†…éšæœºé€‰æ‹©ä¸€ä¸ªå€¼ï¼š<br>å€¼ = Math.floor( Math.random() * å¯èƒ½å€¼çš„æ€»æ•° + ç¬¬ä¸€ä¸ªå¯èƒ½çš„å€¼ )</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectFrom</span>(<span class="params">lowerValue, upperValue</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> choices = upperValue - lowerValue + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * choices + lowerValue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num = selectFrom(<span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line">alert(num); <span class="comment">// ä»‹äº 2 å’Œ10 ä¹‹é—´ï¼ˆåŒ…æ‹¬ 2 å’Œ 10ï¼‰çš„ä¸€ä¸ªæ•°å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä»æ•°ç»„ä¸­éšæœºå–å‡ºä¸€é¡¹</span></span><br><span class="line"><span class="keyword">var</span> colors = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>, <span class="string">"yellow"</span>, <span class="string">"black"</span>, <span class="string">"purple"</span>, <span class="string">"brown"</span>];</span><br><span class="line"><span class="keyword">var</span> color = colors[selectFrom(<span class="number">0</span>, colors.length<span class="number">-1</span>)];</span><br><span class="line">alert(color); <span class="comment">// å¯èƒ½æ˜¯æ•°ç»„ä¸­åŒ…å«çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><p><br><br><br><br><br><br>ä»¥ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨ ECMAScript ä¸­ï¼Œå¼•ç”¨ç±»å‹æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå°†æ•°æ®å’ŒåŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h1 id=&quot;Object-ç±»å‹&quot;&gt;&lt;a href=&quot;#Object-ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;Object ç±»å‹&quot;&gt;&lt;/
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="JavaScripté«˜çº§ç¨‹åºè®¾è®¡" scheme="http://fujiafeng.com/tags/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript å˜é‡ã€ä½œç”¨åŸŸå’Œå†…å­˜é—®é¢˜</title>
    <link href="http://fujiafeng.com/2019/08/08/JavaScript-%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98/"/>
    <id>http://fujiafeng.com/2019/08/08/JavaScript-%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98/</id>
    <published>2019-08-08T12:28:03.000Z</published>
    <updated>2019-08-08T14:27:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼"><a href="#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼" class="headerlink" title="åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼"></a>åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼</h1><p>JavaScripté‡‡ç”¨æ¾æ•£ç±»å‹å˜é‡<br>&emsp;&emsp;<strong>æ¾æ•£ç±»å‹å˜é‡</strong> â€“ åœ¨ç‰¹å®šæ—¶é—´ç”¨äºä¿å­˜ç‰¹å®šå€¼çš„ä¸€ä¸ªåå­—ï¼Œ<strong>å˜é‡çš„å€¼</strong> åŠå…¶ <strong>æ•°æ®ç±»å‹</strong> å¯ä»¥åœ¨è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸå†…æ”¹å˜ã€‚</p><p><br></p><p><strong>åŸºæœ¬ç±»å‹å€¼</strong> </p><ul><li>ç®€å•çš„æ•°æ®æ®µï¼›  </li><li>æŒ‰å€¼è®¿é—®ï¼›  </li><li>å¯ä»¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®é™…çš„å€¼ï¼ˆæ ˆå†…å­˜ï¼Œå›ºå®šå¤§å°ï¼‰ï¼›</li></ul><p><br></p><p><strong>å¼•ç”¨ç±»å‹å€¼</strong> </p><ul><li>å¯èƒ½ç”±å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ï¼›  </li><li>æŒ‰å¼•ç”¨è®¿é—®ï¼›  </li><li>å®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å®é™…çš„å¯¹è±¡ï¼ˆå †å†…å­˜ï¼‰ï¼›</li><li>å½“å¤åˆ¶ä¿å­˜ç€å¯¹è±¡çš„æŸä¸ªå˜é‡æ—¶ï¼Œæ“ä½œçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼›åœ¨ä¸ºå¯¹è±¡æ·»åŠ å±æ€§æ—¶ï¼Œæ“ä½œçš„æ˜¯å®é™…çš„å¯¹è±¡ï¼ˆJS ä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼‰ï¼›</li><li>åªèƒ½ç»™ å¼•ç”¨ç±»å‹å€¼ åŠ¨æ€åœ°æ·»åŠ å±æ€§ã€‚</li></ul><p><br></p><p><strong>å¤åˆ¶å˜é‡å€¼</strong><br>åŸºæœ¬ç±»å‹å€¼ ä¼šåœ¨å˜é‡å¯¹è±¡ä¸Š åˆ›å»ºä¸€ä¸ªæ–°å€¼ï¼Œç„¶åæŠŠè¯¥å€¼ å¤åˆ¶ åˆ°ä¸ºæ–°å˜é‡åˆ†é…çš„ä½ç½®ä¸Šï¼›<br>&emsp;&emsp;å¼•ç”¨ç±»å‹å€¼ ä¹Ÿä¼šåœ¨å˜é‡å¯¹è±¡ä¸Š åˆ›å»ºä¸€ä¸ªæ–°å€¼ï¼Œç„¶åæŠŠè¯¥å€¼ å¤åˆ¶ åˆ°ä¸ºæ–°å˜é‡åˆ†é…çš„ä½ç½®ä¸Šï¼Œè¿™ä¸ªå€¼çš„å‰¯æœ¬ å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ å­˜å‚¨åœ¨å †ä¸­ çš„ä¸€ä¸ªå¯¹è±¡ã€‚<br><br></p><p><strong>ä¼ é€’å‚æ•°</strong><br>ECMAScript ä¸­ï¼Œæ‰€æœ‰å‡½æ•°çš„å‚æ•° éƒ½æ˜¯ <strong>æŒ‰å€¼ä¼ é€’</strong> çš„ï¼Œè¢«ä¼ é€’çš„å€¼ï¼ˆåŸºæœ¬ç±»å‹å€¼ / å¼•ç”¨ç±»å‹å€¼åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼‰ ä¼šè¢«å¤åˆ¶ç»™ä¸€ä¸ª å±€éƒ¨å˜é‡ï¼ˆå³å‘½åå‚æ•° / argumentså¯¹è±¡ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    obj.name = <span class="string">"Nicholas"</span>;</span><br><span class="line">    obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj.name = <span class="string">"Greg"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">setName(person);</span><br><span class="line">alert(person.name); <span class="comment">//"Nicholas"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœperson æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ï¼Œé‚£ä¹ˆperson å°±ä¼šè‡ªåŠ¨è¢«ä¿®æ”¹ä¸ºæŒ‡å‘å…¶name å±æ€§å€¼ä¸º"Greg"çš„æ–°å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯ï¼Œå½“æ¥ä¸‹æ¥å†è®¿é—®person.name æ—¶ï¼Œæ˜¾ç¤ºçš„å€¼ä»ç„¶æ˜¯"Nicholas"ã€‚</span></span><br><span class="line"><span class="comment">// è¿™è¯´æ˜å³ä½¿åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹äº†å‚æ•°çš„å€¼ï¼Œä½†åŸå§‹çš„å¼•ç”¨ä»ç„¶ä¿æŒæœªå˜ã€‚</span></span><br></pre></td></tr></table></figure><p><br></p><p><strong>æ£€æµ‹ç±»å‹</strong></p><ul><li><strong>typeof</strong> æ“ä½œç¬¦ â€”â€” ç¡®å®šä¸€ä¸ªå˜é‡æ˜¯ å­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼ï¼Œè¿˜æ˜¯undefined  çš„æœ€ä½³å·¥å…·ï¼›</li><li><strong>instanceof</strong> æ“ä½œç¬¦ â€”â€” æ£€æµ‹æ˜¯ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ï¼›</li></ul><p><br><br><br><br><br></p><h1 id="æ‰§è¡Œç¯å¢ƒåŠä½œç”¨åŸŸ"><a href="#æ‰§è¡Œç¯å¢ƒåŠä½œç”¨åŸŸ" class="headerlink" title="æ‰§è¡Œç¯å¢ƒåŠä½œç”¨åŸŸ"></a>æ‰§è¡Œç¯å¢ƒåŠä½œç”¨åŸŸ</h1><p><strong>æ‰§è¡Œç¯å¢ƒ</strong> å®šä¹‰äº† å˜é‡æˆ–å‡½æ•°æœ‰æƒè®¿é—®çš„å…¶ä»–æ•°æ®ï¼Œå†³å®šäº†å®ƒä»¬å„è‡ªçš„è¡Œä¸ºã€‚æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼ˆvariable objectï¼‰ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚</p><ul><li><strong>å…¨å±€æ‰§è¡Œç¯å¢ƒ</strong> â€”â€” æœ€å¤–å›´çš„ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚<br>åœ¨Webæµè§ˆå™¨ä¸­ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒè¢«è®¤ä¸ºæ˜¯window å¯¹è±¡ï¼Œå› æ­¤æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ä½œä¸ºwindow å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•åˆ›å»ºçš„ã€‚æŸä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„æ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥ç¯å¢ƒè¢«é”€æ¯ï¼Œä¿å­˜åœ¨å…¶ä¸­çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å®šä¹‰ä¹Ÿéšä¹‹é”€æ¯ã€‚</li><li><strong>å‡½æ•°æ‰§è¡Œç¯å¢ƒ</strong> â€”â€” å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­ã€‚<br>è€Œåœ¨å‡½æ•°æ‰§è¡Œä¹‹åï¼Œæ ˆå°†å…¶ç¯å¢ƒå¼¹å‡ºï¼ŒæŠŠæ§åˆ¶æƒè¿”å›ç»™ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚</li></ul><p><br></p><p><strong>ä½œç”¨åŸŸé“¾</strong>ï¼ˆscope chainï¼‰ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚</p><ul><li>ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œå§‹ç»ˆéƒ½æ˜¯ <strong>å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡</strong> ã€‚</li><li><strong>å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡</strong> å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚</li></ul><p><strong>æ ‡è¯†ç¬¦è§£æ</strong> æ²¿ç€ä½œç”¨åŸŸé“¾ä¸€çº§ä¸€çº§åœ°æœç´¢æ ‡è¯†ç¬¦çš„è¿‡ç¨‹ã€‚</p><ul><li>æœç´¢è¿‡ç¨‹å§‹ç»ˆä»ä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹ï¼Œç„¶åé€çº§åœ°å‘åå›æº¯ï¼Œç›´è‡³æ‰¾åˆ°æ ‡è¯†ç¬¦ä¸ºæ­¢ã€‚</li><li>å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰çš„å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒä¸­çš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚</li><li>è¿™äº›ç¯å¢ƒä¹‹é—´çš„è”ç³»æ˜¯ <strong>çº¿æ€§ã€æœ‰æ¬¡åº</strong> çš„ã€‚</li></ul><p><strong>å»¶é•¿ä½œç”¨åŸŸé“¾</strong>ï¼š<br>&emsp;&emsp;æœ‰äº›è¯­å¥å¯ä»¥åœ¨ä½œç”¨åŸŸé“¾çš„å‰ç«¯ä¸´æ—¶å¢åŠ ä¸€ä¸ªå˜é‡å¯¹è±¡ï¼Œè¯¥å˜é‡å¯¹è±¡ä¼šåœ¨ä»£ç æ‰§è¡Œåè¢«ç§»é™¤ã€‚å½“æ‰§è¡Œæµè¿›å…¥ä¸‹åˆ—ä»»ä½•ä¸€ä¸ªè¯­å¥æ—¶ï¼Œä½œç”¨åŸŸé“¾å°±ä¼šå¾—åˆ°åŠ é•¿ï¼š</p><ul><li>try-catch è¯­å¥çš„catch å—ï¼›</li><li>with è¯­å¥ã€‚<br>è¿™ä¸¤ä¸ªè¯­å¥éƒ½ä¼šåœ¨ä½œç”¨åŸŸé“¾çš„å‰ç«¯æ·»åŠ ä¸€ä¸ªå˜é‡å¯¹è±¡ã€‚å¯¹with è¯­å¥æ¥è¯´ï¼Œä¼šå°†æŒ‡å®šçš„å¯¹è±¡æ·»åŠ åˆ°ä½œç”¨åŸŸé“¾ä¸­ã€‚<br>å¯¹catch è¯­å¥æ¥è¯´ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«çš„æ˜¯è¢«æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡çš„å£°æ˜ã€‚</li></ul><p><strong>æ²¡æœ‰å—çº§ä½œç”¨åŸŸ</strong>ï¼š<br>å˜é‡å£°æ˜ â€”â€” ä½¿ç”¨ var å£°æ˜çš„å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°æœ€æ¥è¿‘çš„ç¯å¢ƒä¸­ï¼›å¦‚æœåˆå§‹åŒ–å˜é‡æ—¶æ²¡æœ‰ä½¿ç”¨var å£°æ˜ï¼Œè¯¥å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°å…¨å±€ç¯å¢ƒï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼‰ã€‚<br>æŸ¥è¯¢æ ‡è¯†ç¬¦ â€”â€” å¦‚æœå±€éƒ¨ç¯å¢ƒä¸­å­˜åœ¨ç€åŒåæ ‡è¯†ç¬¦ï¼Œå°±ä¸ä¼šä½¿ç”¨ä½äºçˆ¶ç¯å¢ƒä¸­çš„æ ‡è¯†ç¬¦ã€‚</p><p><br><br><br><br><br></p><h1 id="åƒåœ¾æ”¶é›†"><a href="#åƒåœ¾æ”¶é›†" class="headerlink" title="åƒåœ¾æ”¶é›†"></a>åƒåœ¾æ”¶é›†</h1><p>JavaScript å…·æœ‰<strong>è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶</strong>ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚æ‰€éœ€å†…å­˜çš„åˆ†é…ä»¥åŠæ— ç”¨å†…å­˜çš„å›æ”¶å®Œå…¨å®ç°äº†è‡ªåŠ¨ç®¡ç†ã€‚åƒåœ¾æ”¶é›†å™¨ä¼šæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”ï¼ˆæˆ–ä»£ç æ‰§è¡Œä¸­é¢„å®šçš„æ”¶é›†æ—¶é—´ï¼‰ï¼Œ<strong>å‘¨æœŸæ€§</strong> åœ°æ‰¾å‡ºé‚£äº›ä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å ç”¨çš„å†…å­˜ã€‚</p><p><strong>åƒåœ¾æ”¶é›†æ–¹å¼</strong> ï¼š</p><ul><li><strong>æ ‡è®°æ¸…é™¤</strong> ï¼ˆmark-and-sweepï¼‰â€”â€” å½“å˜é‡è¿›å…¥ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼Œåœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼‰æ—¶ï¼Œå°±å°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œå› ä¸ºåªè¦æ‰§è¡Œæµè¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚è€Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼ˆå½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•æ ‡è®°æ–¹å¼ï¼‰ã€‚ç„¶åï¼Œå®ƒä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ã€‚è€Œåœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡å°†è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼ŒåŸå› æ˜¯ç¯å¢ƒä¸­çš„å˜é‡å·²ç»æ— æ³•è®¿é—®åˆ°è¿™äº›å˜é‡äº†ã€‚æœ€åï¼Œåƒåœ¾æ”¶é›†å™¨å®Œæˆå†…å­˜æ¸…é™¤å·¥ä½œï¼Œé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</li><li><strong>å¼•ç”¨è®¡æ•°</strong> ï¼ˆreference countingï¼‰â€”â€” è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚å½“åƒåœ¾æ”¶é›†å™¨è¿è¡Œæ—¶ï¼Œå®ƒå°±ä¼šé‡Šæ”¾é‚£äº›å¼•ç”¨æ¬¡æ•°ä¸ºé›¶çš„å€¼æ‰€å ç”¨çš„å†…å­˜ã€‚å€¼å¾—æ³¨æ„çš„é—®é¢˜æ˜¯ï¼š<strong>å¾ªç¯å¼•ç”¨</strong> ï¼ŒæŒ‡çš„æ˜¯å¯¹è±¡A ä¸­åŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡B çš„æŒ‡é’ˆï¼Œè€Œå¯¹è±¡B ä¸­ä¹ŸåŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹è±¡A çš„å¼•ç”¨ã€‚</li></ul><p><br></p><p><strong>æ€§èƒ½é—®é¢˜ &amp; ç®¡ç†å†…å­˜</strong> ï¼š<br>&emsp;&emsp;éšç€IE7 çš„å‘å¸ƒï¼ŒJavaScript å¼•æ“çš„åƒåœ¾æ”¶é›†ä¾‹ç¨‹æ”¹å˜äº†å·¥ä½œæ–¹å¼ï¼šè§¦å‘åƒåœ¾æ”¶é›†çš„å˜é‡åˆ†é…ã€å­—é¢é‡å’Œï¼ˆæˆ–ï¼‰æ•°ç»„å…ƒç´ çš„ä¸´ç•Œå€¼è¢«è°ƒæ•´ä¸ºåŠ¨æ€ä¿®æ­£ã€‚<br>&emsp;&emsp;è€Œä¼˜åŒ–å†…å­˜å ç”¨çš„æœ€ä½³æ–¹å¼ï¼Œå°±æ˜¯ä¸ºæ‰§è¡Œä¸­çš„ä»£ç åªä¿å­˜å¿…è¦çš„æ•°æ®ã€‚ä¸€æ—¦æ•°æ®ä¸å†æœ‰ç”¨ï¼Œæœ€å¥½é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸ºnull æ¥é‡Šæ”¾å…¶å¼•ç”¨â€”â€”è¿™ä¸ªåšæ³•å«åš <strong>è§£é™¤å¼•ç”¨</strong> ï¼ˆdereferencingï¼‰ã€‚è¿™ä¸€åšæ³•é€‚ç”¨äºå¤§å¤šæ•°å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚å±€éƒ¨å˜é‡ä¼šåœ¨å®ƒä»¬ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶è‡ªåŠ¨è¢«è§£é™¤å¼•ç”¨ã€‚<br>è§£é™¤å¼•ç”¨çš„çœŸæ­£ä½œç”¨æ˜¯ <strong>è®©å€¼è„±ç¦»æ‰§è¡Œç¯å¢ƒ</strong> ï¼Œä»¥ä¾¿åƒåœ¾æ”¶é›†å™¨ä¸‹æ¬¡è¿è¡Œæ—¶å°†å…¶å›æ”¶ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼&quot;&gt;&lt;a href=&quot;#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼&quot;&gt;&lt;/a&gt;åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼&lt;/h1&gt;&lt;p&gt;JavaScripté‡‡ç”¨æ¾æ•£ç±»å‹å˜é‡&lt;br&gt;&amp;emsp;&amp;emsp;
      
    
    </summary>
    
    
    
      <category term="JavaScript" scheme="http://fujiafeng.com/tags/JavaScript/"/>
    
      <category term="JavaScripté«˜çº§ç¨‹åºè®¾è®¡" scheme="http://fujiafeng.com/tags/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>ä¾§è€³å€¾å¬ Vol.1</title>
    <link href="http://fujiafeng.com/2019/08/06/my_sentence/"/>
    <id>http://fujiafeng.com/2019/08/06/my_sentence/</id>
    <published>2019-08-06T14:45:46.000Z</published>
    <updated>2020-01-05T14:03:49.923Z</updated>
    
    <content type="html"><![CDATA[<p><em>#æŠ„å¥å­#</em></p><blockquote><p>ã€Œé‚£æ—¥æ’è¦‹ä½ ï¼Œè‰è‰²é¢¨è¡£ï¼Œè‡ªå¾Œç§å®…æ“ºè¨­ä¾¿æ›äº†ç¶ ã€‚ã€  &emsp;â€”â€” æœ¨å¿ƒ</p></blockquote><p><br></p><blockquote><p>ã€Œä½•ç‚ºæ€å¿µï¼Ÿã€<br> &emsp;&emsp;ã€Œæ—¥æœˆï¼Œæ˜Ÿè¾°ï¼Œæ› é‡é›¨è½ã€‚ã€<br> &emsp;&emsp;ã€Œå¯å¦å…·é«”ï¼Ÿã€<br> &emsp;&emsp;ã€Œå±±å·ï¼Œæ±Ÿæµï¼Œç…™è£Šæ¹–æ³Šã€‚ã€<br> &emsp;&emsp;ã€Œå¯å¦å†å…·é«”ï¼Ÿã€<br> &emsp;&emsp;ã€Œè¬ç‰©æ˜¯ä½ ï¼Œç„¡å¯èº²ã€‚ã€</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;#æŠ„å¥å­#&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œé‚£æ—¥æ’è¦‹ä½ ï¼Œè‰è‰²é¢¨è¡£ï¼Œè‡ªå¾Œç§å®…æ“ºè¨­ä¾¿æ›äº†ç¶ ã€‚ã€  &amp;emsp;â€”â€” æœ¨å¿ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œä½•ç‚ºæ€å¿µï¼Ÿã€&lt;br&gt; &amp;emsp;
      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="ä¾§è€³å€¾å¬" scheme="http://fujiafeng.com/tags/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC/"/>
    
  </entry>
  
  <entry>
    <title>ä¾§è€³å€¾å¬ Vol.2</title>
    <link href="http://fujiafeng.com/2019/08/06/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-2/"/>
    <id>http://fujiafeng.com/2019/08/06/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC-Vol-2/</id>
    <published>2019-08-06T14:43:44.000Z</published>
    <updated>2019-08-06T15:26:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>#æŠ„å¥å­#</em></p><blockquote><p>ã€Œä½ è¦è¨˜å¾—é‚£äº›é»‘æš—ä¸­é»˜é»˜æŠ±ç·Šä½ çš„äººï¼Œé€—ä½ ç¬‘çš„äººï¼Œé™ªä½ å¾¹å¤œèŠå¤©çš„äººï¼Œåè»Šä¾†çœ‹æœ›ä½ çš„äººï¼Œé™ªä½ å“­éçš„äººï¼Œåœ¨é†«é™¢é™ªä½ çš„äººï¼Œç¸½æ˜¯ä»¥ä½ ç‚ºé‡çš„äººï¼Œå¸¶è‘—ä½ å››è™•éŠè•©çš„äººï¼Œèªªæƒ³å¿µä½ çš„äººã€‚<br>&emsp;&emsp;&emsp;æ˜¯é€™äº›äººçµ„æˆä½ ç”Ÿå‘½ä¸­ä¸€é»ä¸€æ»´çš„æº«æš–ï¼Œæ˜¯é€™äº›æº«æš–ä½¿ä½ é é›¢é™°éœ¾ï¼Œæ˜¯é€™äº›æº«æš–ä½¿ä½ æˆç‚ºå–„è‰¯çš„äººã€‚ã€  &emsp;â€”â€” æ‘ä¸Šæ˜¥æ¨¹</p></blockquote><p><br></p><blockquote><p>ã€Œä½ æ˜¯ æˆ‘å‚·å¿ƒæ™‚ä»æƒ³è¦ç¬‘è‘—å»è¦‹çš„äºº<br>&emsp;&emsp;&emsp;æ˜¯æˆ‘ è‡ªæ•‘ä¹è¡“é‚„æƒ³è¦ä¼¸æ‰‹æ‹‰ä½çš„äºº â€‹â€‹â€‹ã€</p></blockquote><p><br></p><blockquote><p>ã€Œæˆ‘ç„¡æ³•æ§åˆ¶è‡ªå·±å°ä½ çš„é›£ä»¥å¿˜æ‡·ï¼Œ<br>&emsp;&emsp;&emsp;å¯æ˜¯é—œæ–¼ä½ çš„ä¸€åˆ‡ æˆ‘å†ä¹Ÿæ²’æœ‰æœŸå¾…ã€‚ã€  &emsp;â€”ã€ŠOne Dayã€‹</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;#æŠ„å¥å­#&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€Œä½ è¦è¨˜å¾—é‚£äº›é»‘æš—ä¸­é»˜é»˜æŠ±ç·Šä½ çš„äººï¼Œé€—ä½ ç¬‘çš„äººï¼Œé™ªä½ å¾¹å¤œèŠå¤©çš„äººï¼Œåè»Šä¾†çœ‹æœ›ä½ çš„äººï¼Œé™ªä½ å“­éçš„äººï¼Œåœ¨é†«é™¢é™ªä½ çš„äººï¼Œç¸½æ˜¯ä»¥ä½ ç‚ºé‡çš„äººï¼Œå¸¶è‘—ä½ å››è™•éŠè•©çš„äººï¼Œèªªæƒ³å¿µä½ çš„äººã€‚&lt;br&gt;&amp;emsp;&amp;emsp;&amp;em
      
    
    </summary>
    
    
    
      <category term="ç”Ÿæ´»" scheme="http://fujiafeng.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="ä¾§è€³å€¾å¬" scheme="http://fujiafeng.com/tags/%E4%BE%A7%E8%80%B3%E5%80%BE%E5%90%AC/"/>
    
  </entry>
  
</feed>
